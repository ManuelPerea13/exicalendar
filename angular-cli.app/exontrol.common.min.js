/* @license Copyright (C) Exontrol. All rights reserved. */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):(t="undefined"!=typeof globalThis?globalThis:t||self,n(t.exontrol={}))}(this,function(t){"use strict";function n(t){return t instanceof Array}function i(t){return t instanceof l.Arr}function e(t){return t instanceof Function}function r(t){return t instanceof Date}function s(t){return t instanceof Object}function o(t){return t.exontrol=t.exontrol||{}}function a(t){return t.exontrol=t.exontrol||{}}function h(t){return t&&t.exontrol||null}function u(t){var n,i=1;return t?~(n="[]*?#".indexOf(t))&&(i=n+2):i=7,i}var l=l||{version:"2.0"},c=new Date(2018,0,1,6,0,0),f=new Date(2018,0,1,18,0,0),g=Date.prototype,d=String.prototype,v=Array.prototype,p=CanvasRenderingContext2D.prototype;Object.addPrototypeOf=function(t,n){for(var i=t,e=this.getPrototypeOf(i);e!==Object.prototype;e=this.getPrototypeOf(i))i=e;return this.setPrototypeOf(i,n),t},Math.trunc||(Math.trunc=function(t){return t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t}),Math.sign||(Math.sign=function(t){return(t>0)-(t<0)||+t}),d.sWith=d.startsWith=function(t,n){var i=!0,e=(t=l.ToS(t)).length;if(e){n=n||0;if(i=this.length-n>=e)for(var r=0;i&&r<e;r++)i=this.charAt(r+n)==t.charAt(r)}return i},d.eWith=d.endsWith=function(t,n){return(null==n||n>this.length)&&(n=this.length),this.substring(n-t.length,n)==t},d.sWithI=function(t,n){var i=(t=l.ToS(t)).length,e=!0;if(i){n=n||0;if(e=this.length-n>=i)for(var r=0;e&&r<i;r++)e=this.charAt(r+n).toLocaleLowerCase()==t.charAt(r).toLocaleLowerCase()}return e},d.eWithI=function(t,n){return(void 0===n||n>this.length)&&(n=this.length),this.substring(n-t.length,n).toLocaleLowerCase()===t.toLocaleLowerCase()},d.toWidth=function(t){return t.measureText(this).width},d.breakAt=function(t,n){return l.bin(this.length,function(i){return this.substr(0,i).toWidth(t)<n},this)},d.expTab=function(){return this.replace(l.dtTAB,l.bExpTAB?l.dtExpTAB:"")},d.countOf=function(t){var n=t.length,i=0,e=-n;if(n)for(;-1!=(e=this.indexOf(t,e+n));)i++;return i},d.repAll=function(t,n){var i="",e=0,r=-1,s=t.length;if(s)for(;~(r=this.indexOf(t,e));)i+=this.substr(e,r-e)+n,e=r+s;return i+=this.substr(e)},d.toProper=function(){return this.charAt(0).toLocaleUpperCase()+this.substr(1).toLocaleLowerCase()},d.toReverse=function(){for(var t="",n=this.length-1;n>=0;n--)t+=this.charAt(n);return t},d.ltrim=function(){for(var t=this.length,n=0;n<t&&"\t ".indexOf(this.charAt(n))>=0;)n++;return this.substr(n)},d.rtrim=function(){for(var t=this.length-1;t>=0&&-1!="\t ".indexOf(this.charAt(t));)t--;return this.substr(0,t+1)},d.splitP=function(t,n,i){function e(t){return null==n||t.length<n}var r=[],s=(i=i||"([{}])").length/2,o=(t=l.ToS(t)).length;if(o)for(var a,h="",u=0,c=this.length,f=!0,g=0;f&&u<c;u++)if(!g&&this.sWith(t,u)&&(f=e(r)))r.push(h),h="",u+=o-1;else{var d=i.indexOf(a=this.charAt(u));d>=0&&(g+=d<s?1:g>0?-1:0),h+=a}return e(r)&&r.push(o?h:this),r},Date.Now=function(){return new Date(Date.now())},Date.Today=function(){var t=Date.Now();return t.setUTCHours(0,0,0,0),t},Date.Create=function(t,n,i,e,r,s){var o,a=Date.Now();return null!=t&&(l.IsS(t)?a=l.IsD(o=l.P(t).getValue())&&o||Date.Parse(t)||a:l.IsD(t)?a=Date.Copy(t):(a=new Date(Date.UTC(t,n-1||0,i||1,e||0,r||0,s||0,0)),t<100&&a.setFullYear(t))),a},Date.Parse=function(t){if(t)try{var n=new Date(Date.parse(t));if(n.isValid())return n.setTime(n.getTime()-n.getTimezoneOffset()*l.msmin),n}catch(t){}return null},Date.Copy=function(t){return t.copy()},Date.Date=function(t){return r(t)||(t=new Date(t)),(t=Date.Copy(t)).setUTCHours(0,0,0,0),t},Date.SetHObj=function(t){return l.H.SetEObj(function(n,i){return l.HF.Date.Evaluate(t,n,i)},t)},Date.ResHObj=function(t){l.H.SetEObj(t)},Date.IsWknd=function(t,n){var i=!1;return n&&!(i=!t)&&n>1&&!(i=6==t)&&n>2&&(i=t>l.days-n),i},Date.Conv=function(){var t=function(){var t=new Map,n=31536e3;return t.set(0,n),t.set(1,n/2),t.set(2,7884e3),t.set(16,2628e3),t.set(17,876e3),t.set(256,604800),t.set(4096,86400),t.set(65536,3600),t.set(1048576,60),t.set(16777216,1),t}();return function(n,i,e){return n&&i!=e&&(n*=t.get(i)/t.get(e)),n}}(),g.gH2=function(){return this.getTime()+";"+l.Loc.Get().language},g.isValid=function(){return!isNaN(this.valueOf())},g.toString=function(){return this.toUTCString()},g.toFormat=function(){var t="#";return t+=this.GetMonth(),t+="/",t+=this.GetDay(),t+="/",t+=this.GetYear(),(this.GetHour()||this.GetMinute()||this.GetSecond())&&(t+=" ",t+=l.Pad0(this.GetHour(),2),t+=":",t+=l.Pad0(this.GetMinute(),2),t+=":",t+=l.Pad0(this.GetSecond(),2)),t+="#"},g.toLocDS=function(t,n){return this.toLocaleDateString(t,n)},g.toLocTS=function(t,n){return this.toLocaleTimeString(t,n)},g.copy=function(){return new Date(this.getTime())},g.yDay=function(){return Math.round((Date.Date(this)-Date.Create(this.GetYear()))/l.msday)},g.add=function(t){return t&&this.setTime(this.getTime()+t),this},g.addD=function(t){return this.add((t||0)*l.msday)},g.SetDate=function(t,n,i,e,r,s){return this.setTime(Date.Create(t,n,i,e,r,s).getTime()),this},g.GetYear=function(){return this.getUTCFullYear()},g.SetYear=function(t){return this.setUTCFullYear(t),this},g.GetHalfYear=function(){return Math.trunc((this.GetMonth()-1)/6)},g.GetQuarterYear=function(){return Math.trunc((this.GetMonth()-1)/3)},g.GetMonth=function(){return this.getUTCMonth()+1},g.SetMonth=function(t){return this.setUTCMonth(t-1),this},g.GetThirdMonth=function(){return Math.min(2,Math.trunc(Math.max(0,this.GetDay()-1)/10))},g.GetDay=function(){return this.getUTCDate()},g.SetDay=function(t){return this.setUTCDate(t),this},g.GetWeekDay=function(){return this.getUTCDay()},g.GetYearDay=function(){return 1+this.yDay()},g.GetHour=function(){return this.getUTCHours()},g.SetHour=function(t){return this.setUTCHours(t),this},g.IsAM=function(){return this.GetHour()<12},g.GetHourAM=function(){var t=this.GetHour();return 0==(t=t<12?t:t-12)?12:t},g.GetMinute=function(){return this.getUTCMinutes()},g.SetMinute=function(t){return this.setUTCMinutes(t),this},g.GetSecond=function(){return this.getUTCSeconds()},g.SetSecond=function(t){return this.setUTCSeconds(t),this},Date.U2N=function(t){return l.f2S(t,l.UnitEnum)},Date.S2I=function(t){return l.ToI(t,1)},g.CbkN=function(t){return this[Date.U2N(t).replace("ex","Next")]},g.Next=function(t,n){var i=this.CbkN(t);return i&&i.call(this,n)||this},g.CbkP=function(t){return this[Date.U2N(t).replace("ex","Prev")]},g.Prev=function(t,n){var i=this.CbkP(t);return i&&i.call(this,n)||this},g.GetUnit=function(t){var n=Date.U2N(t).replace("ex","Get");return this[n]&&this[n]()},g.Reset=function(t){var n=this.GetYear();switch(t){case 0:this.SetDate(n,1,1,0,0,0,0);break;case 1:this.SetDate(n,1+6*this.GetHalfYear(),1,0,0,0,0);break;case 2:this.SetDate(n,1+3*this.GetQuarterYear(),1,0,0,0,0);break;case 16:this.SetDate(n,this.GetMonth(),1,0,0,0,0);break;case 17:this.SetDate(n,this.GetMonth(),10*this.GetThirdMonth()+1,0,0,0,0);break;case 256:this.SetDate(n,this.GetMonth(),this.GetDay(),0,0,0,0),this.PrevDay(this.WeekOff());break;case 4096:this.setUTCHours(0,0,0,0);break;case 65536:this.setUTCMinutes(0,0,0);break;case 1048576:this.setUTCSeconds(0,0);break;case 16777216:this.setUTCMilliseconds(0)}return this},g.NextYear=function(t){return(t=Date.S2I(t))&&this.SetYear(this.GetYear()+t),this},g.PrevYear=function(t){return this.NextYear(-Date.S2I(t))},g.NextHalfYear=function(t){return(t=Date.S2I(t))?this.NextMonth(t*l.months/2):this},g.PrevHalfYear=function(t){return this.NextHalfYear(-Date.S2I(t))},g.NextQuarterYear=function(t){return(t=Date.S2I(t))?this.NextMonth(t*l.months/4):this},g.PrevQuarterYear=function(t){return this.NextQuarterYear(-Date.S2I(t))},g.NextMonth=function(t){return(t=Date.S2I(t))&&this.SetMonth(this.GetMonth()+t),this},g.PrevMonth=function(t){return this.NextMonth(-Date.S2I(t))},g.NextThirdMonth=function(t){return(t=Date.S2I(t))&&(this.NextDay(10*t),31==this.GetDay()&&this.NextDay(Math.sign(t))),this},g.PrevThirdMonth=function(t){return this.NextThirdMonth(-Date.S2I(t))},g.NextWeek=function(t){return(t=Date.S2I(t))&&this.NextDay(t*l.days),this},g.PrevWeek=function(t){return this.NextWeek(-Date.S2I(t))},g.NextDay=function(t){return(t=Date.S2I(t))&&this.SetDay(this.GetDay()+t),this},g.PrevDay=function(t){return this.NextDay(-Date.S2I(t))},g.NextHour=function(t){return(t=Date.S2I(t))&&this.SetHour(this.GetHour()+t),this},g.PrevHour=function(t){return this.NextHour(-Date.S2I(t))},g.NextMinute=function(t){return(t=Date.S2I(t))&&this.SetMinute(this.GetMinute()+t),this},g.PrevMinute=function(t){return this.NextMinute(-Date.S2I(t))},g.NextSecond=function(t){return(t=Date.S2I(t))&&this.SetSecond(this.GetSecond()+t),this},g.PrevSecond=function(t){return this.NextSecond(-Date.S2I(t))},g.Compare=function(t){return Math.trunc((this.getTime()-t.getTime())/1e3)},g.WeekOff=function(){var t=this.GetWeekDay()-l.Loc.Get().firstWeekDay;return t<0&&(t+=l.days),t},g.WeekColDay=function(){var t=this.copy().Reset(16),n=this.GetWeekDay()-t.GetWeekDay();return n&&(n<0&&(n=l.days+n),t.NextDay(n)),t},g.IsWknd=function(){return Date.IsWknd(this.GetWeekDay(),l.Loc.Get().weekend)},g.Min=function(t){return this-t<0?this:t},g.Max=function(t){return this-t>0?this:t};var C=0;g.GetWeekNo=g.GetWeek=function(t){var n,i=(t=t||l.Loc.Get()||{}).firstWeekDay||0,e=this.GetYear(),r=Date.Date(this),s=l.days;if(t.weekNumberAs){var o=Date.Create(e).GetWeekDay();if((n=1+Math.trunc((this.GetYearDay()+(o>=i?o-i:s-(i-o))-1)/s))>52){var a=Date.Create(e+1);o=a.GetWeekDay();var h=a.copy();h.addD(-(o>=i?o-i:s-(i-o))),r>=h&&(n=1)}}else{var u,c=Date.Create(e,1,4),f=c.GetWeekDay()-i;if(f<0&&(f+=s),u=Math.round((r.getTime()-c.getTime())/l.msday)+f,n=u<0?Date.Create(e-1,12,31).GetWeekNo():1+Math.trunc(u/s),!C&&n>52){C++;var g=1,d=r.copy();for(d.addD(-1);n==d.GetWeekNo();d.addD(-1))g++;for((d=r.copy()).addD(1);n==d.GetWeekNo();d.addD(1))g++;g<s&&(n=1),C--}}return n},g.QD=function(){return this.GetDay()},g.QDD=function(){return l.Pad0(this.QD(),2)},g.QDDD=function(){return this.QDDDD().substr(0,3)},g.QDDDD=function(){return l.Loc.Get().days[this.GetWeekDay()]},g.QD1=function(){return this.QDDDD().substr(0,1)},g.QD2=function(){return this.QDDDD().substr(0,2)},g.QD3=function(){return this.QDDD()},g.QLOC_D1=function(){return this.toLocDS(void 0,{weekday:"narrow"})},g.QLOC_D2=function(){return this.QLOC_DDDD().substr(0,2)},g.QLOC_D3=function(){return this.QLOC_DDDD().substr(0,3)},g.QLOC_DDD=function(){return this.toLocDS(void 0,{weekday:"short"})},g.QLOC_DDDD=function(){return this.toLocDS(void 0,{weekday:"long"})},g.QI=function(){return this.getTime()},g.QW=function(){return this.GetWeekDay()+1},g.QWW=function(){return this.GetWeekNo()},g.QM=function(){return this.GetMonth()},g.QMR=function(){return l.Loc.Get().monthsR[this.GetMonth()-1]},g.QMM=function(){return l.Pad0(this.QM(),2)},g.QMMM=function(){return this.QMMMM().substr(0,3)},g.QMMMM=function(){return l.Loc.Get().months[this.GetMonth()-1]},g.QM1=function(){return this.QMMMM().substr(0,1)},g.QM2=function(){return this.QMMMM().substr(0,2)},g.QM3=function(){return this.QMMM()},g.QLOC_M1=function(){return this.toLocDS(void 0,{month:"narrow"})},g.QLOC_M2=function(){return this.QLOC_MMMM().substr(0,2)},g.QLOC_M3=function(){return this.QLOC_MMMM().substr(0,3)},g.QLOC_MMM=function(){return this.toLocDS(void 0,{month:"short"})},g.QLOC_MMMM=function(){return this.toLocDS(void 0,{month:"long"})},g.QQ=function(){return this.GetQuarterYear()+1},g.QY=function(){return this.GetYearDay()},g.QYY=function(){return l.Pad0(this.GetYear().toString().slice(-2),2)},g.QHY=function(){return this.GetHalfYear()+1},g.QYYYY=function(){return this.GetYear()},g.QLOC_G=function(){return Date.Create(1111,11,11).toLocDS(void 0,{year:"numeric",era:"narrow"}).replace("1111","")},g.QLOC_GG=function(){return Date.Create(1111,11,11).toLocDS(void 0,{year:"numeric",era:"short"}).replace("1111","")},g.QLOC_SDATE=function(){return this.toLocDS()},g.QLOC_LDATE=function(){return this.toLocDS(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})},g.QLOC_DSEP=function(){return Date.Create(1111,11,11).toLocDS(void 0,{month:"numeric",day:"numeric"}).repAll("1","")},g.QH=function(t){var n=!1;return null!=t&&null==(n=t.bDisplayAMPM)&&(n=t.GetEF().indexOf("AM/PM")>=0,t.bDisplayAMPM=n),n?this.GetHourAM():this.GetHour()},g.QHH=function(t){return l.Pad0(this.QH(t),2)},g.QH12=function(){return this.GetHourAM()},g.QHH12=function(){return l.Pad0(this.GetHourAM(),2)},g.QN=function(){return this.GetMinute()},g.QNN=function(){return l.Pad0(this.GetMinute(),2)},g.QS=function(){return this.GetSecond()},g.QSS=function(){return l.Pad0(this.GetSecond(),2)},g.QAMPM=function(){return l.Loc.Get().ampm[this.IsAM()?0:1]},g.QLOC_AMPM=function(){return this.IsAM()?l.GetAM():l.GetPM()},g.QLOC_AP=function(){return this.QLOC_AMPM().substr(0,1)},g.QLOC_TIME=function(){return this.toLocTS()},g.QLOC_TIME24=function(){return this.toLocTS(void 0,{hour12:!1})},g.QLOC_TSEP=function(){return Date.Today().toLocTS(void 0,{hour12:!1,hour:"numeric",minute:"numeric"}).repAll("0","")},g.QLOC_Y=function(){return this.QLOC_YY().toString().slice(-1)},g.QLOC_YY=function(){return this.toLocDS(void 0,{year:"2-digit"})},g.QLOC_YYYY=function(){return this.toLocDS(void 0,{year:"numeric"})},p.scaleOnFont=function(t,n){return l.GetFontSize(this)*t/(n||l.defScaleFontSize)},p.fontHeight=function(){return l.GetFontHeight(this)},p.noFD=function(t,n){this.saveSts("fillStyle","strokeStyle","fontDeco","font"),this.oFD=null,this.fillStyle=this.strokeStyle="#000000",this.font=this.font.replace("italic","").replace("bold",""),t.call(n||this),this.loadSts()},p.onRenderText=function(){function t(t,n,i,e){t.saveSts("lineWidth","strokeStyle"),t.beginPath(),t.lineWidth=Math.max(1,Math.round(l.GetFontSize(t)/l.defScaleFontSize)),t.strokeStyle=t.nRT?t.strokeStyle:t.fillStyle,t.moveTo(n,e),t.lineTo(i,e),t.stroke(),t.loadSts()}return function(n){var i=this.oFD;if(i&&(i.bgColor&&this.fillSolidRect(n,i.bgColor),i.underline||i.strikeout)){var e=n[0],r=n[1],s=n[2],o=n[3];i.underline&&t(this,e,e+s,r+o),i.strikeout&&t(this,e,e+s,r+o/2)}}}(),p.onTextOut=function(t,n,i){function e(t,n,i,e,r){var s=null;try{switch(t.mode){case 0:(s=n.createLinearGradient(e,r,e+i.toWidth(n),r)).addColorStop(0,t.vRT),s.addColorStop(1,t.color);break;case 2:(s=n.createLinearGradient(e,r,e+i.toWidth(n),r)).addColorStop(0,t.vRT),s.addColorStop(.5,t.color),s.addColorStop(1,t.vRT);break;case 3:(s=n.createLinearGradient(e,r,e,r+("bottom"==n.textBaseline?-1:1)*n.fontHeight())).addColorStop(0,t.vRT),s.addColorStop(.5,t.color),s.addColorStop(1,t.vRT);break;default:(s=n.createLinearGradient(e,r,e,r+("bottom"==n.textBaseline?-1:1)*n.fontHeight())).addColorStop(0,t.vRT),s.addColorStop(1,t.color)}}catch(t){}return s}var r=this.nRT||0;this.oGC&&function(t,n,i,r,s,o){t.vRT=null,i?(t.vRT=n.strokeStyle,n.strokeStyle=e(t,n,r,s,o)):(t.vRT=n.fillStyle,n.fillStyle=e(t,n,r,s,o))}(this.oGC,this,r,t,n,i),r?this.strokeText(t,n,i):this.fillText(t,n,i),this.oGC&&function(t,n,i){t.vRT&&(i?n.strokeStyle=t.vRT:n.fillStyle=t.vRT,t.vRT=null)}(this.oGC,this,r)},p.renderText=function(t,n,i){t&&(this.oFD&&this.onRenderText([n,i,t.toWidth(this),this.fontHeight()]),this.onTextOut(t,n,i))},p.drawHTMLText=function(t,n,i,e){return l.H.Draw(this,t,n,i,e)},p.sizeHTMLText=function(t,n,i){return this.drawHTMLText(t,[0,0,8,this.fontHeight()],1024|(null!=n?n:32),i)},p.drawHTMLDate=function(t,n,i,e,r){return l.H.DrawDate(this,t,n,i,e,r)},p.sizeHTMLDate=function(t,n,i,e){return this.drawHTMLDate(t,n,[0,0,8,this.fontHeight()],1024|(null!=i?i:32),e)},p.drawText=function(t,n,i,e){var r={width:this.measureText(t).width,height:this.fontHeight()},s=n[0],o=n[1];if(!(1024&i)){if(15&i){var a=l.G.Align(i,r,n);s+=a[0],o+=a[1]}this.renderText(t,s,o)}return r},p.drawHTMLPicture=function(t,n,i,e){return l.HP.DrawS2(this,t,n,i,e)},p.drawShape=function(t,n,i){return l.S.Draw(this,t,n,i)},p.drawFrameRect=function(t,n){l.DrawFrameRect(this,t,n)},p.drawFrameLine=function(t,n,i,e,r){l.DrawFrameLine(this,t,n,i,e,r)},p.drawLine=function(t,n,i){l.DrawLine(this,t,n,i)},p.drawHLine=function(t,n,i){l.DrawHLine(this,t,n,i)},p.drawVLine=function(t,n,i){l.DrawVLine(this,t,n,i)},p.drawEdge=function(t,n,i){l.DrawEdge(this,t,n,i)},p.fillSolidRect=function(t,n){l.FillSolidRect(this,t,n)},p.drawFrameEllipse=function(t,n){l.DrawFrameEllipse(this,t,n)},p.fillSolidEllipse=function(t,n){l.FillSolidEllipse(this,t,n)},p.fillPatternRect=function(t,n,i){l.FillPatternRect(this,t,n,i)},p.saveSts=function(){var t=o(this);t.rgSt=t.rgSt||[];var n=[],i=arguments.length;if(i)for(var e=0;e<i;e++)this.saveSt(n,arguments[e]);return t.rgSt.push(n),n},p.saveSt=function(t,n){var i=null;switch(n){case"lineDash":i=this.getLineDash();break;case"fontDeco":i=this.oFD;break;default:i=this[n]}t.push({property:n,value:i})},p.setSt=function(t,n,i){if(void 0!==i)switch(this.saveSt(t,n),n){case"lineDash":this.setLineDash(i);break;default:this[n]=i}},p.loadSts=function(){var t=o(this);if(t.rgSt){var n=this;t.rgSt.pop().forEach(function(t){var i=t.value;switch(t.property){case"lineDash":n.setLineDash(i);break;case"fontDeco":n.oFD=i;break;default:n[t.property]=i}})}t.rgSt.length||(t.rgSt=null)},p.grayscale=function(t,n){l.Grayscale(this,t,n)},p.bcscale=function(t,n,i){l.BCscale(this,t,n,i)},p.ellipse||(p.ellipse=function(t,n,i,e,r,s,o,a){function h(r){return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*e}}function u(t,n,r){var s=h(n),o=h(n+r),a=n,u=a+r,l=Math.tan(r/2);l*=l,k=Math.sin(r)*((Math.sqrt(4+3*l)-1)/3),q1={x:s.x+k*(-i*Math.sin(a)),y:s.y+k*(e*Math.cos(a))},q2={x:o.x-k*(-i*Math.sin(u)),y:o.y-k*(e*Math.cos(u))},t.bezierCurveTo(q1.x,q1.y,q2.x,q2.y,o.x,o.y)}if(this.beginPath(),Math.abs(o-s)>=2*Math.PI)!function(r){var s=.5522847498*i,o=.5522847498*e,a=(t-=i)+2*i,h=(n-=e)+2*e,u=t+i,l=n+e;r.moveTo(t,l),r.bezierCurveTo(t,l-o,u-s,n,u,n),r.bezierCurveTo(u+s,n,a,l-o,a,l),r.bezierCurveTo(a,l+o,u+s,h,u,h),r.bezierCurveTo(u-s,h,t,l+o,t,l)}(this);else{var l=o-s;l<0&&(s+=l,l=-l);var c=h(s);this.moveTo(c.x,c.y);do{var f=Math.min(Math.PI/2,l);u(this,s,f),s+=f,l-=f}while(l>0)}this.closePath()}),p.ellipseRect=function(t){var n=t[2]/2,i=t[3]/2;this.ellipse(t[0]+n,t[1]+i,n,i,0,0,2*Math.PI)},p.circleRect=function(t){var n=t[2]/2,i=t[3]/2,e=Math.min(n,i);this.arc(t[0]+n,t[1]+i,e,0,2*Math.PI)},p.selClip=function(t,n,i){l.Clip.Select(this,t,n,i)},p.locClip=function(t){l.Clip.Local(this,t)},p.resClip=function(){l.Clip.Restore(this)},p.onReleaseClip=function(t,n){l.Clip.OnReleaseClip(this,t,n)},p.gAO=function(){return this.exontrol&&this.exontrol.oAO},p.drawArr=function(t,n){l.DrawArr(this,t,n)},p.drawDir=function(t,n,i){l.DrawDir(this,t,n,i)},v.forEach||(v.forEach=function(t,n){n=n||this;for(var i=0,e=this.length;i<e;i++)t.call(n,this[i],i,this)}),v.forEachU=function(t,n){n=n||this;for(var i,e=0,r=this.length;!i&&e<r;e++)i=t.call(n,this[e],e,this);return i},l.UnitEnum={exYear:0,exHalfYear:1,exQuarterYear:2,exMonth:16,exThirdMonth:17,exWeek:256,exDay:4096,exHour:65536,exMinute:1048576,exSecond:16777216},l.WeekNumberAsEnum={exISO8601WeekNumber:0,exSimpleWeekNumber:1},l.WeekDayEnum={exSunday:0,exMonday:1,exTuesday:2,exWednesday:3,exThursday:4,exFriday:5,exSaturday:6},l.PatternEnum={exPatternEmpty:0,exPatternSolid:1,exPatternDot:2,exPatternShadow:3,exPatternNDot:4,exPatternFDiagonal:5,exPatternBDiagonal:6,exPatternDiagCross:7,exPatternVertical:8,exPatternHorizontal:9,exPatternCross:10,exPatternBrick:11,exPatternYard:12},l.DrawTextFormatEnum={exTextAlignTop:0,exTextAlignLeft:0,exTextAlignCenter:1,exTextAlignRight:2,exTextAlignVCenter:4,exTextAlignBottom:8,exTextAlignMask:15,exTextWordBreak:16,exTextSingleLine:32,exTextExpandTabs:64,exPlainText:128,exTextNoClip:256,exHTMLTextNoColors:512,exTextCalcRect:1024,exHTMLTextNoTags:2048,exTextPathEllipsis:16384,exTextEndEllipsis:32768,exTextWordEllipsis:262144},l.AlignEnum={exAlignTop:0,exAlignLeft:0,exAlignCenter:1,exAlignRight:2,exAlignVCenter:4,exAlignBottom:8},l.ShowLinksEnum={exHide:0,exExtended:1,exShow:2,exFront:16,exCrossRect:32,exCrossTriangle:64,exCrossMixt:96},l.LinkTypeEnum={exRect:0,exDirect:1,exStraight:2,exRound:3},l.CT={TL:17,TC:18,TR:20,ML:33,C:34,MR:36,BL:65,BC:66,BR:68},l.HT={TL:17,TC:18,TR:20,ML:33,C:34,MR:36,BL:65,BC:66,BR:68,L:1,OX:2,R:4,T:16,OY:32,B:64,X:256},l.MK={shift:1,ctrl:2,alt:4,meta:16},l.KS={D:-1,P:1,U:0},l.ScrollBarsEnum={exNoScroll:0,exHorizontal:1,exVertical:2,exBoth:3,exDisableNoHorizontal:5,exDisableNoVertical:10,exDisableBoth:15,exHScrollOnThumbRelease:256,exVScrollOnThumbRelease:512,exScrollOnThumbRelease:768,exHScrollEmptySpace:1024,exVScrollEmptySpace:2048,exScrollEmptySpace:3072,exExtendSBS:12288,exMinSBS:49152,exHideSBS:65536},l.ValueRangeDef={from:0,to:1},l.doc=document,l.win=window,l.nav=navigator,l.wheel="onwheel"in l.win?"wheel":"onmousewheel"in l.win?"mousewheel":"DOMMouseScroll",l.dpi="devicePixelRatio"in l.win?l.win.devicePixelRatio:1,l.bias=(new Date).getTimezoneOffset(),l.transparent="rgba(0,0,0,0)",l.debug=!1,l.raf=null!=(l.win.requestAnimationFrame||l.win.webkitRequestAnimationFrame||l.win.mozRequestAnimationFrame||l.win.oRequestAnimationFrame||l.win.msRequestAnimationFrame),l.aoSnap=!0,l.rurPE=("onmousedown"in l.win?1:0)|("ontouchstart"in l.win?2:0)|("onpointerdown"in l.win?4:0),l.dot=".",l.undef="undefined",l.null="null",l.true="true",l.false="false",l.textBaseline="top",l.styleUserSelect="userSelect",l.x=0,l.y=1,l.w=2,l.h=3,l.defCanvasFont="10px sans-serif",l.defGUIFont="12px sans-serif",l.defScaleFontSize=12,l.fPX=/[0-9]*px/,l.fB="bold",l.fI="italic",l.fR=1.15,l.HTMLEntitiesTags=[["amp","&"],["lt","<"],["gt",">"],["qout",'"']],l.HTMLEntityNumber="#",l.HTMLEntityNameEnd=";",l.bExpTAB=!0,l.dtTAB=/\t/g,l.dtExpTAB="  ",l.dtEOL=/\n\r|\r\n|[\n\r]/g,l.dtEllipsis="...",l.dtBack="\\",l.dtWB=/[\W]/,l.hex="0123456789ABCDEF",l.months=12,l.days=7,l.weeks=6,l.mssec=1e3,l.msmin=60*l.mssec,l.mshour=60*l.msmin,l.msday=24*l.mshour,l.licensemp="the license is missing.",l.licensenv="the license is invalid.",l.licensexp="the license is expired.",l.licensexpd="the license has expired on #date#.",l.getP=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},l.getM=function(t){return"Get"+l.getP(t)},l.setM=function(t){return"Set"+l.getP(t)},l.bin=function(t,n,i){for(var e,r=0,s=t;r+1<s;)n.call(i,e=r+s>>1)?r=e:s=e;return r},l.bfn=function(t,n,i,e,r){r=r||0;for(var s=(t+n)/2,o=t<n?1:-1,a=-1;a&&Math.abs(t-n)>r;)(a=o*i.call(e,s=(t+n)/2))&&(a>0?t=s:n=s);return s},l.expO=function(t,n,i,e,r){i=i||n;for(var s in t){var o,a=(r||l).setM(s),h=(r||l).getM(s);a in i&&!(a in n)&&(n[a]=i[a].bind(i)),h in i&&!(h in n)&&(n[h]=i[h].bind(i)),(n[h]||n[a])&&(o=(r||l).getP(s))&&(e||!(o in n))&&Object.defineProperty(n,o,{get:n[h],set:n[a],configurable:!0})}},l.expOL=function(t,n,i,e){l.expO(t,n,i,e,l.expL())},l.expL=function(t,n){return{getM:function(n){return(t||"get")+l.getP(n)},setM:function(t){return(n||"set")+l.getP(t)},getP:function(t){return t}}},l.toU=function(t,n){return 0==t?t:t+(n||"px")},l.f2S=function(){var t=new Map;return function(n,i){var e=function(n,i){var e=t.get(i);if(!e){t.set(i,e=new Map);for(var r in i)e.set(i[r],r)}return e.get(n)||""}(n,i);if(!e&&i){var r=n,s=[],o=[];for(var a in i)o.push({f:a,v:i[a]});o.sort(function(t,n){return n.v-t.v}),o.forEach(function(t){var i=t.v;i&&i==(i&n)&&(s.push(t.f),n&=~i)}),e=s.reverse().join(),n&&(e&&(e+=" | "),e+="0x"+l.ToH(n)),t.get(i).set(r,e)}return e}}(),l.sCSS=function(t){try{if(t){var n=l.doc.styleSheets;if(n)for(var i,e,r=0,s=n.length;r<s;r++)if((i=n[r])&&(e=i.rules))for(var o,a=0,h=e.length;a<h;a++)if((o=e[a])&&t==o.selectorText)return o}}catch(t){}},l.aCSS=function(t,n,i){if(i||!l.sCSS(t)){var e=l.doc.createElement("style");e.innerHTML=t+n,l.doc.body.appendChild(e)}},l.ToN=function(t,n){return l.N.ToN(t,n)},l.ToF=function(t){return parseFloat(t)||0},l.ToI=function(t,n){return l.N.ToI(t,n)},l.ToB=function(t,n){return!!(null==t?n:t)},l.ToS=function(t,n){return String(null!=t?t:n||"")},l.ToO=function(t){return s(t)?t:null},l.ToV=function(t){return s(t)?t.valueOf():t},l.ToH=function(t,n){for(var i="";t;)i=l.hex[t%16]+i,t=~~(t/16);return i=i||"0",(n||null==n)&&i.length%2&&(i="0"+i),i},l.ToSHA=function(t){var n,i={color:"black",width:4,offset:2},e=l.ToS(t).split(";"),r=e.length;return r&&((n=e[0].trim())&&(i.color=l.ToCLR(n)),r>1&&((n=e[1].trim())&&(i.width=~~n),r>2&&(n=e[2].trim())&&(i.offset=~~e[2]))),i},l.ToGRA=function(t){var n,i={color:"black",mode:1,blend:0,vRT:null},e=l.ToS(t).split(";"),r=e.length;return r&&((n=e[0].trim())&&(i.color=l.ToCLR(n)),r>1&&((n=e[1].trim())&&(i.mode=~~n),r>2&&(n=e[2].trim())&&(i.blend=~~e[2]))),i},l.ToCLR=function(t,n,i){return t=l.ToS(t)?function(t,n){var i=!0;n=n.toLowerCase();for(var e=0,r=t.length;i&&e<r;e++)i=~n.indexOf(t.charAt(e).toLowerCase());return i}(t.toUpperCase(),l.hex)?"#"+function(t,n){n=null==n?6:n;for(var i=l.parseHex(t).substr(0,n),e=i.length;e<n;e++)i="0"+i;return i}(t,i).toUpperCase():t:n},l.IsI=function(t){return l.N.IsInt(t)},l.IsN=function(t){return l.N.IsN(t)},l.IsO=function(t){return 64==l.V2T(t)},l.IsD=function(t){return r(t)},l.IsA=function(t){return n(t)},l.IsS=function(t){return"string"==typeof t},l.GetAM=function(t){return c.toLocTS(t,{hour12:!0,hour:"numeric"}).replace("6","").trim()},l.GetPM=function(t){return f.toLocTS(t,{hour12:!0,hour:"numeric"}).replace("6","").trim()},l.Format=function(t,n){var i="";if(t=parseFloat(t)||0,l.Def.Intl.formatNumber)if(n=l.ToS(n)){function e(t,n,i){return(t=l.ToS(t).trim())?l.ToI(t,i):n}var r=n.split("|"),s=e(r[0],2,0),o=r[1]||".",a=e(r[2],3,0),h=r[3]||",",u=e(r[4],1,1),c=e(r[5],1,1),f=l.Def.Intl.mfN.get(n);f||l.Def.Intl.mfN.set(n,f=new Intl.NumberFormat(void 0,{locale:"en-US",maximumFractionDigits:s,minimumFractionDigits:s,minimumIntegerDigits:1,numberingSystem:"latn",style:"decimal",useGrouping:!1}));var g=i=f.format(Math.abs(t)),d="",v=i.indexOf(".");if(v>=0&&(g=i.substr(0,v),d=i.substr(v+1)),a){for(var p="",C=g.length;C>a;C-=a)p+=h,p+=g.substr(C-a,a);g=g.substr(0,C)+p}if(i=g,c||"0"!==i||(i=""),d&&(i+=o,i+=d),i.length||(i="0"),t<0)switch(u){case 0:i="("+i+")";break;case 2:i="- "+i;break;case 3:i+="-";break;case 4:i+=" -";break;default:i="-"+i}}else i=l.Def.Intl.formatNumber.format(t);else i=t.toLocaleString();return i},l.Currency=function(t){return t=parseFloat(t)||0,l.Def.Intl.formatCurrency?l.Def.Intl.formatCurrency.format(t):t.toLocaleString()},l.IsDigitCode=function(t){return t>47&&t<58},l.IsDigitChar=function(t){return t&&1==t.length&&l.IsDigitCode(t.charCodeAt(0))},l.IsDigit=function(t,n){return l.IsDigitCode(t.charCodeAt(n))},l.Pad0=function(t,n){var i=t+"";n=null!=n?n:2;for(var e=i.length;e<n;e++)i="0"+i;return i},l.IsAlphaCode=function(t){return t>64&&t<91||t>96&&t<123},l.IsAlphaChar=function(t){return t&&1==t.length&&l.IsAlphaCode(t.charCodeAt(0))},l.IsAlpha=function(t,n){return l.IsAlphaCode(t.charCodeAt(n))},l.IsAlphaNumCode=function(t){return l.IsDigitCode(t)||l.IsAlphaCode(t)},l.IsAlphaNum=function(t,n){return l.IsAlphaNumCode(t.charCodeAt(n))},l.IsPlusCode=function(t){return 43==t},l.IsPlus=function(t,n){return l.IsPlusCode(t.charCodeAt(n))},l.IsMinusCode=function(t){return 45==t},l.IsMinus=function(t,n){return l.IsMinusCode(t.charCodeAt(n))},l.IsPlusChar=function(t){return t&&1==t.length&&l.IsPlusCode(t.charCodeAt(0))},l.IsHexaCode=function(t){return l.IsDigitCode(t)||t>64&&t<71||t>96&&t<103},l.IsHC=function(t){return t&&1==t.length&&l.IsHexaCode(t.charCodeAt(0))},l.parseHex=function(t){for(var n="",i="",e=0,r=(t=(t||"").trim()).length;e<r&&l.IsHC(i=t.charAt(e));e++)n+=i;return n},l.lang=function(){return(l.nav&&l.nav.language||"en-us").toLowerCase()},l.ua=function(){return(l.nav&&l.nav.userAgent||"").toLowerCase()},l.vend=function(){return(l.nav&&l.nav.vendor||"").toLowerCase()},l.DfO=function(t,n){if(null!=n)if(null==t)t=n;else for(var i in n)null==t[i]&&(t[i]=n[i]);return t},l.CpM=function(t,n,i){var e;return t&&(n=n||function(t){return t},e=new Map,t.forEach(function(t,r){e.set(r,n.call(i,t))})),e},l.CpA=function(t){return t?t.slice():null},l.CpV=function(t,n){return n=n||function(t){return t},l.IsA(t)?t.slice():l.IsS(t)?t+"":s(t)?n(t):t},l.boP=Object.getPrototypeOf({}),l.Cpy=function(t){return l.CpV(t,function(t){var n=t;if(Object.getPrototypeOf(t)==l.boP){n={};for(var i in t)n[i]=l.Cpy(t[i])}return n})},l.Mrg=function(t,n){try{if(null==t)return l.Cpy(n);if(null==n)return t;if(64==l.V2T(n)){for(var i in n)t[i]=l.Mrg(t[i],n[i]);return t}return l.CpV(n)}catch(t){}},l.Inh=function(t,n){if(l.IsO(n)){t=l.Cpy(t)||{};for(var i in n)i in t?l.IsO(t[i])&&(t[i]=l.Inh(t[i],n[i])):t[i]=n[i]}return t},l.Apy=function(t,n){if(t&&n)for(var i in n){var e=n[i];l.IsO(e)?l.Apy(t[i],e):t[i]=e}return t},l.EyO=function(t){if(t)for(var n in t)if(t.hasOwnProperty(n))return;return!0},l.Ld=function(t,n){function i(t){var n;return(t=l.ToS(t))&&t.substr((n=t.lastIndexOf(".")+1)+(n?0:t.length)).toUpperCase()}null!=t&&(n=n||{}).i&&((n.u||function(t){return l.IsS(t)&&t&&t.indexOf(".")>=0}).call(n.t,t)?function(t){try{var e=new XMLHttpRequest;n.s=i(t),e.oO=n,n.e&&(e.onerror=n.e.bind(n.t)),e.onreadystatechange=function(){this.readyState==(XMLHttpRequest.DONE||4)&&this.oO.i.call(this.oO.t,e.responseText,this.oO.s)},e.open("GET",t),e.send(null)}catch(t){n.e&&n.e.call(n.t,t)}}(t):t.files instanceof FileList?function(t){try{if(t.files.length){var e=t.files[0],r=new FileReader,s=r.readAsBinaryString||r.readAsText;n.s=i(e.name),r.oO=n,r.onloadend=function(t){t.target.readyState==(FileReader.DONE||2)&&t.target.oO.i.call(t.target.oO.t,t.target.result,t.target.oO.s)},s.call(r,e.slice())}}catch(t){n.e&&n.e.call(n.t,t)}}(t):n.i.call(n.t,t))},l.SEP=function(t){if(t)try{t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation()}catch(t){}},l.tchEv=function(t){return 2&l.rurPE&&t instanceof TouchEvent},l.V2T=function(t){if(null===t)return 2;if(void 0===t)return 1;switch(typeof t){case"string":return 4;case"number":return t===~~t?8:16;case"boolean":return 32;case"object":return n(t)?256:r(t)?512:64;case"function":return 128}return 1},l.GetFont=function(t){var n=new Map;return function(t){var i=t?"string"==typeof t?t:t.font:l.defCanvasFont,e=i,r=n.get(i);if(!r){var s=l.fPX,o=i.search(s);if(-1==o&&(o=(i=l.defCanvasFont).search(l.fPX)),-1!=o){var a,h,u,c=i.substr(0,o).trim();i=i.substr(o),a=parseInt(i),(i=i.replace(s,"")).length&&("/"==i.charAt(0)&&(i=i.substr(1),h=parseInt(i),i=i.substr(i.search(/\s/))),u=i.trim()),r={style:c,size:a,line:h,family:u},n.set(e,r)}}return r}}(),l.GetFontSize=function(t){return l.GetFont(t).size},l.GetFontHeight=function(t){return l.GetFontSize(t)*l.fR},l.SetFont=function(t,n,i,e){var r="";return n&&e&&(t&&(r+=" "+t),r+=" "+l.toU(n),i&&(r+="/"+i),r+=" "+e),r=(r||l.defCanvasFont).trim()},l.WhelInc=function(t){var n=0;if(t)switch(t.type){case"wheel":n=Math.round(t.wheelDelta?t.wheelDelta/120:-t.deltaY/3);break;case"mousewheel":n=Math.round(t.wheelDelta/120);break;case"DOMMouseScroll":n=Math.round(-t.detail/3)}return n},l.setTimeout=function(t,n){var i=this,e=[].slice.call(arguments,2);return setTimeout(function(){t.apply(i,e)},n)},l.setInterval=function(t,n){var i=this,e=[].slice.call(arguments,2);return setInterval(function(){t.apply(i,e)},n)},l.ToString={Quote:function(t,n){function i(t){var n,h=String(t),u=e++<r;switch(l.V2T(t)){case 4:h=o+h+o;break;case 512:h=t.toFormat();break;case 256:h=s,u&&t.forEach(function(t){h+=(h?",":s)+i(t)}),h="["+(u?h:a)+"]";break;case 64:if(h=s,u)for(var c in t)(n=i(t[c]))&&(h+=(h?", ":s)+c+" = "+n);h="{"+(u?h:a)+"}";break;case 128:h=s}return--e,h}var e=0,r=l.ToI(n&&n.deep,1),s="",o="'",a="...";return i(t)}},l.N=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function n(n,i,e,r){function s(t,n){return n?Math.round(t):t}var o=[];if(e=e||!1,r=t(r)?Math.max(0,Math.round(r)):4,n=t(n)?parseFloat(n):0,i=t(i)?parseFloat(i):0,t(n)||(n=0),t(i)||(i=0),r>0)if(n===i||1==r)for(h=0;h<r;h++)o.push(i);else{for(var a=(i-n)/r,h=0,u=n+a;h<r-1;h++,u+=a)o.push(s(u,e));o.push(s(i,e))}return o}return{IsN:t,ToN:function(n,i){return parseFloat(t(n)?n:i||0)},IsInt:function(n){return t(n)&&!(parseInt(n)-n)},ToI:function(n,i){return parseInt(t(n)?n:i||0)},Trans:function(t,i,e){return n(t,i,!1,e)},TransInt:function(t,i,e){return n(t,i,!0,e)}}}(),l.Mrg(l,function(){function t(t,n,i,e){this.r=t||0,this.g=n||0,this.b=i||0,this.a=e||0}var n=t.prototype;return n.Convert=function(t){var n,i,e=l.doc.createElement("canvas");return e.width=e.height=1,(n=e.getContext("2d")).beginPath(),n.fillStyle=t,n.fillRect(0,0,e.width,e.height),n.closePath(),i=n.getImageData(0,0,e.width,e.height),this.r=i.data[0],this.g=i.data[1],this.b=i.data[2],this.a=i.data[3],this},n.ToColor=function(){return t.C2CSS(this.r,this.g,this.b,this.a)},n.compare=function(t){var n=l.Cmp.N;return n(this.r,t.r)||n(this.g,t.g)||n(this.b,t.b)||n(this.a,t.a)},n.EqC=function(n){var i=n;return n instanceof t||(i=t.Convert(n)),0===this.compare(i)},n.IsTrans=function(){return!(this.a||this.r||this.g||this.b)},n.IsBlack=function(){return 255==this.a&&!this.r&&!this.g&&!this.b},n.IsWhite=function(){return 255==this.a&&255==this.r&&255==this.g&&255==this.b},t.Convert=function(){var n=new t(0,0,0,0),i=new Map;return function(e){if(e){var r=i.get(e);return r||((r=new t).Convert(e),i.set(e,r)),r}return n}}(),t.Trans=function(n,i,e){if(e=l.IsN(e)?Math.max(0,Math.round(e)):4,n||i){if(null!=n&&!t.Convert(n).IsTrans()||null==i){if(null==n||null!=i&&!t.Convert(i).IsTrans()){for(var r=t.Convert(n),s=t.Convert(i),o=l.N.TransInt(r.r,s.r,e),a=l.N.TransInt(r.g,s.g,e),h=l.N.TransInt(r.b,s.b,e),u=l.N.TransInt(r.a,s.a,e),c=[],f=0;f<e;f++){var g=new t(o[f],a[f],h[f],u[f]);c.push(g.ToColor())}return c}var r=t.Convert(n),c=[];return l.N.TransInt(r.a,0,e).forEach(function(n){var i=new t(r.r,r.g,r.b,n);c.push(i.ToColor())}),c}var s=t.Convert(i),c=[];return l.N.TransInt(0,s.a,e).forEach(function(n){var i=new t(s.r,s.g,s.b,n);c.push(i.ToColor())}),c}return null},t.C2CSS=function(t,n,i,e){return 255==e?"#"+l.ToH(t)+l.ToH(n)+l.ToH(i):"rgba("+t+","+n+","+i+","+e/255+")"},t.IsTrans=function(n){return!(n instanceof CanvasGradient)&&(null==n||"transparent"==n||"rgba(0,0,0,0)"==n||t.Convert(n).IsTrans())},t.IsBlack=function(t){if(t){var n=(t+"").repAll(" ","").toLowerCase();return"black"==n||"#000000"==n||"rgb(0,0,0)"==n||"rgba(0,0,0,1)"==n}},t.IsColor=function(n){return!(!n||!t.IsBlack(n)&&t.Convert(n).IsBlack())},t.EqC=function(n,i){return null!=n&&null!=i?t.Convert(n).EqC(i):n==i},{C:t}}()),l.Grad=function(){function t(t){var n=null,e=t.splitP(","),o=e.length;if(o>0){var a=function(t){if(t=t.trim())for(var n=i.length,e=0;e<n;e++)if(i[e].sWith(t.toLowerCase()))return e;return-1}(e[0]);if(a<0||o>1){(n=r.Cpy(s)).type=Math.max(0,a),n.rgColors=[];for(var h=a<0?0:1;h<o;h++)n.rgColors.push(e[h].trim())}}return n}function n(n,i,s,o){if(null!=s){var a=String(s||"").trim();if(0!=a.length){var h=e.get(a);if(null==h&&e.set(a,h=t(s)),null!=h)return function(t,n,i,e){var s=null;if(e&&n){switch(n.type){case 0:s=t.createLinearGradient(0,r.TOf(e),0,r.BOf(e));break;case 1:s=t.createLinearGradient(r.LOf(e),0,r.ROf(e),0);break;case 2:s=t.createLinearGradient(r.LOf(e),r.TOf(e),r.ROf(e),r.BOf(e));break;case 3:var o=r.LOf(e),a=r.ROf(e),h=r.TOf(e),u=r.BOf(e),l=r.WOf(e),c=r.WOf(e),f=Math.max(l,c)/2;s=t.createRadialGradient((o+a)/2,(h+u)/2,0,(o+a)/2,(h+u)/2,f)}if(s)try{s.addColorStop(0,i);var g=n.rgColors.length;n.rgColors.forEach(function(t,n){s.addColorStop((1+n)/g,t)})}catch(t){}}return s||i}(n,h,i,o)}}return i}var i=["vertical","horizontal","diagonal","radial"],e=new Map,r=l,s={type:-1,rgColors:null};return{Create:n,XC:function(){e.clear()}}}(),l.Pattern=function(t,n){function i(t,n,i,e,r,s,o){var a=4*(n+i*t.width);t.data[a+0]=e,t.data[a+1]=r,t.data[a+2]=s,t.data[a+3]=o}function e(t,n,e,r,s){for(var o=n;o<e;o++)i(t,o,r,s.r,s.g,s.b,s.a)}function r(t,n,e,r,s){for(var o=e;o<r;o++)i(t,n,o,s.r,s.g,s.b,s.a)}var s=l.doc.createElement("canvas"),o=s.getContext("2d"),a=o.createImageData(8,8),h=l.C.Convert(n);switch(s.width=s.height=8,t){case 0:o.beginPath(),o.clearRect(0,0,8,8),o.closePath();break;case 1:o.beginPath(),o.fillStyle=n,o.fillRect(0,0,8,8),o.closePath();break;case 2:for(f=0;f<8;f+=2)for(c=0;c<8;c+=2)i(a,f,c,h.r,h.g,h.b,h.a);break;case 3:for(f=0;f<8;f++)for(var u=f%2,c=0;c<8;c+=2)i(a,f,c+u,h.r,h.g,h.b,h.a);break;case 4:for(f=0;f<8;f+=2)for(c=0;c<8;c++)i(a,f,c,h.r,h.g,h.b,h.a);for(f=1;f<8;f+=2)for(c=0;c<8;c+=2)i(a,f,c,h.r,h.g,h.b,h.a);break;case 5:for(f=0;f<8;f++)i(a,f,f,h.r,h.g,h.b,h.a);for(var f=4,c=0;f<8;f++,c++)i(a,f,c,h.r,h.g,h.b,h.a);for(var f=0,c=4;c<8;f++,c++)i(a,f,c,h.r,h.g,h.b,h.a);break;case 6:for(var f=0,c=8;f<8;f++,c--)i(a,f,c-1,h.r,h.g,h.b,h.a);for(var f=0,c=4;c>0;f++,c--)i(a,f,c-1,h.r,h.g,h.b,h.a);for(var f=4,c=8;f<8;f++,c--)i(a,f,c-1,h.r,h.g,h.b,h.a);break;case 7:for(f=0;f<8;f++)i(a,f,f,h.r,h.g,h.b,h.a);for(var f=4,c=0;f<8;f++,c++)i(a,f,c,h.r,h.g,h.b,h.a);for(var f=0,c=4;c<8;f++,c++)i(a,f,c,h.r,h.g,h.b,h.a);for(var f=0,c=8;f<8;f++,c--)i(a,f,c-1,h.r,h.g,h.b,h.a);for(var f=0,c=4;c>0;f++,c--)i(a,f,c-1,h.r,h.g,h.b,h.a);for(var f=4,c=8;f<8;f++,c--)i(a,f,c-1,h.r,h.g,h.b,h.a);break;case 8:for(var g=0,d=4,c=0;c<8;c++)i(a,g,c,h.r,h.g,h.b,h.a),i(a,d,c,h.r,h.g,h.b,h.a);break;case 9:for(var v=0,p=4,f=0;f<8;f++)i(a,f,v,h.r,h.g,h.b,h.a),i(a,f,p,h.r,h.g,h.b,h.a);break;case 10:for(var g=0,d=4,c=0;c<8;c++)i(a,g,c,h.r,h.g,h.b,h.a),i(a,d,c,h.r,h.g,h.b,h.a);for(var v=0,p=4,f=0;f<8;f++)i(a,f,v,h.r,h.g,h.b,h.a),i(a,f,p,h.r,h.g,h.b,h.a);break;case 11:e(a,0,8,0,h),r(a,0,0,4,h),e(a,0,8,4,h),r(a,4,4,8,h);break;case 12:for(f=0;f<8;f++)i(a,f,f,h.r,h.g,h.b,h.a),i(a,f,7-f,h.r,h.g,h.b,h.a)}return t>1&&o.putImageData(a,0,0),s},l.Pattern.Get=function(t,n){var i=new Map;return function(t,n){return function(t,n){var e=i.get(t);if(e){var r=e.get(n);if(r)return r}else i.set(t,new Map);var s=new l.Pattern(t,n);return i.get(t).set(n,s),s}(t,n)}}(),l.FillPatternRect=function(t,n,i,e){if(n[2]||n[3]){i=i||0,e=e||"#000000";var r=t.fillStyle;t.fillStyle=t.createPattern(l.Pattern.Get(i,e),"repeat"),t.fillRect.apply(t,n),t.fillStyle=r}},l.FillSolidRect=function(t,n,i){n[2]&&n[3]&&(i=i||"#000000",t.saveSts("fillStyle","shadowColor"),t.beginPath(),t.shadowColor=l.transparent,t.fillStyle=i,t.fillRect.apply(t,n),t.loadSts())},l.DrawFrameRect=function(t,n,i){if(n&&(n[2]||n[3])){i=i||"#000000",t.beginPath();var e=t.strokeStyle;t.strokeStyle=i,t.rect.apply(t,n),t.stroke(),t.strokeStyle=e}},l.DrawFrameLine=function(t,n,i,e,r,s){t.beginPath();var o=t.strokeStyle;t.strokeStyle=s||"#000000",t.moveTo(n,i),t.lineTo(e,r),t.stroke(),t.strokeStyle=o},l.DrawLine=function(t,n,i,e){var r=l.G.X(n),s=l.G.Y(n),o=l.G.X(i),a=l.G.Y(i);l.DrawFrameLine(t,r,s,o,a,e)},l.DrawHLine=function(t,n,i,e){var r=l.G.X(n),s=l.G.Y(n);l.DrawFrameLine(t,r,s,r+i,s,e)},l.DrawVLine=function(t,n,i,e){var r=l.G.X(n),s=l.G.Y(n);l.DrawFrameLine(t,r,s,r,s+i,e)},l.DrawEdge=function(t,n,i,e){if(15==(15&(i=null!=i?i:2)))l.DrawFrameRect(t,n,e);else{var r=n[0],s=n[1],o=n[2],a=n[3];1&i&&l.DrawFrameLine(t,r,s,r,s+a,e),4&i&&l.DrawFrameLine(t,r+o,s,r+o,s+a,e),2&i&&l.DrawFrameLine(t,r,s,r+o,s,e),8&i&&l.DrawFrameLine(t,r,s+a,r+o,s+a,e)}},l.FillSolidEllipse=function(t,n,i){(n[2]||n[3])&&(i=i||"#000000",t.saveSts("fillStyle","shadowColor"),t.beginPath(),t.shadowColor=l.transparent,t.fillStyle=i,t.ellipseRect(n),t.fill(),t.loadSts())},l.DrawFrameEllipse=function(t,n,i){if(n[2]||n[3]){i=i||"#000000",t.beginPath();var e=t.strokeStyle;t.strokeStyle=i,t.ellipseRect(n),t.stroke(),t.strokeStyle=e}},l.DrawArr=function(t,n,i){var e=l.G.cArr(n,i,t.lineWidth);e&&(t.beginPath(),t.moveTo(e[0][0],e[0][1]),t.lineTo(e[1][0],e[1][1]),t.lineTo(e[2][0],e[2][1]),t.closePath(),t.fill())},l.DrawDir=function(t,n,i,e){if(n){var r=n.length,s=l.G;if(r>1){i=null==i?2:i,e=2==r?0:e;var o,a=0,h=n[a],u=n[r-1];switch(i&&(o=t.lineWidth,1&i&&(h=s.cArrExcl(n[a+1],h,o)),2&i&&(u=s.cArrExcl(n[r-2],u,o))),t.beginPath(),t.moveTo(h[0],h[1]),e){case-1:var c=h,f=h,g=0;for(a;a<r-1;a++){var d=[((A=n[a+1])[0]+f[0])/2,(A[1]+f[1])/2],v=Math.max(Math.abs(f[0]-d[0]),Math.abs(f[1]-d[1]));if(g<v){p=s.cRut.direct(f,d,g);t.quadraticCurveTo(f[0],f[1],p[0],p[1]),t.lineTo(d[0],d[1])}else{var p=s.cRut.direct(f,c,v);t.lineTo(p[0],p[1]),t.quadraticCurveTo(f[0],f[1],d[0],d[1])}c=d,f=A,g=v}t.lineTo(u[0],u[1]);break;case 1:var C=3*Math.max(1,1+~~((r-1)/3))+1;for(a=3;a<C;a+=3){var m=a-2<r?n[a-2]:u,S=a-1<r?n[a-1]:u,E=a<r?n[a]:u;t.bezierCurveTo(m[0],m[1],S[0],S[1],E[0],E[1])}break;case 2:for(var T=(f=n[++a])[0],b=f[1];a<r-1;a++){var A=n[a+1],w=xN=A[0],R=yN=A[1];a<r-2&&(w=(w+T)/2,R=(R+b)/2),t.quadraticCurveTo(T,b,w,R),T=xN,b=yN}break;default:for(++a;a<r;a++){var y=a+1<r?n[a]:u;t.lineTo(y[0],y[1])}}t.stroke(),1&i&&l.DrawArr(t,n[1],n[0]),2&i&&l.DrawArr(t,n[r-2],n[r-1])}}},l.Cmp=function(){return{S:function(t,n){return String(t).localeCompare(String(n))},N:function(t,n){var i=parseFloat(t);if(!isNaN(i)){var e=parseFloat(n);return isNaN(e)?1:i-e}return-1},I:function(t,n){var i=parseInt(t);if(!isNaN(i)){var e=parseInt(n);return isNaN(e)?1:i-e}return-1},D:function(t,n){var i=Date.parse(t);if(!isNaN(i)){var e=Date.parse(n);return isNaN(e)?1:i-e}return-1},B:function(t,n){return t===n?0:!t&&n?-1:1},R:function(t){return function(n,i){return-t(n,i)}}}}(),l.Mrg(l,function(){function t(){this.init.apply(this,arguments)}function r(){this.init.apply(this,arguments)}function s(){this.init()}function o(){this.init()}function a(){this.init()}var h=t.prototype;h.init=function(){this.rgE=[],this.mE2I=new Map,this.rgOE=null,this.mOE2P=null,arguments.length&&this.push.apply(this,arguments)},t.empty=new t,h.len=function(){return this.rgE.length},h.isEmpty=function(){return!this.len()},h.byO=function(){return this.rgOE||this.rgE},h.byI=function(){return this.rgE},h.item=function(t){if(t>=0&&t<this.len())return this.byO()[t]},h.first=function(){return this.item(0)},h.last=function(){return this.item(Math.max(0,this.len()-1))},h.next=function(t){var n=this.getPos(t);if(n>=0&&++n<this.len())return this.item(n)},h.prev=function(t){var n=this.getPos(t);if(--n>=0)return this.item(n)},h.at=function(t){if(t>=0&&t<this.len())return this.byI()[t]},h.equal=function(t){if(this!==t){var e=this.len();if(null==t)return 0==e;if(i(t)){r=!1;return e==t.len()&&(r=!0,this.forEachIU(function(n){if(!t.has(n))return r=!1,!0})),r}if(n(t)){var r=!1;if(e==t.length){r=!0;for(var s=0;r&&s<e;s++)r=this.has(t[s])}return r}return 1==e&&this.has(t)}return!0},h.forEach=function(t,n){n=n||this;for(var i=this.byO(),e=0,r=i.length;e<r;e++)t.call(n,i[e],e)},h.forEachU=function(t,n){n=n||this;for(var i,e=this.byO(),r=0,s=e.length;!i&&r<s;r++)i=t.call(n,e[r],r);return i},h.rforEach=function(t,n){n=n||this;for(var i=this.byO(),e=i.length-1;e>=0;e--)t.call(n,i[e],e)},h.rforEachU=function(t,n){n=n||this;for(var i,e=this.byO(),r=e.length-1;!i&&r>=0;r--)i=t.call(n,e[r],r);return i},h.forEachI=function(t,n){n=n||this;for(var i=this.byI(),e=0,r=i.length;e<r;e++)t.call(n,i[e],e)},h.forEachIU=function(t,n){n=n||this;for(var i,e=this.byI(),r=0,s=e.length;!i&&r<s;r++)i=t.call(n,e[r],r);return i},h.has=function(t){return~this.indexOf(t)},h.hasI=function(t){return t>=0&&t<this.len()},h.indexOf=function(t){var n=this.mE2I.get(t);return void 0!==n?n:-1},h.copy=function(n){return n=n||new t,n.rgE=l.CpA(this.rgE),n.mE2I=l.CpM(this.mE2I),n.rgOE=l.CpA(this.rgOE),n.mOE2P=l.CpM(this.mOE2P),n},h.clear=function(){var t=!this.isEmpty();return this.rgE.forEach(function(t){this.onRemove(t)},this),this.rgE.splice(0),this.mE2I.clear(),this.resOrd(),t},h.pusha=function(t,e){var r=t.length;if(r&&(e=this[e]))for(var s,o=0;o<r;o++)void 0!==(s=t[o])&&(n(s)||i(s)?s.forEach(function(t){e.call(this,t)},this):e.call(this,s));return this},h.push=function(){return this.pusha(arguments,"add")},h.pushnn=function(){return this.pusha(arguments,"ann")},h.concat=function(){return this.push.apply(this,arguments)},h.toggle=function(){if(arguments.length){var n=new t;n.concat.apply(n,arguments),n.forEach(function(t){this.has(t)?this.remove(t):this.add(t)},this)}return this},h.add=function(t){var n,i;return this.indexOf(t)<0&&(this.mE2I.set(t,i=this.rgE.push(t)-1),this.hasOrd()&&(this.rgOE.push(t),this.mOE2P.set(t,i)),n=t),n},h.ann=function(t){return t&&this.add(t)||null},h.onRemove=function(t){},h.remove=function(t){var n=this.indexOf(t);if(n>=0){this.onRemove(t);var i=this.rgE,e=this.mE2I;i.splice(n,1),e.delete(t);for(var r=n,s=e.size;r<s;r++)e.set(i[r],r);if(this.hasOrd()){var o=this.mOE2P,a=o.get(t);if(void 0!==a){var h=this.rgOE;h.splice(a,1),o.delete(t);for(var r=a,s=o.size;r<s;r++)o.set(h[r],r)}}return!0}},h.removeArr=function(t){function n(t,n,i,e){var r=[];if(t.forEach(function(t){r.push(i.get(t)),e&&this.onRemove(t),i.delete(t)},this),r.length){r.sort(function(t,n){return~~n-~~t}),r.forEach(function(t){n.splice(t,1)});for(var s=r[r.length-1],o=n.length;s<o;s++)i.set(n[s],s);return!0}}var i=!1,e=t.length;if(e>0){if(1==e)return this.remove(t[0]);i=n.call(this,t,this.rgE,this.mE2I,!0),this.hasOrd()&&n.call(this,t,this.rgOE,this.mOE2P,!1)}return i},h.removeRange=function(t){return this.removeArr(this.include.apply(this,arguments))},h.toRange=function(t,n){return(t=~~t)<0&&(t=this.len()+t),t=Math.max(0,Math.min(this.len(),t)),n=Math.min(this.len()-t,Math.max(0,l.ToI(n,1))),{s:t,c:n,r:function(t,n){var i;if(n>1){i=[];for(var e=0;e<n;e++)i.push(t++)}return i}(t,n)}},h.removeAt=function(t,n){var i=this.toRange(t,n);return i.c&&(i.r?this.removeRangeAt(i.r):this.remove(this.at(i.s)))||!1},h.removeRangeAt=function(t){return this.removeArr(this.includeAt.apply(this,arguments))},h.removePos=function(t,n){var i=this.toRange(t,n);return i.c&&(i.r?this.removeRangePos(i.r):this.remove(this.item(i.s)))||!1},h.removeRangePos=function(t){return this.removeArr(this.includePos.apply(this,arguments))},h.getPos=function(t){var n=(this.mOE2P||this.mE2I).get(t);return void 0!==n?n:-1},h.setPos=function(t,n){var i=this.getPos(t);if(i>=0&&(n=Math.max(0,Math.min(~~n,this.len()-1)),i!=n)){if(n<this.len()&&(!this.hasOrd()&&this.setOrd(),function(t,n){if(n!=t){var i=this.rgOE,e=i[t];i.splice(t,1),i.splice(n,0,e);for(var r=this.mOE2P,s=Math.min(t,n),o=Math.max(t,n),a=s;a<=o;a++)r.set(i[a],a);return!0}}.call(this,i,n)))return n}return-1},h.hasOrd=function(){return null!=this.rgOE},h.resOrd=function(){this.hasOrd()&&(this.rgOE=null,this.mOE2P=null)},h.setOrd=function(n){if(n)if(n.forEach){var i=new t;n.forEach(function(t){this.has(t)&&i.add(t)},this),this.len()!=i.len()&&this.forEach(function(t){!i.has(t)&&i.add(t)},this),n=i.byO()}else n=null;n=n||this.rgE,this.resOrd(),this.rgOE=n.slice(),this.mOE2P=new Map;for(var e=0,r=n.length;e<r;e++)this.mOE2P.set(n[e],e)},h.savePos=function(){return this.save={rgOE:l.CpA(this.rgOE),mOE2P:l.CpM(this.mOE2P)}},h.loadPos=function(t){(t=t||this.save)&&(this.rgOE=t.rgOE,this.mOE2P=t.mOE2P,this.save=null)},h.reverse=function(){!this.hasOrd()&&this.setOrd();var t=this.rgOE;t.reverse();for(var n=this.mOE2P,i=0,e=t.length;i<e;i++)n.set(t[i],i);return this},h.sort=function(t){!this.hasOrd()&&this.setOrd();var n=this.rgOE;n.sort(t);for(var i=this.mOE2P,e=0,r=n.length;e<r;e++)i.set(n[e],e);return this},h.include=function(t){var e=[],r=arguments.length;if(r>0)if(r>1)for(var s=0;s<r;s++){var o=arguments[s];this.has(o)&&e.push(o)}else n(t)||i(t)?t.forEach(function(t){this.has(t)&&e.push(t)},this):this.has(t)&&e.push(t);return e},h.includeAt=function(t){var e=[],r=arguments.length;if(r>0)if(r>1)for(var s=0;s<r;s++){void 0!==(o=this.at(arguments[s]))&&e.push(o)}else if(n(t)||i(t))t.forEach(function(t){var n=this.at(t);void 0!==n&&e.push(n)},this);else{var o=this.at(t);void 0!==o&&e.push(o)}return e},h.includePos=function(t){var e=[],r=arguments.length;if(r>0)if(r>1)for(var s=0;s<r;s++){void 0!==(o=this.item(arguments[s]))&&e.push(o)}else if(n(t)||i(t))t.forEach(function(t){var n=this.item(t);void 0!==n&&e.push(n)},this);else{var o=this.item(t);void 0!==o&&e.push(o)}return e},h.exclude=function(e){var r=[],s=null;if(arguments.length>1)(s=new t).push.apply(s,arguments);else if(i(e))s=e;else{var o=n(e)?e:[e];(s=new t).push.apply(s,o)}return this.forEach(function(t){s&&s.has(t)||r.push(t)},this),r},h.join=function(t){return this.byO().join(t)},h.map=function(n,i){var e=new t;return this.forEach(function(t,r){e.add(n.call(i,t,r,this))},this),e},h.filter=function(n,i){var e=new t;return this.forEach(function(t,r){n.call(i,t,r,this)&&e.add(t)},this),e},h.reduce=function(t,n){if(!this.isEmpty()){for(var i=this.byO(),e=null!=n,r=e?n:i[0],s=e?0:1,o=i.length;s<o;s++)r=t.call(this,r,i[s],s,this);return r}return n};var u=r.prototype;Object.addPrototypeOf(u,h),u.K=function(t,n){return void 0!==n&&(t.key=n),t.key},u.k2E=function(t){return void 0===t?{}:this.mK.get(t)},u.getK=function(t){return t&&this.K(t)},u.setK=function(t,n){var i=this.getK(t);return t&&i!=n&&this.change(-2,function(){if(!this.k2E(n))return this.mK.delete(i),this.mK.set(this.K(t,n),t),!0})},u.onChange=function(){},u.change=function(t,n,i){var e;return this.lC=this.lC||{t:t,l:0,c:!1},this.lC.l++||(this.lC.t=t),e=n.call(i||this),this.lC.c=this.lC.c||!!e,--this.lC.l||(this.lC.c&&this.onChange(this.lC.t),this.lC.c=!1),e},u.init=function(t){return function(){return this.mK=new Map,t.apply(this,arguments)}}(u.init),u.copy=function(t){return function(n){return n=n||new r,n.mK=l.CpM(this.mK),t.call(this,n)}}(u.copy),u.add=function(t){return function(n){return this.change(1,function(){var i,e=this.getK(n);return(i=!this.k2E(e)&&t.call(this,n)||null)&&(this.mK.set(e,n),this.onAdd(i)),i})}}(u.add),u.onAdd=function(t){},u.onRemove=function(t){return function(n){this.mK.size&&this.mK.delete(this.getK(n)),t.call(this,n)}}(u.onRemove),u.remove=function(t){return function(n){return this.change(2,function(){return t.call(this,n)})}}(u.remove),u.removeArr=function(t){return function(n){return this.change(2,function(){return t.call(this,n)})}}(u.removeArr),u.clear=function(t){return function(){return this.change(2,function(){return this.mK.clear(),t.call(this)})}}(u.clear),u.resOrd=function(t){return function(){this.change(-1,function(){var n=this.hasOrd();return t.call(this),n})}}(u.resOrd),u.setPos=function(t){return function(n,i){var e;return this.change(-1,function(){return-1!=(e=t.call(this,n,i))}),e}}(u.setPos),u.loadPos=function(t){return function(n){return this.change(-1,function(){return t.call(this,n),!0})}}(u.loadPos),u.reverse=function(t){return function(){return this.change(-1,function(){return t.call(this),!0})}}(u.reverse),u.sort=function(t){return function(n){return this.change(-1,function(){return t.call(this,n),!0})}}(u.sort);var c=s.prototype;c.init=function(){this.o=null,this.mK=new Map,this.mV=new Map},c.push=function(t,n){this.o=null,this.mK.set(t,n),this.mV.set(n,t)},c.set=function(t,n){this.push(t,n)},c.get=function(t){return this.mK.get(t)},c.getKey=function(t){return this.mV.get(t)},c.clear=function(){this.o=null,this.mK.clear(),this.mV.clear()},c.remove=function(t){var n=this.get(t);null!=n&&(this.o=null,this.mK.delete(t),this.mV.delete(n))},c.removeValue=function(t){var n=this.getKey(t);null!=n&&(this.o=null,this.mK.delete(n),this.mV.delete(t))},c.has=function(t){return this.mK.has(t)},c.hasValue=function(t){return this.mV.has(t)},c.len=function(){return this.mK.size},c.getO=function(){if(!this.o){var t=[],n=[];this.mK.forEach(function(n,i){t.push(i)}),this.mV.forEach(function(t,i){n.push(i)}),this.o={keys:t,values:n}}return this.o},c.keys=function(){return this.getO().keys},c.values=function(){return this.getO().values},s.Split=function(t,n,i){var e=new s;return l.B.split(l.ToS(t)).forEach(function(t){var r,s=t.caption;n&&(s=n.call(s,s)),r=t.subText||s,i&&(r=i.call(r,r)),e.set(s,r)}),e};var f=o.prototype;f.init=function(){this.rgO=new t,this.mOD=new Map},f.set=f.push=function(t,n){this.rgO.push(t),this.mOD.set(t,n)},f.add=function(t){return t instanceof o&&t.forEach(function(t,n){this.set(n,t)},this),this},f.copy=function(){var t=new o;return this.forEach(function(n,i){t.push(i,l.CpV(n))}),t},f.anyOf=function(t){var n=!1;return t.forEachU(function(t,i){return n=this.has(i)},this),n},f.diff=function(t){var n=[];return t instanceof o?(t.forEach(function(t,i){this.has(i)||n.push(i)},this),this.forEach(function(i,e){t.has(e)||n.push(e)},this)):this.forEach(function(t,i){n.push(i)}),n},f.get=function(t){return this.mOD.get(t)},f.first=function(){return this.rgO.first()},f.last=function(){return this.rgO.last()},f.clear=function(){this.rgO.clear(),this.mOD.clear()},f.remove=function(t){this.rgO.remove(t),this.mOD.delete(t)},f.indexOf=function(t){return this.rgO.indexOf(t)},f.has=function(t){return~this.indexOf(t)},f.getZOrd=function(t){return this.rgO.getPos(t)},f.setZOrd=function(t,n){return this.has(t)?(this.rgO.setPos(t,n),this.getZOrd(t)+1):n},f.union=function(){var t=null;return this.forEach(function(n){t=l.URt(t,n)}),t},f.unionF=function(t,n){var i=null;return t?(n=n||this,this.forEach(function(e,r){t.call(n,r)&&(i=l.URt(i,e))})):i=this.union(),i},f.offset=function(t,n){(t||n)&&this.forEach(function(i){l.ORt(i,t,n)})},f.origin=function(){var t=this.union();if(null!=t){var n=-t[0],i=-t[1];this.offset(n,i),l.ORt(t,n,i)}return t},f.clean=function(){var t=[];return this.forEach(function(n,i){l.EyR(n)&&t.push(i)}),t.forEach(function(t){this.remove(t)},this),this},f.pInO=function(t,n,i){var e=this.get(i);return!!e&&l.PInR(t,n,e)},f.p2O=function(t,n,i,e,r){return this.rforEachU(function(s,o){return o!=i&&l.PInR(t,n,s,e,r)&&o})},f.p2HT=function(t,n,i,e,r,s){function o(o){function a(i){for(var a,h,u,f,g=0,d=c.length;!a&&g<d;g++)e(h=c[g],u=l.P2HT(t,n,l.IRt((f=o.get(h)).slice(),r,s),2*r,2*s),f)&&(a=i(h,u,f));return a}function h(t,n,e){return{o:t,ht:i?i&n:n,rtO:e}}if(o.len()){var u=null,c=o.p2rgO(t,n,null,r,s);return a(function(i,e,o){return function(t){return t[2]<r||t[3]<s}(o)&&h(i,l.P2HT(t,n,u=l.IRt(o.slice(),r,s),u[2]/3,u[3]/3),o)})||a(function(e,r,s){return l.PInR(t,n,s)&&(!i||i&r)&&h(e,r,s)})||a(function(t,n,e){return(!i||i&n)&&h(t,n,e)})}}return i=i||0,e=e||function(){return!0},r=r||0,s=s||0,o(this)||null},f.p2rgO=function(t,n,i,e,r){var s=[];return this.rforEach(function(o,a){a!=i&&l.PInR(t,n,o,e,r)&&s.push(a)}),s},f.rt2rgO=function(t){var n=[];return this.forEach(function(i,e){l.NRt(t,i)&&n.push(e)}),n},f.shuffle=function(t){var n=this.union();if(n){t=null!=t?t:.5;var i=l.Rand,e=n[2]*t,r=n[3]*t;this.forEach(function(t){t[0]+=~~(i()*e)*(i()<.5?1:-1),t[1]+=~~(i()*r)*(i()<.5?1:-1)},this)}return this},f.shuffleRect=function(t,n){if(n){t=null!=t?t:.5;var i=l.Rand,e=n[2],r=n[3],s=n[0]+i()*e,o=n[1]+i()*r,a=null;this.forEach(function(n){null==a&&(a={dx:t*(s-n[0]),dy:t*(o-n[1])}),n[0]+=a.dx,n[1]+=a.dy})}return this},f.smooth=function(t,n){function i(t,i,r){var s=e(n)&&n.call(this,t,i,r)||l.IsA(n)&&n||t;return s!=t?s:l.G.C2R(l.G.R2C(t))}var r,s=new o;return t&&this&&(this.rgTo=t.copy(),t.forEach(function(t,n){s.has(n)||l.EqR(r=this.get(n),t)||s.set(n,{from:r||i.call(this,t,n,0),to:t})},this),this.forEach(function(n,e){t.has(e)||(t.push(e,n),s.set(e,{from:n,to:i.call(this,n,e,1)}))},this)),s},f.morph=function(t,n){if(t&&n&&n.inv){var i,e=this,r=this.copy();l.A.Progress(function(s){r.forEach(function(n,r){(i=t.get(r))&&e.set(r,l.R.Rect(s,null,{from:n,to:i}))}),n.inv.call(n.thisArg),1==s&&n.refresh&&n.refresh.call(n.thisArg)},n)}},f.toA=function(){return this.rgO.byO()},f.forEach=function(t,n){n=n||this;for(var i,e=this.toA(),r=0,s=e.length;r<s;r++)t.call(n,this.get(i=e[r]),i,r)},f.vforEach=function(t,n){n=n||this;for(var i,e,r=this.toA(),s=0,o=r.length;s<o;s++)e=this.get(i=r[s]),!l.EyR(e)&&t.call(n,e,i,s)},f.rforEach=function(t,n){n=n||this;for(var i,e=this.toA(),r=e.length-1;r>=0;r--)t.call(n,this.get(i=e[r]),i)},f.forEachU=function(t,n){n=n||this;for(var i,e,r=this.toA(),s=0,o=r.length;!i&&s<o;s++)i=t.call(n,this.get(e=r[s]),e);return i},f.rforEachU=function(t,n){n=n||this;for(var i,e,r=this.toA(),s=r.length-1;!i&&s>=0;s--)i=t.call(n,this.get(e=r[s]),e);return i},f.at=function(t){return this.rgO.at(t)},f.len=function(){return this.rgO.len()};var g=a.prototype;return Object.addPrototypeOf(g,f),g.set=function(t){return function(n,i,e){var r=this.get(n);!r&&t.call(this,n,r=new Map),r.set(i,e)}}(g.set),g.get=function(t){return function(n,i){var e=t.call(this,n);return void 0!==i&&e&&(e=e.get(i)),e}}(g.get),g.remove=function(t){return function(n,i){if(void 0!==i){var e=this.get(n);e&&e.delete(i)}else t.call(this,n)}}(g.remove),{Arr:t,KAr:r,BiM:s,M1:o,M2:a}}()),l.F=function(t){this.mD=new Map,this.biF=new l.BiM,this.biA=new l.BiM,this.build(t)};var m=l.F.prototype;m.build=function(t){l.B.split(t).forEach(function(t){var n=t.caption,i=t.subText;if(this.biF.set(n.toLowerCase(),l.F.u1st(i||n)),null!=t.flags){var e=t.flags.get("def");if(void 0!==e&&(e=l.P(e).getValue(),this.mD.set(i,e),!0===e||!1===e)){var r=t.flags.get("alt");void 0!==r&&this.biA.set(n,r)}}},this)},m.default=function(t){var n=this.mD.get(t);return void 0===n&&(n=null),n},l.F.u1st=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},l.F.l1st=function(t){return t.charAt(0).toLowerCase()+t.substr(1)},l.F.toString=function(t){return null!=t&&(!0===t?t=1:!1===t&&(t=0),t=t.toString()),t},l.F.alt=function(t,n){return t+l.B.options.eq+l.F.toString(n)},m.Save=function(t){var n=null;return this.biF.mK.forEach(function(i,e){var r=t[function(t){return"Get"+t}(i)].call(t);if(void 0!==r&&r!=this.default(i)){var s=this.biA.get(e);void 0!==s&&(e=s,r=null),(n=n||new Map).set(e,l.F.toString(r))}},this),n},m.toN=function(t){return this.biF.get(this.biA.getKey(t)||t)||t},m.toV=function(t,n){var i=this.default(this.toN(n)),e=!0===i||!1===i;if(null!=t){var r=t.get(n);void 0!==r&&(i=null==r&&void 0!==this.biA.getKey(n)?!i:r)}return e&&(i=0!=i),i},m.isF=function(t){return!!t&&(this.biF.get(t)||this.biA.getKey(t))},m.f2o=function(t,n,i){t&&n&&(i=i||this,t.forEach(function(e,r){n.call(i,l.F.l1st(this.toN(r)),this.toV(t,r),r)},this))},m.Load=function(t,n){this.f2o(n,function(n,i,e){void 0!==this.biF.mV.get(l.F.u1st(n))&&t["Set"+l.F.u1st(n)].call(t,i)},this)},l.Ptr=function(){function t(t){return Math.round(t)}function n(n,e){e=e||"page";var r=n,s=null,o=i||n.target;return l.tchEv(n)&&(r=n.changedTouches[0],"offset"==e&&(s=function(n){var i=l.Ert(n.target);return{x:t(n.clientX-i[0]),y:t(n.clientY-i[1])}}(r))),null==s&&(s={x:t(r[e+"X"]),y:t(r[e+"Y"])}),function(t,n){if(null!=t){var i=l.CSSzom(t);i&&(n.x/=i,n.y/=i)}}(o,s),function(t,n){if(null!=t){var i=l.CSSpad(t);n.x-=l.ToF(i.left),n.y-=l.ToF(i.top)}}(o,s),s}var i=null;return{Get:n,SetTargExclPad:function(t){i=l.ToO(t)},ResTargExclPad:function(){i=null}}}(),l.e2B=function(t,n){if(t){if(!n)switch(t.which){case 1:return 1;case 2:return 4;case 3:return 2}if(null!=t.buttons)return t.buttons;if(null!=t.button)return t.button}return 0},l.eA2P=function(t,n){return l.Ptr.Get(t,n)},l.e2PO=function(t){return l.eA2P(t,"offset")},l.e2PP=function(t){return l.eA2P(t,"page")},l.e2E=function(t){return t||l.win.event},l.e2P=function(t){if(t=l.e2E(t)){var n=l.e2PO(t);if(function(t){return t&&l.IsN(t.x)&&l.IsN(t.y)}(n))return n.buttons=l.e2B(t),n}return null},l.pS2T=function(t,n,i){if(n&&i&&n!=i){var e=l.Ert(n),r=l.Ert(i);t.x+=e[0]-r[0],t.y+=e[1]-r[1]}return t},l.Key=function(t){return(t=l.e2E(t))&&(t.which||t.keyCode)||0},l.IsModK=function(t){return t&&(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)},l.ModK=function(t){var n=0;return t&&(t.shiftKey&&(n|=1),t.ctrlKey&&(n|=2),t.altKey&&(n|=4),t.metaKey&&(n|=16)),n},l.IsEsc=function(t){return 27==l.Key(t)},l.Rand=function(){return Math.random()},l.Tick=function(){return Date.now()},l.Lts=function(){this.mTL=new Map},l.Lts.lCBK=function(t,n,i){var r=null,s=null;return n&&(r={callback:null,thisArg:null,lock:0,name:null,equal:function(t){return t&&this.callback==t.callback&&this.thisArg==t.thisArg}},e(n)||(r.thisArg=n,r.name=l.IsS(i)&&i||t,n=e(i)&&i||n[r.name]),e(n)&&((s=r).callback=n)),s};var S=l.Lts.prototype;S.getOf=function(t,n){var i=this.mTL.get(t);return i||null!=n&&!n||(i=function(t){var n=new l.Arr;return n.type=t,n.do=function(t){var n=!1;return this.forEachU(function(i){return i&&(i.lock++||(n=i.callback.call(i.thisArg,t)),--i.lock),n}),n},n}.call(this,t),this.mTL.set(t,i),t&&(this[t]=i)),i},S.forEach=function(t,n){n=n||this,this.mTL.forEach(function(i,e){t.call(n,e)})},S.add=S.Add=function(t,n,i){t=null!=t?t.trim():"";var e=this.getOf(t);if(n){var r=l.Lts.lCBK(t,n,i);r&&e.add(r)}return e},S.clear=function(){this.mTL.forEach(function(t,n){this.remove(n)},this)},S.get=function(t,n,i){var e=null,r=l.Lts.lCBK(t.type,n,i);return r&&t.forEachU(function(t){if(t.equal(r))return e=t}),e},S.remove=function(t,n,i){var e=this.getOf(t,!1);e&&(n||i?e.remove(this.get(e,n,i)):e.clear())},S.removeAnyOf=function(t){this.mTL.forEach(function(n){var i=[];n.forEach(function(n){n.thisArg===t&&i.push(n)},this),n.removeRange(i)},this)},S.lock=function(){this.mTL.forEach(function(t){t.forEach(function(t){t.lock++})})},S.unlock=function(){this.mTL.forEach(function(t){t.forEach(function(t){t.lock--})})},l.RUROptions={listnerElement:null,contiguously:!1,contiguouslyClient:!1,client:null,contiguouslyTTS:null,contiguouslyTTC:null},l.RUR=function(){function t(t){this.ttl=t?256:128,this.rgP=[]}function n(t){return l.e2E(t)}function i(t){var i=l.e2PP(t=n(t));return{x:i.x-K[0],y:i.y-K[1],buttons:l.e2B(t),time:l.Tick()}}function r(t,n){return{start:n,current:t,offset:{dx:t.x-n.x,dy:t.y-n.y}}}function s(t,n){var e=i(t);return l.Mrg(r(e,Y),{status:n,long:F,click:0,cancel:!1,setCursor:function(t){z=t},getCursor:function(){return z},getClient:function(){var t=Y.x,n=Y.y,i=e.x-Y.x,r=e.y-Y.y;return i<0&&(t+=i,i=-i),r<0&&(n+=r,r=-r),[t,n,i,r]}})}function o(){V&&(V.forEach(function(t,n){n.style.cursor=t}),V.clear())}function a(t){(function(t){var n,i=!0,e=t.drag.status;return e>1&&e<7&&(i=!(n=l[(n="p")+"mgirwi"].call())||!n.k||~~t.timeStamp%3),i})(t)&&_.call(j,t),function(t){t&&((V=V||new Map).get(t)||(o(),V.set(t,t.style.cursor)),t.style.cursor=z)}(t.target)}function h(){ct&&clearTimeout(ct.handler),ct=null}function u(t,n){if(!N){var e=1,r=t.drag.status,s=i(t),o=l.Tick();if(ct){(function(t,n){var i,e=!1;return(t-ct.timestamp<ot||!F)&&(i=n.drag.current,Math.abs(i.x-ct.current.x)<L&&(e=Math.abs(i.y-ct.current.y)<L)),e})(o,t)&&(n=5,e=2),h()}else!function(t,n){h(),ct={timestamp:t,current:n,handler:setTimeout(function(){h()},ot)}}(o,s);t.drag.status=n,t.drag.click=e,a(t),t.drag.status=r}}function c(t){return l.DfO({},t)}function f(t){q=c(t)}function g(t){t.drag=Z,I(t,0)}function d(t){l.SEP(t)}function v(t){d(t=n(t)),function(t){Z=s(t,2),H&&H.mE?(Z.extra=[],H.mE.forEach(function(t){Z.extra.push(t)}),$.Reset()):$.Add(Z.current),t.drag=Z;var n;(Z.current.time-Y.time>st||(n=Math.max(Math.abs(Z.offset.dx),Math.abs(Z.offset.dy))>=L))&&(n&&y(),N=!0,X&=!Z.offset.dx||!Z.offset.dy,a(t),B&&(f(t),k()))}(t)}function p(t){d(t=n(t)),I(t,7)}function C(t){d(t=n(t)),g(t)}function m(t){if(H){var n=H.sE.get(t.pointerId);n&&(H.mE=H.mE||new Map).set(t.pointerId,r(i(t),n)),H.pE&&v(H.pE)}}function S(t){!t.isPrimary&&H&&(H.sE.set(t.pointerId,i(t)),m(t))}function E(t){t.isPrimary?(v(t),H&&(H.pE=c(t))):m(t)}function T(t){t.isPrimary?p(t):H&&(H.sE.delete(t.pointerId),H.mE&&(H.mE.delete(t.pointerId),H.mE.size||(H.mE=null)),m(t),$.Reset())}function b(t){if(d(t),$.Reset(),27==l.Key(t))g(t);else{var n=l.ModK(t);n!=ft.value&&(ft.value=n,w(t))}}function A(t){d(t),$.Reset();var n=l.ModK(t);n!=ft.value&&(ft.value=n,w(t))}function w(t){t.drag=Z,t.drag.status=2,a(t)}function R(){X&&!F&&(F=!0,Q.drag=Z=s(Q,3),a(Q)),y()}function y(){tt&&clearTimeout(tt),tt=null}function O(){ut&&clearTimeout(ut),ut=null,null!=lt&&(clearInterval(lt),lt=null)}function x(){if(B&&q){var t=q.drag||s(q,2);if(null==it||(U?l.PInR(t.current.x,t.current.y,it):!l.PInR(t.current.x,t.current.y,it)))return!0}}function k(){O(),x()&&(ut=setTimeout(function(){D(),O(),x()&&(lt=setInterval(function(){D()},rt))},et))}function D(){q&&(q.drag=Z=s(q,2),a(q))}function I(t,n){if(y(),B&&(f(t),O()),Z)switch(n){case 0:Z.cancel=!0,Z.status=n,t.drag=Z,a(t),Z.status=7;break;case 7:if(t.drag=Z=s(t,n),X)u(t,4);else{var i,e=$.IsSwipe();e&&(i=Z.status,Z.status=6,Z.swipe=e,a(t),Z.status=i)}}a(t),4&G?(J.removeEventListener("pointerdown",S),J.removeEventListener("pointermove",E),J.removeEventListener("pointerup",T),J.removeEventListener("pointercancel",C)):(2&G&&(J.addEventListener("touchmove",v),J.addEventListener("touchend",p),J.addEventListener("touchcancel",C)),1&G&&(J.removeEventListener("mousemove",v),J.removeEventListener("mouseup",p))),J.removeEventListener("keydown",b),J.removeEventListener("keyup",A),l.usE(l.doc.body,nt),l.Ptr.ResTargExclPad(),o(),--ht,gt.erur.do(t)}function M(){return ht&&1|(F&&!N&&2)||0}function P(n,e,r,o){!M()&&function(n,e,r,o,h){ht++,n.target.focus(),d(),W=n.pointerType?"mouse"==n.pointerType:n instanceof MouseEvent,L=W?4:16,H=W?null:{sE:new Map},W&&(d=function(){}),nt=l.usE(l.doc.body,"none"),l.Ptr.SetTargExclPad(n.target),$=new t(!W),Q=c(n),K=l.EArt(n.target),Y=i(n),z=n.target.style.cursor,Z=s(n,1),$.Add(Z.current),_=e,j=r,B=o&&o.contiguously,U=o&&o.contiguouslyClient,it=o&&o.client&&l.C2R(o.client)||null,et=l.ToI(o&&o.contiguouslyTTS,l.Def.RUR.contiguouslyTTS),rt=l.ToI(o&&o.contiguouslyTTC,l.Def.RUR.contiguouslyTTC),ft.value=l.ModK(n),G=l.rurPE,J=o&&l.ToO(o.listnerElement)||l.win,4&G?(J.addEventListener("pointerdown",S),J.addEventListener("pointermove",E),J.addEventListener("pointerup",T),J.addEventListener("pointercancel",C)):(2&G&&(J.addEventListener("touchmove",v),J.addEventListener("touchend",p),J.addEventListener("touchcancel",C)),1&G&&(J.addEventListener("mousemove",v),J.addEventListener("mouseup",p))),J.addEventListener("keydown",b),J.addEventListener("keyup",A),X=!0,N=!1,F=!1,n.drag=Z=s(n,h),a(n),Y.time=l.Tick(),tt=setTimeout(R,at),B&&(f(n),k()),gt.srur.do(n)}(n,e,r,o,1)}var W,L,G,H,X,F,N,B,U,z,V,K,Y,Q,q,Z,_,j,J,$,tt,nt,it,et,rt,st=128,ot=256,at=512,ht=0,ut=null,lt=null,ct=null,ft={value:0},gt=new l.Lts;gt.add("srur"),gt.add("erur");var dt=t.prototype;return dt.IsSwipe=function(){var t;if(this.tts){var n=this.rgP.length;if(n>1){var i=this.rgP[0],e=this.rgP[n-1],r=e.x-i.x,s=e.y-i.y;Math.max(Math.abs(r),Math.abs(s))>this.ttl/16&&(t={x:e.x,y:e.y,dx:r,dy:s,time:l.Tick()-this.tts})}}return t},dt.Reset=function(){this.xOut(),this.tts=null,this.rgP.splice(0,this.rgP.length-1)},dt.xOut=function(){clearTimeout(this.lOut)},dt.Add=function(t){var n=l.Tick(),i=this;this.tts=this.tts||n,this.rgP.push(t),this.xOut(),this.lOut=setTimeout(function(){i.Reset()},Math.max(0,this.ttl-(n-this.tts)))},{Do:P,D3:function(t,n){if(n&&n.client){function i(){r||(r=l.EF.Create(l.Inh(n,{class:"exd3",onpaint:o&&function(t,n){t.drawShape(n,o)},relative:a&&(a.canvas||a.GetCanvas&&a.GetCanvas())||a,limitClient:!1,inflateClient:4,thisArg:n})))}var r,s,o=n.shape,a=n.source;o&&(o=l.S.A2S(o),o=o.normal||o),P(t,function(t){switch(t.drag.status){case 1:!n.onclick&&i();break;case 2:n.onmove&&n.onmove.call(a,t),i(),r.SetClient(l.ORt(n.client.slice(),t.drag.offset.dx,t.drag.offset.dy));break;case 4:case 5:n.onclick&&n.onclick.call(a,t);break;case 7:r&&(l.EF.Destroy(r),t.drag.cancel||(e(s=n.ondrop||"ExDrop")||(s=t.target[s]),s&&s.call(t.target,t,n)))}},n)}},Rng:M,Cancel:function(){M()&&I(Q,0)},Listeners:gt,ModKeys:ft}}(),l.RUCOptions={client:null,contiguously:!1,contiguouslyTTS:null,contiguouslyTTC:null,activeObjects:{oAO:null,owner:null,unfreezemask:null,freezemask:null}},l.RUC=function(t,n,i,e){function r(t,e){t&&(!u||f&&l.PInfR(f.x,f.y,u))&&n.call(i,t,e)}function s(){m&&(clearTimeout(m),m=null),S&&(clearInterval(S),S=null)}function o(){s(),S=setInterval(function(){r(d)},C)}function a(t){return l.DfO({},t)}function h(t){d=a(t)}var u=e&&(e.client?l.C2R(e.client):null),c=function(){if(e){var t=e.activeObjects;return t&&(t.oAO&&null!=t.unfreezemask||null!=t.freezemask)&&t}}(),f=null,g=l.e2B(t),d=null,v=e&&e.contiguously,p=l.ToI(e&&e.contiguouslyTTS,l.Def.RUC.contiguouslyTTS),C=l.ToI(e&&e.contiguouslyTTC,l.Def.RUC.contiguouslyTTC),m=null,S=null;l.RUR.Do(t,function(t){switch(t.drag.status){case 1:if(f=t.drag.current,c){var n=c.oAO.wRUR();null!=c.unfreezemask?(n.Save(),n.FreezeAll(),n.Unfreeze(c.owner,c.unfreezemask)):null!=c.freezemask&&(n.Save(),n.UnfreezeAll(),n.Freeze(c.owner,c.freezemask))}v&&(h(t),s(),m=setTimeout(function(){r(d),o()},p));break;case 2:f=t.drag.current,v&&(h(t),o());break;case 7:if(f=t.drag.current,v&&(h(t),s()),c&&c.oAO.wRUR().Restore(),!t.drag.cancel){var i=a(t);i.buttons=g,r(i,!0)}}},i)},l.RAF=function(t){var n,i={ID:null};if(t){var e=l.win,r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame;if(r){n=t;function s(){n(),null!==i.ID&&(i.ID=r(s))}return i.ID=r(s),i}}return null},l.XAF=function(t){if(t&&t.ID){var n=l.win,i=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame;i&&(i(t.ID),t.ID=null)}},l.pgXOff=function(){return Math.round(l.win.pageXOffset)},l.pgYOff=function(){return Math.round(l.win.pageYOffset)},l.pgrt=function(t){var n=l.doc,i=[0,0,n.documentElement.clientWidth||l.win.innerWidth,n.documentElement.clientHeight||l.win.innerHeight];return(t||null==t)&&(i[0]+=l.pgXOff(),i[1]+=l.pgYOff()),i},l.Ert=function(t){return t?function(t){return[Math.round(t.left),Math.round(t.top),Math.round(t.right-t.left),Math.round(t.bottom-t.top)]}(t.getBoundingClientRect()):[0,0,0,0]},l.EArt=function(t){var n=l.Ert(t);return n[0]+=l.pgXOff(),n[1]+=l.pgYOff(),n},l.EArtC=function(t){return l.IBox(l.EArt(t),t,-1,6)},l.IBox=function(t,n,i,e){function r(t){var n=[];for(var i in t)n.push(l.ToF(t[i]));return n}return t&&n&&(t=t.slice(),1&(e=null==e?-1:e)&&l.Inf(t,r(l.CSSmar(n)),i),2&e&&l.Inf(t,r(l.CSSbor(n)),i),4&e&&l.Inf(t,r(l.CSSpad(n)),i)),t},l.Iwh=function(t){return t&&~",CANVAS,EMBED,IFRAME,IMG,OBJECT,VIDEO".indexOf(","+t.tagName)},l.Ewh=function(t){var n,i,e;return t&&(n=(e=l.Iwh(t))?t.width:t.style.width,i=e?t.height:t.style.height),{w:~~n,h:~~i}},l.ETo=function(t,n){if(t){var i,e,r,s=n,o=t.style;if(n=l.C2R(n),s&&null!=s[0]&&(o.left=l.toU(n[0])),s&&null!=s[1]&&(o.top=l.toU(n[1])),i=n[2],e=n[3],(r=l.Ewh(t)).w!=i||r.h!=e)return l.Iwh(t)?(t.width=i,t.height=e):(o.width=l.toU(i),o.height=l.toU(e)),!0}},l.EShow=function(t,n){t&&(t.style.display=n?"":"none")},l.EClip=function(t,n){if(t){var i="",e="",r=t.style;if(null!=n){var s=l.LOf(n),o=l.TOf(n),a=l.ROf(n),h=l.BOf(n);i="rect(",i+=l.toU(o)+",",i+=l.toU(a)+",",i+=l.toU(h)+",",i+=l.toU(s),i+=")";var u=l.EArt(t);e="inset(",e+=l.toU(o)+" ",e+=l.toU(l.WOf(u)-a)+" ",e+=l.toU(l.HOf(u)-h)+" ",e+=l.toU(s),e+=")"}"clip"in r&&(r.clip=i),"clipPath"in r&&(r.clipPath=e)}},l.EClipTo=function(t,n,i){if(t){var e;if(n){var r=l.EArtC(n);l.EyR(i)||(l.ORt(r,i[0],i[1]),r[2]=i[2],r[3]=i[3]);var s=l.EArt(t),o=l.NRt(s,r);l.EqR(o,s)||(l.EyR(o)&&(o=[0,0,0,0]),e=o=l.ORt(o,-l.LOf(s),-l.TOf(s)))}l.EClip(t,e)}},l.Eus=function(t){return t&&t.style&&t.style[l.styleUserSelect]||""},l.usE=function(t,n){var i=l.Eus(t);if(t&&null!=n){var e=t.style;e&&(e[l.styleUserSelect]=n)}return i},l.CSS=function(t){try{return l.win.getComputedStyle(t)}catch(t){}return null},l.CSSpad=function(t){var n={left:"",top:"",right:"",bottom:""},i=l.CSS(t);return i&&(n.left=i.paddingLeft,n.top=i.paddingTop,n.right=i.paddingRight,n.bottom=i.paddingBottom),n},l.CSSmar=function(t){var n={left:"",top:"",right:"",bottom:""},i=l.CSS(t);return i&&(n.left=i.marginLeft,n.top=i.marginTop,n.right=i.marginRight,n.bottom=i.marginBottom),n},l.CSSbor=function(t){var n={left:"",top:"",right:"",bottom:""},i=l.CSS(t);return i&&(n.left=i.borderLeftWidth,n.top=i.borderTopWidth,n.right=i.borderRightWidth,n.bottom=i.borderBottomWidth),n},l.CSSzom=function(t){var n=1,i=l.CSS(t);return i&&i.zoom&&(n=i.zoom),n},l.CSSz=function(t){for(var n=null;(n=l.CSS(t))&&isNaN(n.zIndex);)t=t.parentNode;return n&&n.zIndex||0},l.IsCanvas=function(t){return t instanceof HTMLCanvasElement},l.dCTX=function(t){return t&&(t.textBaseline=l.textBaseline,t.font=l.defGUIFont,t.globalAlpha=1),t},l.PInR=function(t,n,i,e,r){if(i){e=e||0;var s,o=i[0]-e;if(t>=o&&t<o+i[2]+2*e&&(r=r||0,s=i[1]-r,n>=s&&n<s+i[3]+2*r))return!0}},l.PInfR=function(t,n,i){return i&&l.PInR(t,n,i,l.Def.HT.inflate[0],l.Def.HT.inflate[1])},l.PInLn=function(t,n,i,e){e=e||2;var r=l.G,s=r.X(n),o=r.Y(n),a=r.X(i),h=r.Y(i),u=r.X(t),c=r.Y(t);if(u>=Math.min(s,a)-e&&u<=Math.max(s,a)+e&&c>=Math.min(o,h)-e&&c<=Math.max(o,h)+e){var f=s-a,g=o-h;return(Math.abs(f)<e?Math.abs(u-s):Math.abs(c-(o+g/f*(u-s))))<e}},l.PInPs=function(t,n,i){var e=0,r=n.length;if(r>1)for(var s=1,o=n[0],a=null;!e&&s<r;s++,o=a)l.PInLn(t,o,a=n[s],i)&&(e=s);return e},l.P2HT=function(t,n,i,e,r){var s,o=0;return i&&l.PInR(t,n,i)&&(s=l.IRt(i.slice(),-e||0,-r||0),o|=t<l.LOf(s)?1:t>l.ROf(s)?4:2,o|=n<l.TOf(s)?16:n>l.BOf(s)?64:32),o},l.EyR=function(t){return!t||t[2]<1||t[3]<1},l.EqR=function(t,n){return t===n||t&&n&&t[0]==n[0]&&t[1]==n[1]&&t[2]==n[2]&&t[3]==n[3]},l.EqS=function(t,n){return t===n||t&&n&&t[2]==n[2]&&t[3]==n[3]},l.NRt=function(t,n){var i,e,r,s,o,a,h,u,c=l;return t&&n?(e=c.ROf(t))>=n[0]&&(r=c.ROf(n))>=t[0]&&(s=c.BOf(t))>=n[1]&&(o=c.BOf(n))>=t[1]&&(i=[a=Math.max(t[0],n[0]),h=Math.max(t[1],n[1]),Math.min(e,r)-a,Math.min(s,o)-h]):(u=t||n)&&(i=u&&u.slice()),i},l.URt=function(t,n){var i,e,r;return t&&n?i=[e=Math.min(t[0],n[0]),r=Math.min(t[1],n[1]),Math.max(t[0]+t[2],n[0]+n[2])-e,Math.max(t[1]+t[3],n[1]+n[3])-r]:(i=t||n)&&(i=i.slice()),i},l.URts=function(t){function n(t,n){return l.EyR(n)?t:l.EyR(t)?n:l.URt(t,n)}var i=null,e=arguments.length;if(e>0)if(e>1)for(var r=0;r<e;r++)i=n(i,arguments[r]);else t&&t.forEach(function(t){i=n(i,t)});return i},l.ORt=function(t,n,i){return t[0]+=n||0,t[1]+=i||0,t},l.IRt=function(t,n,i){return n=n||0,t[0]-=n,t[2]+=2*n,i=i||0,t[1]-=i,t[3]+=2*i,t},l.RRt=function(t){if(t)for(var n=0,i=Math.min(4,t.length);n<i;n++)t[n]=Math.round(t[n]);return t},l.TOf=function(t){return t[1]},l.HOf=function(t){return t[3]},l.BOf=function(t){return l.TOf(t)+l.HOf(t)},l.LOf=function(t){return t[0]},l.WOf=function(t){return t[2]},l.ROf=function(t){return l.LOf(t)+l.WOf(t)},l.C2R=function(t){if(n(t)){for(var i=t.length;i<4;i++)t.push(0);t=[t[0],t[1],t[2],t[3]]}else t=[0,0,l.ToN(t),l.ToN(t)];return t},l.Inf=function(t,n,i){if(n){i=null==i?1:i;var e=l.ToN,r=e(n[0]),s=e(n[2]),o=e(n[1]),a=e(n[3]);t[0]-=i*r,t[2]+=i*(r+s),t[1]-=i*o,t[3]+=i*(o+a)}return t},l.FRt=function(t,n,i){i=i||0;var e,r=l,s=Math.max(0,i+r.LOf(n)-r.LOf(t));return r.WOf(t)<r.WOf(n)-2*i?s-=Math.max(0,i+r.ROf(t)-r.ROf(n)):s=r.LOf(n)+i-r.LOf(t),e=Math.max(0,i+r.TOf(n)-r.TOf(t)),r.HOf(t)<r.HOf(n)-2*i?e-=Math.max(0,i+r.BOf(t)-r.BOf(n)):e=r.TOf(n)+i-r.TOf(t),r.ORt(t,s,e)},l.pad2A=function(t){var n=[0,0];return null!=t&&(l.IsN(t)?n[1]=n[0]=l.ToN(t):(l.IsS(t)&&(t=t.toString().trim().split(",")),l.IsA(t)&&(n[0]=l.ToN(t[0]||0),n[1]=l.ToN(t[1]||0)))),n},l.PRt=function(t,n,i){if(n){i=null==i?1:i;var e=l.pad2A(n);t=l.IRt(t,i*e[0],i*e[1])}return t},l.TransA=function(t,n){function i(t,n,i){if((n=n||4)>1){var e,r,s,o,a;if(t&&(e=t.length)>2){for(r=[],s=0,o=e;a=~~((o-s)/n);)r.push(t[i?o-1-s:s]),s+=a;for(;s<o;)r.push(t[i?o-1-s:s]),s++;t=i?r.reverse():r}}return t}return"builtin-ease-out"==n?t=i(t):"builtin-ease-in"==n?t=i(t,0,!0):null!=n&&(t=new l.G.Bezier(n).Trans(t)),t},l.HitTest={Rect:function(t,n,i,e){var r=0,s=(e=e||l.Def.HT.inflate)[0],o=e[1],a=[i[0]-s,i[1]-o,i[2]+2*s,i[3]+2*o];if(l.PInR(t,n,a)){var h=e[2],u=e[3],c=[i[0]+h,i[1]+u,Math.max(0,i[2]-2*h),Math.max(i[3]-2*u)];r|=t<c[0]?1:t>c[0]+c[2]?4:2,r|=n<c[1]?16:n>c[1]+c[3]?64:32}return r},Cursor:{Rect:function(t,n){var i=n||"auto";if(256==(256&t))i="pointer";else switch(t){case 17:i="nw-resize";break;case 18:case 16:i="n-resize";break;case 20:i="ne-resize";break;case 33:case 1:i="w-resize";break;case 34:case 2:case 32:i="move";break;case 36:case 4:i="e-resize";break;case 65:i="sw-resize";break;case 66:case 64:i="s-resize";break;case 68:i="se-resize"}return i}},Resize:function(t,n,i,e,r){function s(t,n){var i=n[0]||0,e=n[2]||0;t[2]=Math.max(i,t[2]),e>i&&(t[2]=Math.min(e,t[2]))}function o(t,n){var i=n[1]||0,e=n[3]||0;t[3]=Math.max(i,t[3]),e>i&&(t[3]=Math.min(e,t[3]))}var a;if(e){switch(a=e.slice(),t){case 34:case 2:case 32:a[0]+=n,a[1]+=i;break;default:switch(80&t){case 16:a[1]+=i,a[3]-=i,r&&(o(a,r),a[1]=Math.min(a[1],e[1]+e[3]-a[3]));break;case 64:a[3]+=i,r&&o(a,r)}switch(5&t){case 1:a[0]+=n,a[2]-=n,r&&(s(a,r),a[0]=Math.min(a[0],e[0]+e[2]-a[2]));break;case 4:a[2]+=n,r&&s(a,r)}}r||(a[2]<0&&(a[2]=-a[2],a[0]-=a[2]),a[3]<0&&(a[3]=-a[3],a[1]-=a[3]))}return a}},l.Mrg(l,function(){function t(t){this.bold=this.italic=this.underline=this.strikeout=!1,this.fgColor=this.bgColor=this.fontSize=this.fontName=this.shaColor=this.outColor=this.graColor=null,this.Set(t),this._rgStk=[]}function n(n){var u=i.get(n);return u||(l.IsS(n)?i.set(n,u=function(n){var i=new t;return n.toLowerCase().splitP(" ",null,s).forEach(function(t){if(t=t.trim()){var n,s,u;t.startsWith(e)&&((t=t.substr(1)).endsWith(r)&&(t=t.substr(0,t.length-1)),(t=t.trim())&&~(s=t.indexOf(o))&&(n=t.substr(s+1),t=t.substr(0,s))),(u=function(n){if(t)for(var i=0,e=n.length;i<e;i++)if(n[i].toLowerCase().startsWith(t))return n[i]}(a))?(~h.indexOf(u)&&(n=l.ToCLR(n,"black")),"shaColor"==u?n=n&&l.ToSHA(n)||null:"graColor"==u?n=n&&l.ToGRA(n)||null:a.indexOf(u)<4&&(n=!0),i[u]=n):l.IsN(t)?i.fontSize=l.ToN(t):i.fontName=t}}),i}(n)):u=new t(n)),u}var i=new Map,e="<",r=">",s=e+"([{}])"+r,o=" ",a="bold,italic,underline,strikeout,fgColor,bgColor,fontSize,fontName,outColor,shaColor,graColor".split(","),h="fgColor,bgColor,outColor",u=t.prototype;return u.Set=function(t){if(t)for(var n in t)n in this&&(this[n]=t[n])},u.setShadow=function(t,n){!n||null==n.color&&null==n.width&&null==n.offset||(t.shadowColor=n.color||"#000000",t.shadowBlur=l.ToN(n.width,4),t.shadowOffsetY=t.shadowOffsetX=l.ToN(n.offset,2))},u.bCTX=function(t,n,i){var e={};if(this._rgStk.push(e),e.oFD=t.oFD,e.nRT=t.nRT,e.oGC=t.oGC,(n=null==n||n)&&this.bgColor||this.underline||this.strikeout){var r=t.oFD?t.oFD:{};t.oFD={bgColor:this.bgColor||r.bgColor||null,underline:this.underline||r.underline||!1,strikeout:this.strikeout||r.strikeout||!1}}if(n){if(this.fgColor&&(e.fillStyle=t.fillStyle,t.fillStyle=this.fgColor),this.shaColor){e.oSH=function(t){return{color:t.shadowColor,width:t.shadowBlur,offset:t.shadowOffsetX}}.call(this,t),this.setShadow(t,this.shaColor)}this.outColor&&(e.strokeStyle=t.strokeStyle,t.strokeStyle=this.outColor,t.nRT=1),this.graColor&&(t.oGC=this.graColor)}if(this.bold||this.italic||this.fontSize||this.fontName){var s=t.font;if(-1!=s.search(l.fPX)){var o=l.GetFont(s),a=o.style,h=o.size,u=o.line,c=o.family;this.bold&&-1==a.search(l.fB)&&(a+=" "+l.fB),this.italic&&-1==a.search(l.fI)&&(a+=" "+l.fI),this.fontSize&&(h=Math.round(null==i||i?t.scaleOnFont(this.fontSize):this.fontSize)),this.fontName&&(c=this.fontName),e.font=s,t.font=l.SetFont(a,h,u,c)}}},u.eCTX=function(t){var n=this._rgStk.pop();n.fillStyle&&(t.fillStyle=n.fillStyle),n.strokeStyle&&(t.strokeStyle=n.strokeStyle),n.oSH&&this.setShadow(t,n.oSH),n.font&&(t.font=n.font),t.oGC=n.oGC,t.nRT=n.nRT,t.oFD=n.oFD},t.bCTX=function(t,i){var e=null;return i&&(e=n(i)).bCTX(t,!0,!1),e},t.eCTX=function(t,n){n&&n.eCTX(t)},t.XC=function(){i.clear()},{TFI:t,ToTFI:n}}()),l.HTag=function(){function t(t){if(this.sTag=t,this.sW=null,this.eW=null,this.bF=!1,t){var n=t.indexOf("*");n<0?this.sW=t:(this.bF=!0,n&&(this.sW=t.substr(0,n)),t.length>1&&(this.eW=t.substr(n+1)))}}function n(n){var e=i.get(n);return!e&&i.set(n,e=new t(n)),e}t.prototype.Match=function(t,n){var i=n=n||0,e=0;if(this.sW){if(!t.sWith(this.sW,n))return null;i+=e+=this.sW.length}var r=t.length;if(this.eW){if((r=t.indexOf(this.eW,n))<0)return null;e+=this.eW.length}var s=null;return this.bF&&(e+=(s=t.substr(i,r-i)).length),{eat:e,field:s}};var i=new Map;return{Match:function(t,i,e){return n(t).Match(i,e)},Tag:function(t){return n(t)}}}(),l.H=function(){function t(t,n){this.text=t,this.start=n||0,this.length=this.text.length}function n(t){this.nMMC=3,this.mMSW=new Map,this.mMEW=new Map,this.oHTags=t;for(var n=0,i=t.rgHTag2,e=i.length;n<e;n++)this.add(i[n])}function i(){this.lHTag2=0,this.rgHTag2=[],this.Init(),this.Refresh()}function e(t,n){this.oHL=n||null,this.cap=t,this.off=0}function r(t){this.oHLs=t,this.rgHE=[],this.oAE=null}function s(t){this.oHTMLCaption=t,this.rgHTMLLines=[]}function a(t,n){this.fll=l.ToS(t),this.cap=null,this.oHLs=null,!n&&this.parse()}function h(t,n){this.type=0,this.oHE=n,this.cap=n.cap.expTab(),this.bEF=n.bEF,this.size=this.measure(t),this.off=t.scaleOnFont(n.off)}function u(t,n){this.type=1,this.oHE=n,this.oImg=this.oHE.oImg,this.off=t.scaleOnFont(n.off),this.size=this.measure(t)}function c(){this.rgLE=[],this.off=0,this.oAE=null,this.bT=!1,this.size={width:0,height:0,heightE:0}}function f(t,n,i,e){this.doL(t,n,i,e)}function g(){this.rgHA=[]}function d(){this.mVA=new Map}function p(t,n){return z?z.callback.call(z.thisArg,t,n)+"":t}function C(t,n,i,e){var r=V.get(t);r||V.set(t,r=new Map);var s=null,o=function(t,n,i){var e=null;if(z){var r=z.thisArg;if(r){var s=r.gH2;if(s&&(e=s.call(r)),null==e)return null}}var o=n[2]+";"+n[3]+";"+(-16&i);return e&&(o+=";"+e),o+=";"+t.font}(n,i,e),a=null!=o;return a&&(s=r.get(o)),null==s&&(s=new f(t,n,i,e),a&&r.set(o,s)),s}function m(t){var n=null;return(t=l.ToS(t))&&((n=K.get(t))||K.set(t,n=new a(t))),n}function S(t,n,i,e,r){var s={width:0,height:0};if(i){null==e&&(e=262240);var h=i[2],u=i[3];if(h&&u||1280&e){var c=128&e,g=c?new a(n,!0):m(n);if(2048&e&&(g=m(g.GetCaption()),c&&(g=new a(g.GetCaption(),!0))),g){r&&r.bCTX(t),l.bExpTAB=64&e;var d=c?new f(g,t,i,e):C(g,t,i,e);if(s=d.size,1024&e)i[2]=s.width,i[3]=s.height;else{var v=o(t),p=!(256&e)&&(s.width>h||s.height>u);v.rtCT=null,p&&(t.save(),t.locClip(v.rtCT=i)),d.Draw(t,i,e),p&&t.restore(),v.rtCT=null}r&&r.eCTX(t)}}}return s}function E(t){var n=m(t);return n?n.GetCaption():t}function T(t){V.clear(),t||(K.clear(),Y=[void 0,void 0])}function b(t,n){var i=!1,e=y(t);return e&&(i=e.Has(n)),function(t){var n=t?1:0;if(void 0===Y[n]){Y[n]=null;var i=l.Def.H[(t?"":"un")+"visitAnchorFormat"];i&&new a(i).Elements(function(t){return!(t.oTFI&&(Y[n]=t.oTFI))})}return Y[n]}(i)}function A(t,n){T(!0),function(t){var n=y(t=w(t));n||q.set(t,n=new d);return n}(w(t)).AddVA(n)}function w(t){return l.IsCanvas(t)&&(t=t.getContext("2d")),t}function R(t){return Q.get(w(t))}function y(t){return q.get(w(t))}var O=t.prototype;O.continue=function(){return this.start<this.length},O.next=function(t){return this.start+=void 0===t?1:t,this.start},O.current=function(t){return this.text.substr(this.start,void 0!==t?t<0?void 0:t:1)},O.sWith=function(t){return this.text.sWith(t,this.start)};var k=n.prototype;k.add=function(t){if(t.oSHTag){var n=t.oSHTag.sW,i=t.nIndex;if(n)for(r=n.substr(0,this.nMMC);r.length;)this.addMatch(this.mMSW,r,i),r=r.substr(0,r.length-1)}if(t.oEHTag){var e=t.oEHTag.sW;if(e)for(var r=e.substr(0,this.nMMC);r.length;)this.addMatch(this.mMEW,r,i),r=r.substr(0,r.length-1)}},k.addMatch=function(t,n,i){var e=t.get(n);e||t.set(n,e=[]),e.push(i)},k.MatchTag=function(t,n,i){if(n)for(var e=0,r=n.length;e<r;e++){var s=n[e],o=this.oHTags.rgHTag2[s],a=(i?o.oSHTag:o.oEHTag).Match(t.text,t.start);if(a)return a.tag=s,a.start=i,t.start+=a.eat,a}return null},k.Match=function(t,n,i){for(var e=1,r=!0,s=null;r;){var o=t.text.substr(t.start,e);if(r=o.length==e){var a=n.get(o);(r=null!=a)&&(s=a,(r=++e<this.nMMC)&&1==s.length&&(r=!1))}}return this.MatchTag(t,s,i)},k.MatchAnyStart=function(t){return this.Match(t,this.mMSW,!0)},k.MatchAnyEnd=function(t){return this.Match(t,this.mMEW,!1)},k.MatchAny=function(t){var n=this.MatchAnyStart(t);return n||(n=this.MatchAnyEnd(t)),n},i.HTT={R:1,S:2,A:3,B:4,I:5};var D=i.prototype;D.Init=function(){this.rgHTag2=[],this.Add("<b>","</b>"),this.Add("<i>","</i>"),this.Add("<u>","</u>"),this.Add("<s>","</s>"),this.Add("<fgcolor*>","</fgcolor>"),this.Add("<bgcolor*>","</bgcolor>"),this.Add("<br>"),this.Add("\r"),this.Add("\n"),this.Add("<solidline*>","</solidline>"),this.Add("<dotline*>","</dotline>"),this.Add("<r>"),this.Add("<upline>","</upline>"),this.Add("<img>","</img>"),this.Add("<font*>","</font>"),this.Add("<a*>","</a>"),this.Add("&"),this.Add("<c>"),this.Add("<gra*>","</gra>"),this.Add("<out*>","</out>"),this.Add("<sha*>","</sha>"),this.Add("<off*>","</off>"),this.Add("<%","%>"),this.lHTag2=this.rgHTag2.length},D.Add=function(t,n){this.rgHTag2.push(new function(t,n,i){this.nIndex=t,this.oSHTag=n?l.HTag.Tag(n):null,this.oEHTag=i?l.HTag.Tag(i):null}(this.rgHTag2.length,t,n))},D.Refresh=function(){this.oHTagsP=new n(this)},D.GetHTMLTagPair=function(t){return t>=0&&t<this.rgHTag2.length&&this.rgHTag2[t]||null},D.matchReplacementTag=function(n,i){var e=!0;if(i.sWith(l.HTMLEntityNumber)){for(var r="",s="",o=new t(i.text,i.start+l.HTMLEntityNumber.length);l.IsDigitChar(r=o.current());)s+=r,o.next();(e=0==s.length)||(o.current()==l.HTMLEntityNameEnd&&o.next(),i.start=o.start,n.field=String.fromCharCode(parseInt(s)))}else e=!function(t,n){for(var i=0,e=l.HTMLEntitiesTags.length;i<e;i++){var r=l.HTMLEntitiesTags[i],s=r[0];if(n.sWith(s)){var o=n.current(s.length+1);if(o==s||o==s+l.HTMLEntityNameEnd)return t.field=r[1],n.next(o.length),!0}}}(n,i);return e&&(i.start-=n.eat,n=null),n},D.matchStaticTag=function(t,n){if(this.IsStartTag(t)){for(var i="",e=this.GetTagIndex(t),r=!1;!r&&n.continue();){var s=this.oHTagsP.MatchAnyEnd(n);if(s){var o=this.GetTagIndex(s);(r=o==e)||(i+=this.GetHTMLTagPair(o).oEHTag.sTag)}else i+=n.current(),n.next()}t.field=i}return t},D.MatchTagPair=function(t){var n=this.oHTagsP.MatchAny(t);if(n){var i=this.GetTagIndex(n);this.IsReplacementTag(i)?n=this.matchReplacementTag(n,t):this.IsStaticTag(i)&&(n=this.matchStaticTag(n,t))}return n},D.IsReplacementTag=function(t){return this.GetTagType(t)==i.HTT.R},D.IsAlignmentTag=function(t){return this.GetTagType(t)==i.HTT.A},D.IsStaticTag=function(t){return this.GetTagType(t)==i.HTT.S},D.IsInheritableTag=function(t){return this.GetTagType(t)==i.HTT.I},D.GetTagIndex=function(t){return t.tag},D.IsStartTag=function(t){return t.start},D.IsBreakTag=function(t){return this.GetTagType(t)==i.HTT.B},D.GetTagType=function(t){switch(t){case 0:case 1:case 2:case 3:case 4:case 5:return i.HTT.I;case 6:case 7:case 8:return i.HTT.B;case 9:case 10:return i.HTT.I;case 11:return i.HTT.A;case 12:return i.HTT.I;case 13:return i.HTT.S;case 14:case 15:return i.HTT.I;case 16:return i.HTT.R;case 17:return i.HTT.A;case 18:case 19:case 20:case 21:return i.HTT.I;case 22:return i.HTT.S}return i.HTT.S};var I=new i,M=e.prototype;M.hasLine=function(){var t=this.oLine;return t&&t.type&&t||null},M.getTextColor=function(){var t=this.oTFI;return t?t.outColor?t.outColor:t.fgColor:null},M.isImage=function(){return this.oImg},M.isCaption=function(){return this.cap},M.isEmpty=function(){return!(this.isCaption()||this.isImage())},M.getHTMLCaption=function(){return this.oHL&&this.oHL.oHLs.oHTMLCaption||null},M.getCaption=function(){var t=this.cap;return this.bEF&&(t=p(t,this.getHTMLCaption())),t},M.getTFI=function(){return this.oTFI||(this.oTFI=new l.TFI)},M.ApplyTag=function(t){function n(t){}function i(t,n,i){return l.ToCLR(t,n,i)}function e(t){var n=t.oLine;return n||(n=t.oLine={type:0,position:0,color:null}),n}var r=I.GetTagIndex(t);switch(r){case 0:this.getTFI().bold=!0;break;case 1:this.getTFI().italic=!0;break;case 2:this.getTFI().underline=!0;break;case 3:this.getTFI().strikeout=!0;break;case 4:(u=t.field)&&(l.IsHC(u.charAt(0))||(u=u.substr(1)),u&&(this.getTFI().fgColor=i(u,"#FFFFFF")));break;case 5:(u=t.field)&&(l.IsHC(u.charAt(0))||(u=u.substr(1)),u&&(this.getTFI().bgColor=i(u,"#000000")));break;case 6:case 7:case 8:n();break;case 9:(u=t.field)&&(l.IsHC(u.charAt(0))||(u=u.substr(1)),u&&(u=i(u,"#000000")));(s=e(this)).type=1,u&&(s.color=u);break;case 10:(u=t.field)&&(l.IsHC(u.charAt(0))||(u=u.substr(1)),u&&(u=i(u,"#000000")));var s=e(this);s.type=2,u&&(s.color=u);break;case 11:n();break;case 12:e(this).position=-1;break;case 13:(u=t.field)&&(this.oImg=function(t){var n={name:t,width:0,height:0};if(t){var i=t.indexOf(":");if(i>=0){n.name=l.HP.IsValid(t.substr(t,i));var e=t.substr(i+1),r=e,s="",o=e.indexOf(":");o>=0&&(r=e.substr(t,o).trim(),s=e.substr(o+1).trim()),n.width=parseInt(r)||0,n.height=parseInt(s)||0}}return n}(u));break;case 14:if(u=t.field){var o=u,a=0,h=u.indexOf(";");h>=0&&(o=u.substr(0,h),a=parseFloat(u.substr(h+1))||0),(o=o.trim())&&(this.getTFI().fontName=o),a>0&&(this.getTFI().fontSize=a)}break;case 15:u=t.field;this.oAnchor=function(t){var n={id:(t||"").trim(),options:null};if(t){var i=t.indexOf(";");i>=0&&(n.id=t.substr(0,i).trim(),n.options=t.substr(i+1).trim())}return n}(u);break;case 16:case 17:n();break;case 18:this.getTFI().graColor=l.ToGRA(t.field);break;case 19:(u=t.field)&&(l.IsHC(u.charAt(0))||(u=u.substr(1)),u&&(u=i(u,"#000000"))),u||(u="#000000"),this.getTFI().outColor=u;break;case 20:this.getTFI().shaColor=l.ToSHA(t.field);break;case 21:var u,c=0;(u=l.ToS(t.field).trim())&&(c=parseFloat(u)),this.off+=c;break;case 22:this.cap=l.ToS(t.field).trim(),this.bEF=!!this.cap}return this},M.ApplyTags=function(t){return t.forEach(function(t){this.ApplyTag(t)},this),this};var P=r.prototype;P.IsAligned=function(){return this.oAE},P.Align=function(t){switch(t){case 11:this.AlignRight();break;case 17:this.AlignCenter()}},P.getAlignElements=function(){return this.oAE||(this.oAE={center:-1,right:-1}),this.oAE},P.AlignCenter=function(){var t=this.getAlignElements();t.center<0&&t.right<0&&(t.center=this.rgHE.length)},P.AlignRight=function(){var t=this.getAlignElements();t.right<0&&(t.right=this.rgHE.length)},P.Add=function(t){return this.Elements().push(t),this},P.NewElement=function(){return new e("",this)},P.Elements=function(){return this.rgHE};var W=s.prototype;W.array=function(){return this.rgHTMLLines},W.Add=function(t){return this.array().push(t),this},W.NewLine=function(){return new r(this)};var L=a.prototype;L.parse=function(){function n(t,n){for(var i=t.length-1;i>=0;i--){var e=t[i];if(I.GetTagIndex(e)==n)return i}return-1}var e=this.oHLs;if(null==e){var r=null,o=null,a=[];o=(r=(e=this.oHLs=new s(this)).NewLine()).NewElement();for(var h=new t(this.fll);h.continue();){var u=I.MatchTagPair(h);if(u){var l=I.GetTagIndex(u);switch(I.GetTagType(l)){case i.HTT.R:o.cap+=u.field;break;case i.HTT.S:o.isEmpty()||(r.Add(o.ApplyTags(a)),o=r.NewElement()),o.ApplyTags(a),r.Add(o.ApplyTag(u)),o=r.NewElement();break;case i.HTT.A:o.isEmpty()||(r.Add(o.ApplyTags(a)),o=r.NewElement()),r.Align(l);break;case i.HTT.B:e.Add(r.Add(o.ApplyTags(a))),o=(r=e.NewLine()).NewElement();break;default:if(I.IsStartTag(u))o.isEmpty()||(r.Add(o.ApplyTags(a)),o=r.NewElement()),a.push(u);else{var c=n(a,l);c>=0&&(o.isEmpty()||(r.Add(o.ApplyTags(a)),o=r.NewElement()),a.splice(c,1))}}}else o.cap+=h.current(),h.next()}e.Add(r.Add(o.ApplyTags(a)))}},L.isPlainText=function(){return null==this.oHLs},L.HLs=function(){return this.oHLs.array()},L.Elements=function(t){if(this.isPlainText()){var n,i,r=this.fll;if(o=r.length)for(n=new RegExp(l.dtEOL,"");o;)(i=n.exec(r))?(o=t(new e(r.substr(0,i.index))))&&(r=r.substr(i.index+i.length),o=t(null)):(o=t(new e(r)))&&(r=""),o=o&&0!=r.length}else for(var s=this.HLs(),o=!0,a=0,h=s.length;o&&a<h;a++){for(var u=s[a].Elements(),c=0,f=u.length;o&&c<f;c++)o=t(u[c]);o&&a+1<h&&(o=t(null))}},L.GetCaption=function(){if(this.isPlainText())return this.fll;var t=this.cap;if(null==this.cap){t="";var n=this.HLs(),i=n.length;n.forEach(function(n,e){n.Elements().forEach(function(n){t+=n.getCaption()}),e+1<i&&(t+="\n")}),z||(this.cap=t)}return t},L.GetHTMLCaption=function(){return this.fll},L.GetEF=function(){var t=[];return this.Elements(function(n){return n&&n.bEF&&t.push(n.cap),!0}),t};var G=function(){}.prototype;G.bCTX=function(t,n,i){var e=t.oTFI,r=t.oAnchor;e&&e.bCTX(n,i),r&&l.H.bACTX(n,r,i)},G.eCTX=function(t,n){var i=t.oAnchor,e=t.oTFI;i&&l.H.eACTX(n,i),e&&e.eCTX(n)};var H=h.prototype;H.setCaption=function(t,n){this.bEF=!1,this.cap=n,this.size=this.measure(t)},H.getCaptionToBreakAt=function(t,n,i){this.bCTX(n);var e=t.substr(0,1+t.breakAt(n,i));return this.eCTX(n),e},H.getHTMLCaption=function(){return this.oHE.getHTMLCaption()},H.getCaption=function(){var t=this.cap;return this.bEF?p(t,this.getHTMLCaption()):t},H.measure=function(t,n){this.bCTX(t,!1);var i={width:(n||this.getCaption()).toWidth(t),height:t.fontHeight()};return this.eCTX(t),i},H.bCTX=function(t,n){G.bCTX(this.oHE,t,n)},H.eCTX=function(t){G.eCTX(this.oHE,t)},H.Draw=function(t,n,i,e,r){this.bCTX(t,e),t.renderText(this.getCaption(),n,i),r&&r.call(this),this.oHE.oAnchor&&N.AddA(t,n,i,this),this.eCTX(t)};var X=u.prototype;X.bCTX=function(t,n){G.bCTX(this.oHE,t,n)},X.eCTX=function(t){G.eCTX(this.oHE,t)},X.getHTMLPicture=function(){var t=l.HP.Item(this.oImg.name);return null!=t&&t.IsValid()?t:null},X.measure=function(t){var n={width:16,height:16},i=this.getHTMLPicture(),e=this.oImg.width,r=this.oImg.height;return null!=i?(n=i.GetSize(),(e>0||r>0)&&(e>0&&r>0?(n.width=e,n.height=r):(e>0&&(n.height*=e/n.width,n.width=e),r>0&&(n.width*=r/n.height,n.height=r)))):(e>0||r>0)&&(n.width=e,n.height=r,n.width=n.width||n.height,n.height=n.height||n.width),n.width=t.scaleOnFont(n.width),n.height=t.scaleOnFont(n.height),n},X.Draw=function(t,n,i,e,r){this.bCTX(t,e);var s=this.getHTMLPicture();s?s.Draw(t,[n,i,this.size.width,this.size.height]):this.drawImageHolder(t,n,i,e),r&&r.call(this),this.oHE.oAnchor&&N.AddA(t,n,i,this),this.eCTX(t)},X.drawImageHolder=function(t,n,i,e){this.bCTX(t),l.HP.DrawPH(this.oImg.name,t,[n,i,this.size.width,this.size.height]),this.eCTX(t)};var F=c.prototype;F.aEs=function(t,n){if(this.oAE=null,n){var i=-1,e=-1,r=this.len();n.center>=0&&(n.center<t?i=0:n.center<t+r&&(i=n.center-t)),n.right>=0&&(n.right<t?e=0:n.right<t+r&&(e=n.right-t)),(i>=0||e>=0)&&(this.oAE={center:i,right:e})}return this.oAE},F.mEsW=function(t,n){var i=0;if((t=t||0)>=0){var e=this.len();if(t<e){var r=Math.max(0,Math.min(e,void 0===n||-1==n?e:n)-t);if(r>0)for(var s=0,o=t;s<r;s++,o++)i+=this.getE(o).size.width}}return i},F.hasE=function(t){return t>=0&&t<this.rgLE.length},F.getE=function(t){return this.hasE(t)&&this.rgLE[t]||null},F.len=function(){return this.rgLE.length},F.isEmpty=function(){return 0==this.rgLE.length},F.newCaption=function(t,n){return new h(t,n)},F.addCaption=function(t){this.rgLE.push(t)},F.newImage=function(t,n){return new u(t,n)},F.addImage=function(t){this.rgLE.push(t)},F.newElement=function(t,n){return n.isImage()?this.newImage(t,n):this.newCaption(t,n)},F.addElement=function(t){this.rgLE.push(t)},F.getIterator=function(t,n){var i=this;return{line:i,index:t||0,offset:n||0,IsValid:function(){return i.hasE(this.index)},Element:function(){return i.getE(this.index)},Next:function(){var t=this.Element();if(t)switch(t.type){case 1:this.index++,this.offset=0;break;default:this.offset++,this.offset>=t.getCaption().length&&(this.index++,this.offset=0)}},Prev:function(){if(this.offset)this.offset--;else{this.index--;var t=this.Element();if(t)switch(t.type){case 1:this.offset=0;break;default:this.offset=t.getCaption().length}}},IsBreak:function(){var t=this.Element();if(t)switch(t.type){case 1:break;default:return l.dtWB.test(t.getCaption().charAt(this.offset))}return!0},IsZero:function(){return 0==this.index&&0==this.offset},Copy:function(){return i.getIterator(this.index,this.offset)}}},F.hasBreak=function(){function t(t){return t.search(l.dtWB)>=0}for(var n=0,i=this.rgLE.length;n<i;n++){var e=this.rgLE[n];if(!e.type&&t(e.getCaption()))return!0}},F.indexOf=function(t){for(var n=0,i=this.rgLE.length;n<i;n++){var e=this.rgLE[n];if(0==e.type){var r=e.getCaption().indexOf(x);if(r>=0)return this.getIterator(n,r)}}return null},F.lastIndexOf=function(t){for(var n,i,e=null,r=this.rgLE.length-1;!e&&r>=0;r--)(n=this.rgLE[r]).type||(i=n.getCaption().lastIndexOf(t))>=0&&(e=this.getIterator(r,i));return e},F.draw=function(t,n,i,e,r){function s(t,n,i,e,r){function s(t){return t.nRT?t.strokeStyle:t.fillStyle}t.saveSts("lineWidth","strokeStyle","lineDash"),t.beginPath();var o,a=Math.max(1,Math.round(l.GetFontSize(t)/l.defScaleFontSize)),h=n[0],u=h+n[2],c=n[1]+(e.position<0?0:n[3]);switch(t.lineWidth=a,i?((o=e.color)||(o=r)||(o=s(t)),t.strokeStyle=o):t.strokeStyle=s(t),e.type){case 1:t.setLineDash([]);break;case 2:t.setLineDash([a,a])}t.moveTo(h,c),t.lineTo(u,c),t.stroke(),t.loadSts()}function o(t){return t.oHE.hasLine()}var a=this.size.heightE,h=e,u=this.size.height,c=-1,f=n,g=-1,d=i;this.bT||this.oAE&&((g=this.oAE.right)>=0&&(d-=this.mEsW(g),d=Math.max(n+this.mEsW(0,g),d)),(c=this.oAE.center)>=0&&(f+=this.mEsW(0,c),f+=Math.max(0,(d-f-this.mEsW(c,g))/2),f=Math.min(f,d))),e+=this.off;for(var v=0,p=this.rgLE.length;v<p;v++){v==c?n=f:v==g&&(n=d);var C=this.rgLE[v],m=C.size.width,S=e+this.yAlign(v,C,a);S+=C.off,C.Draw(t,n,S,r,function(){var i=o(C);i&&s(t,[n,h,m,u],r,i,C.oHE.getTextColor())}),n+=m}},F.yAlign=function(t,n,i){var e,r,s=n.size.height,o=i-s,a=0;if(o>0){switch(n.type){case 1:e=-1,t>0?e=t-1:t+1<this.rgLE.length&&(e=t+1),e>=0&&(r=this.rgLE[e].size.height)>s&&(o-=Math.max(0,(r-s)/2))}a=o}return a},F.measure=function(){this.off=0;var t,n,i,e,r,s,o=0,a=0,h=!1;if(this.rgLE.forEach(function(n){t=n.size,o+=t.width,a=Math.max(t.height,a),h|=0!=n.off}),n=a,h){i=0,e=a;for(var u=0,l=this.rgLE.length;u<l;u++)(s=(r=this.rgLE[u]).off)&&(s>0?e=Math.max(e,a+s):i=Math.min(i,this.yAlign(u,r,a)+s));this.off=-i,a=e-i}return this.size={width:o,height:a,heightE:n}},F.breakAt=function(t,n){if(n>0){for(var i=this.rgLE,e=0,r=0,s=i.length;e<=n&&r<s;r++)e+=i[r].size.width;if(e>n){r--;var o=this.getIterator(r,0),a=o.Element();if(a){switch(a.type){case 1:o.index++,o.offset=0;break;default:a.bCTX(t,!1),o.offset=Math.max(r?0:1,a.getCaption().breakAt(t,n-(e-a.size.width))),a.eCTX(t)}if(o.IsValid())return o}}}return null},F.wordBreakAt=function(t,n){if(this.hasBreak()){var i=this.breakAt(t,n);if(null!=i){for(;i.IsValid()&&i.IsBreak();)i.Prev();if(i.IsValid()){var e=i.Copy();for(e.Prev();i.IsValid()&&!i.IsBreak()&&e.IsValid()&&!e.IsBreak();)i.Prev(),e.Prev();if(i.IsZero()){for(;i.IsValid()&&!i.IsBreak();)i.Next();for(;i.IsValid()&&i.IsBreak();)i.Next()}return i}}}return null},F.breakIt=function(t,n){if(n&&!n.IsZero()){var i=n.Element(),e=n.index;if(n.offset){var r=i.getCaption();i.setCaption(t,r.substr(0,n.offset)),e++}return e&&(this.rgLE.splice(e),0==n.offset&&(i=this.rgLE[e-1])),this.measure(),i}return null},F.removeAt=function(t,n){var i=n.Element();if(i){var e=n.index;switch(i.type){case 1:break;default:var r=i.getCaption();(r=r.substr(0,n.offset)+r.substr(n.offset+1))&&(i.setCaption(t,r),e=-1)}e>=0&&this.rgLE.splice(e,1),this.measure(),n.Prev()}},F.getCaption=function(){var t="";return this.rgLE.forEach(function(n){var i=n.getCaption();i&&(t+=i)},this),t},F.getHTMLLine=function(){var t=this.getE(0);return t&&t.oHE.oHL||null};var N=f.prototype;N.doL=function(t,n,i,e){this.rgLL=[],this.oCLL=null,this.iCLL=0;var r=1024&e||256&e,s=32&e,o=16&e,a=262144&e,h=32768&e,u=16384&e,f=this,g=i[2],d=i[3],p={current:this,x:0,y:0,line:new c,newElement:function(t,n){return this.line.newElement(t,n)},newLine:function(){return f.add(this.line),this.y+=this.line.size.height,this.x=0,this.line=new c},breakLine:function(t){var n=!1;do{n=!1;var i=this.line,e=i.wordBreakAt(t,g);if(e&&!e.IsZero()){var s=[],o=e.Element(),a=e.index;if(e.offset){var h,u=o.getCaption();o.setCaption(t,u.substr(0,e.offset)),(h=this.newElement(t,o.oHE)).setCaption(t,u.substr(e.offset)),s.push(h),a++}var l=this.newLine();a&&(v.push.apply(s,i.rgLE.splice(a)),i.measure()),v.push.apply(l.rgLE,s),l.measure(),this.x=l.size.width,n=this.x>g&&(r||this.y<d)}}while(n)}},C=!0;return t.Elements(function(t){if(C=r||p.y<d)if(t){var i,e,a,h,l=p.newElement(n,t);switch(l.type){case 1:i=l.size.width,e=!1,(e=0==p.x||p.x+i<g||!o&&p.x<g)||(e=o)&&p.newLine(),(r||e&&p.y<d)&&(p.line.addElement(l),p.x+=i);break;default:a=l.getCaption(),o?(p.line.addElement(l),p.x+=l.size.width,p.x>g&&p.breakLine(n)):(r||u||(l.setCaption(n,""),(h=g+8-p.x)>0&&l.setCaption(n,l.getCaptionToBreakAt(a,n,h))),p.line.addElement(l),p.x+=l.size.width)}}else!s&&p.newLine();return C}),!p.line.isEmpty()&&f.add(p.line),function(t,n,i,e,r,s){if(!i||e||r||s){var o=l.dtEllipsis.toWidth(t),a=e&&o<n,h=r&&o<n,u=n+(a?-o:+"m".toWidth(t)),c=this.rgLL.length;this.rgLL.forEach(function(e,r){if(e.bT=e.size.width>n){var f,g,d,v,p,C=null;if(s&&(C=e.lastIndexOf(l.dtBack))){for(f=(p=C.Element()).getCaption(),p.setCaption(t,f.substr(0,C.offset)+l.dtEllipsis+f.substr(C.offset)),e.measure(),C.Prev();C.IsValid()&&e.size.width>n;)e.removeAt(t,C);i||e.size.width>n&&e.breakIt(t,e.breakAt(t,n))}else g=u,(d=h&&r+1==c)&&(g=n-o),(v=e.breakAt(t,g))&&(p=e.breakIt(t,v),(a||d)&&p&&0==p.type&&(p.setCaption(t,p.getCaption()+l.dtEllipsis),e.measure()))}})}}.call(this,n,g,r,a,C&&h,u),this.size=this.measure()},N.add=function(t){var n=t.getHTMLLine();if(n!=this.oCLL&&(this.oCLL=n,this.iCLL=0),n){var i=n.IsAligned();i&&t.aEs(this.iCLL,i)}t.measure(),this.rgLL.push(t),n==this.oCLL&&(this.iCLL+=t.len())},N.Draw=function(t,n,i){var e,r,s,o=n[0],a=n[2],h=o+a,u=n[1],l=n[3],c=0==(512&i),f=!(256&i),g=1&i?2:2&i?1:0,d=4&i?2:8&i?1:0;return d&&((s=this.size.height)<l||!f)&&(u+=(l-s)/d),this.rgLL.forEach(function(n){r=o,g&&(e=(a-n.size.width)/g,f&&e<0&&(e=0),r+=e,2==g&&(h=Math.min(h,r+n.size.width))),n.draw(t,r,h,u,c),u+=n.size.height}),this.size},N.measure=function(){var t={width:0,height:0};return this.rgLL.forEach(function(n){t.width=Math.max(t.width,n.size.width),t.height+=n.size.height}),t},N.AddA=function(t,n,i,e){var r=[n,i,e.size.width,e.size.height],s=o(t).rtCT;s&&(r=l.NRt(r,s)),l.EyR(r)||l.H.AddA(t,e.oHE.oAnchor,r)};var B=g.prototype;B.ResetA=function(t){function n(t){return l.NRt(this.client,t)&&this.oAnchor||null}if(t)for(var i=this.rgHA.length-1;i>=0;i--)n.call(this.rgHA[i],t)&&this.rgHA.splice(i,1);else this.rgHA=[]},B.Len=function(){return this.rgHA.length},B.IsEmpty=function(){return!this.Len()},B.AddA=function(t,n){this.rgHA.push(new function(t,n){this.client=n,this.oAnchor=t}(t,n))},B.P2A=function(t,n){function i(t,n){return l.PInR(t,n,this.client)&&this.oAnchor||null}for(var e=null,r=this.rgHA.length-1;!e&&r>=0;r--)e=i.call(this.rgHA[r],t,n);return e};var U=d.prototype;U.A2H=function(t){var n="";return t&&(t.id&&(n+=t.id),n+=";",t.options&&(n+=t.options)),n},U.AddVA=function(t){this.mVA.set(this.A2H(t),t)},U.Has=function(t){return!!this.mVA.get(this.A2H(t))};var z,V=new Map,K=new Map,Y=[void 0,void 0],Q=new Map,q=new Map;return{Draw:S,Measure:function(t,n,i,e,r){var s=null,o=null;if(l.IsN(i))s=o=Math.abs(l.ToN(i));else{var a=i||[null,null,null,null],h=[0,0,a[2]||1024,a[3]||768],u=l.H.Draw(t,n,h,1024|e,r),s=u.width,o=u.height;null!=i&&(null!=a[2]&&(s=Math.min(s,a[2])),null!=a[3]&&(o=Math.min(o,a[3])),null!=a[0]&&(s=Math.max(s,a[0])),null!=a[1]&&(o=Math.max(o,a[1])))}return s&&o?{width:s,height:o}:null},DrawDate:function(t,n,i,e,r,s){var o=Date.SetHObj(i),a=S(t,n,e,r,s);return Date.ResHObj(o),a},TextNoHTML:function(t){return E(l.ToS(t))},DateNoHTML:function(t,n){var i=Date.SetHObj(n),e=E(l.ToS(t));return Date.ResHObj(i),e},SetEObj:function(t,n){var i=z;return z=null,t&&(n=(t=t.callback||t).thisArg||n,z={callback:t,thisArg:n}),i},GetEObj:function(){return z},GetEF:function(t){var n=m(t);return n&&n.GetEF()||null},XC:T,XLC:function(){T(!0)},bACTX:function(t,n,i){var e=b(t,n);e&&e.bCTX(t,i)},eACTX:function(t,n){var i=b(t,n);i&&i.eCTX(t)},AddA:function(t,n,i){n&&function(t){var n=R(t=w(t));return n||Q.set(t,n=new g),n}(t).AddA(n,i)},P2A:function(t,n,i){var e=R(t);return e&&e.P2A(n,i)||null},VisitA:A,ResetA:function(t,n){if(n){var i=R(t);i&&(i.ResetA(n),i.IsEmpty()&&Q.delete(t))}else Q.delete(t)},ResetVA:function(t){T(!0),q.delete(w(t))}}}(),l.HF={Date:function(){function t(t,n){null!=n&&n.split(",").forEach(function(n){(n=n.trim())&&e.set(n,t)})}function n(t){return e.has(t)?e.get(t):0}function i(t,n){if(t){n=n||1971;for(var i=0,e=l.months,r=Date.Create(n,e,1),s=e;s>0;s--){(c=t.sizeHTMLDate("<%mmmm%>",r,0)).width>i&&(e=s,i=c.width),r.PrevMonth()}var o=Date.Create(n,e,1);o.NextMonth(),o.PrevDay();for(var a=0,h=o.GetDay(),s=h,u=0;u<l.days;s--,u++){var c=t.sizeHTMLDate("<%dddd%>",o,0);c.width>a&&(h=s,a=c.width),o.PrevDay()}return Date.Create(n,e,h)}return null}var e=new Map;t(0,"yyyy,yy,loc_g,loc_gg,loc_y,loc_yy,loc_yyyy"),t(1,"hy"),t(2,"q"),t(16,"m,mr,mm,m1,m2,m3,mmm,mmmm,loc_m1,loc_m2,loc_m3,loc_mmm,loc_mmmm"),t(17,""),t(256,"w,ww"),t(4096,"y,d,dd,d1,d2,d3,ddd,dddd,i,loc_sdate,loc_ldate,loc_d1,loc_d2,loc_d3,loc_ddd,loc_dddd,loc_dsep"),t(65536,"h,h12,hh,hh12,AM/PM,loc_time,loc_time24,loc_AM/PM,loc_A/P,loc_tsep"),t(1048576,"n,nn"),t(16777216,"s,ss");return{Evaluate:function(t,n,i){if(r(t)){var e=t[function(t){return"Q"+t.repAll("/","").toUpperCase()}(n)];if(e)return String(e.call(t,i)+"")}return n},Unit:function(t){var i=0;return t&&t.forEach(function(t){i=Math.max(i,n(t))}),i},UnitOf:n,Fields:function(){var t=[];return e.forEach(function(n,i){t.push(i)}),t},MeasureLabel:function(t,n,e,r){var s={width:0,height:0};if(t){r=r||1971;for(var o=Date.Create(r,12,31,23,59,59),a=0;a<l.months;a++)u=t.sizeHTMLDate(n,o,e||0),s.width=Math.max(u.width,s.width),s.height=Math.max(u.height,s.height),o.NextMonth();var h=i(t,r),u=t.sizeHTMLDate(n,h,e||0);s.width=Math.max(u.width,s.width),s.height=Math.max(u.height,s.height)}return s}}}()},l.Sn=function(){function t(t,n,i){this.canvas=t,this.rgDirty=[],this.oImageData=this.save(n,i)}function n(t){return t.getContext("2d")}function i(t,n){var i=o.get(t);return i||n&&o.set(t,i=new Map),i}function e(t){o.delete(t)}function r(t,n){var e=i(t);return e?e.get(n):null}var s=t.prototype;s.hasData=function(){return null!=this.oImageData},s.gCtx=function(){return n(this.canvas)},s.save=function(t,n){this.rtSource=t||[0,0,this.canvas.width,this.canvas.height],this.oImageData=null;var i=this.gCtx();if(i){try{this.oImageData=i.getImageData.apply(i,this.rtSource)}catch(t){}this.oImageData&&this.applyAlpha(this.oImageData,n)}return this.oImageData},s.getAlpha=function(t){return(t=void 0!==t?t:1)>=0&&t<1?t:1},s.applyAlpha=function(t,n){if(1!=(n=this.getAlpha(n)))for(var i=t.data,e=3,r=i.length;e<r;e+=4)i[e]*=n},s.restore=function(t){var n=this.gCtx();if(n&&this.oImageData){var i=this.rtSource[0],e=this.rtSource[1];if(n.putImageData(this.oImageData,i,e),1!=(t=this.getAlpha(t))){var r=null;try{r=n.getImageData.apply(n,this.rtClient)}catch(t){}this.applyAlpha(r,t),n.putImageData(r,i,e)}}return n},s.restoreClient=function(t){var n=this.gCtx();if(n&&this.oImageData){var i=l.NRt(this.rtSource,t);if(null!=i){var e=this.rtSource[0],r=this.rtSource[1],s=i[0],o=i[1],a=i[2],h=i[3];n.putImageData(this.oImageData,e,r,s-e,o-r,a,h)}}return n},s.restoreDirty=function(t){var n=this.gCtx();return n&&this.oImageData&&(t=null!=t?t:16,this.rgDirty.forEach(function(n){this.restoreClient(l.IRt(n.slice(),t,t))},this),this.rgDirty.splice(0)),n},s.setDirty=function(t){null!=t&&this.rgDirty.push(t.slice())};var o=new Map;return function(s){return{Save:function(n,e,r){return function(n,e,r,s){var o=null,a=i(n,!0);return a&&((o=new t(n,r,s)).hasData()?a.set(e,o):o=null),o}(s,n,e,r)},Restore:function(t,i){return function(t,i,e){var s=r(t,i);return s&&s.restore(e),n(t)}(s,t,i)},RestoreClient:function(t,i){return function(t,i,e){var s=r(t,i);return s&&s.restore(e),n(t)}(s,t,i)},RestoreDirty:function(t,i){return function(t,i,e){var s=r(t,i);return s&&s.restoreDirty(e),n(t)}(s,t,i)},SetDirty:function(t,i){return function(t,i,e){var s=r(t,i);return s&&s.setDirty(e),n(t)}(s,t,i)},Remove:function(t){!function(t,n){var r=i(t);r&&(r.delete(n),0==r.size&&e(t))}(s,t)},Item:function(t){return r(s,t)},Exists:function(t){return null!=this.Item(t)},Has:function(t){return null!=this.Item(t)},Clear:function(){!function(t){e(t)}(s)}}}}(),l.Grayscale=function(t,n,i){function e(t,n){s[t+n+1]+=(h-s[t+n+1])*i}if(i=Math.max(0,Math.min(1,null==i?1:i)))try{var r=t.getImageData.apply(t,n);if(r){for(var s=r.data,o=3,a=s.length;o<a;o+=4){if(s[o+0]){var h=.3*s[o+1]+.59*s[o+2]+.11*s[o+3];e(o,0),e(o,1),e(o,2)}}t.putImageData(r,n[0],n[1])}}catch(t){}},l.BCscale=function(t,n,i,e){function r(t,n){o[t+n+1]=(e[n]*u+o[t+n+1])*i[n]}if(i||e)try{var s=t.getImageData.apply(t,n);if(s){i=i||[.5,.5,.5],e=e||[.5,.5,.5];for(var o=s.data,a=3,h=o.length;a<h;a+=4){var u=o[a+0];u&&(r(a,0),r(a,1),r(a,2))}t.putImageData(s,n[0],n[1])}}catch(t){}},l.HTMLPicture=l.HP=function(){function t(t){return l.ToS(t).trim().toLowerCase()}function n(t,n,i){var e,r,s=null!=n,o=null!=i;return t&&t.width&&t.height&&(e={width:0,height:0},r=t.width/t.height,s&&o&&(o=!(s=n/r<=i)),s&&(e.width=n,e.height=n/r),o&&(e.width=i*r,e.height=i)),e}function i(t,n){this.oHPs=t,this.oHIE=this.SetSource(n)}function e(){this.hTC=null,this.oLts=new l.Lts,this.oLts.add("onchange"),this.mP=new Map}var r=i.prototype;r.SetSource=function(t){return this.oHIE=null,t instanceof HTMLImageElement?this.oHIE=t:(this.oHIE=new Image,this.oHIE.src=t),this.oHIE instanceof HTMLImageElement?o&&(this.oHIE.onload=function(){o.onChange(this)}):this.oHIE=null,this.oHIE},r.Image=function(){return this.oHIE},r.IsEmpty=function(){return!this.oHIE||(0==this.oHIE.width||0==this.oHIE.height)},r.IsCompleted=function(){return this.oHIE&&this.oHIE.complete},r.IsValid=function(){return!this.IsEmpty()&&this.IsCompleted()},r.GetSize=function(){var t=this.IsCompleted();return{width:t&&this.oHIE.width||0,height:t&&this.oHIE.height||0}},r.Draw=function(t,n){var i=this.IsValid()&&n;if(i){var e=n[0],r=n[1],s=n[2],o=n[3],a=this.GetSize();t.drawImage(this.Image(),0,0,a.width,a.height,e,r,s,o)}return i};var s=e.prototype;s.onChange=function(t){l.H.XLC();var n=this,i=l.HP.TTC;i>0?(clearTimeout(this.hTC),this.hTC=setTimeout(function(){n.onchange(t)},i)):n.onchange(t)},s.onchange=function(t){this.oLts.onchange.do(t)},s.addEventListener=function(t,n,i){this.oLts.add(t,n,i)},s.removeEventListener=function(t,n,i){clearTimeout(this.hTC),this.oLts.remove(t,n,i)},s.Item=s.item=function(n){return n instanceof i?n:(n=t(n))?this.mP.get(n):null},s.Add=s.add=function(n,e){var r=null;return(n=t(n))&&((r=this.item(n))?r.SetSource(e):(this.mP.set(n,r=new i(this,e)),this.onChange(r))),r},s.Remove=s.remove=function(n){if(n=t(n)){var i=this.item(n);i&&(this.mP.delete(n),this.onChange(i))}},s.Clear=s.clear=function(){this.mP.size&&(this.mP.clear(),this.onChange(null))},s.Draw=s.draw=function(n,i,e){if(n=t(n)){var r=this.item(n);if(r)return r.Draw(i,e)}},s.GetSize=s.getSize=function(t){var n=this.item(t);return n?n.GetSize():{width:0,height:0}},s.Count=s.len=function(){return this.mP.size},s.Measure=s.measure=function(t,i,e){var r=null;if(t=l.HP.IsValid(t)){var s=null,o=null,a=!1,h=this.item(t);if(l.IsN(i)){var u=l.ToN(i);a=u<0,s=o=Math.abs(u)}else{var c=i||[null,null],f=c[0],g=c[1];if(0!=f&&0!=g){var d=null!=h?h.GetSize():{width:16,height:16};if(a=g<0||f<0,s=Math.abs(f||d.width),o=Math.abs(g||d.height),!a&&null!=i){var v=n(d,f,g);v&&(s=v.width,o=v.height)}}}s&&o&&(e&&(s=e.scaleOnFont(s),o=e.scaleOnFont(o)),r={width:s,height:o,stretch:a,picture:h})}return r},s.DrawS2=s.drawS2=function(t,i,e,r,s){var a;if(i&&e){s=s||34;var h=this.measure(i,r);if(h){a=e.slice();if(void 0!==r){var u,c=(256&s?null:n(h,e[2],e[3]))||h,f=h.picture;f&&!h.stretch&&(u=n(f.GetSize(),c.width,c.height))&&(c=u),a[2]=c.width,a[3]=c.height,17!=(s&=255)&&(a=l.G.C2R(l.G.R2C(e,s),a[2],a[3],s))}h.picture&&h.picture.Draw(t,a)||o.DrawPH(i,t,e)}}return a},s.forEachU=function(t,n){var i;return n=n||this,this.mP.forEach(function(e,r){!i&&(i=t.call(n,e,r))}),i};var o=new e;return o.IsValid=t,o.DrawPH=function(t,n,i){n.fillPatternRect(i,6,"#F0F0F0"),n.drawFrameRect(i,"#D0D0D0"),n.noFD(function(){n.drawText(t,i,37)})},o.Scale=n,o.TTC=750,o.Proto=r,o}(),l.B=function(){function t(t){function n(t){function n(){d&&(null==v&&(v=d),d="")}function i(){p=p||new Map;var t=function(t){var n=null;if(t){var i=t.indexOf(r.eq),e=t,o=null;i>=0&&(e=t.substr(0,i),o=t.substr(i+r.eq.length));var a=e.split(r.sep),h=a.length;n=[];for(var u=0;u<h;u++){var l={name:a[u],value:u+1==h?o:null};l.name&&(l.name=s(r.fn(l.name))),l.value&&(l.value=s(r.fv(l.value))),n.push(l)}}return n}(d);t&&t.forEach(function(t){p.set(t.name,t.value)}),d=""}function e(t){return r.escWS&&r.escWS.indexOf(t)>=0?(g=!0,u+t+u):null}function s(t){return g&&t?t.repAll(u,""):t}for(var o=0,a=0,h=0,l=t.length,c=0,f=0,g=!1,d="",v=null,p=null,C=null;null==C&&h<l;h++){var m=t[h],S=m;if(c==r.esc)m==r.esc?m="":(f=e(m))&&(S=f,m="");else if(m)switch(m){case r.sP:o||a||(n(),C=t.substr(h+1,l-(h+1)-1),S="");break;case r.sO:o||(0==a&&(n(),S=""),a++);break;case r.eO:o||0==--a&&(i(),S="");break;case r.esc:c!=r.esc&&(S="");break;default:if(o&&(f=e(m)))S=f;else if(null!=r.str){var E=r.str.indexOf(m);E>=0&&(o=o?0:r.str[E],S="")}}S&&(d+=S),c=m}n();return{caption:s(v||""),flags:p,subText:s(C||"")}}function i(){var t=!1;return(t=!o&&!a&&!h)&&(e.push(n(g+d+v)),g="",d="",v=""),t}var e=[];if(t=l.ToS(t)){for(var r=c.options||{},s=t.length,o=0,a=0,h=0,f=0,g="",d="",v="",p=0;p<s;p++){var C=t[p],m=C;if(f==r.esc)C==r.esc&&(C="");else switch(C){case r.sP:o||h||a++;break;case r.eP:o||h||--a||(v+=m,m="");break;case r.sO:o||h++;break;case r.eO:o||--h||a||(d+=m,m="");break;case r.sep:i()&&(m="");break;default:if(r.str){var S=r.str.indexOf(C);S>=0&&(o=o?0:r.str[S])}}m&&(a?v+=m:h?d+=m:g+=m),f=C}i()}return e}function i(){if(null==h){h={escC:"",escFN:"",escFV:""};var t=c.options;t.esc&&([t.esc,t.sP,t.eP,t.sO,t.eO,t.sep,t.str].forEach(function(t){h.escC+=t}),[t.esc,t.sO,t.eO,t.eq,t.str,t.escWS].forEach(function(t){h.escFN+=t}),[t.esc,t.sO,t.eO,t.str,t.escWS].forEach(function(t){h.escFV+=t}))}return h}function e(t,n){var i="";if(null!=t&&(t=t.toString(),i=t,n)){i="";for(var e=0,r=t.length;e<r;e++){var s=t[e];n.indexOf(s)>=0&&(s=c.options.esc+s),i+=s}}return i}function r(t){return e(t,i().escC)}function s(t,n,r){function s(t,n){var r="";return r+=c.options.sO,r+=function(t){return e(t,i().escFN)}(t),null!=n&&(r+=c.options.eq,r+=function(t){return e(t,i().escFV)}(n)),r+=c.options.eO}var o="";if(t instanceof Map&&t.size){var a=[];t.forEach(function(t,i){(function(t,i){return null==n||n.call(r,t,i)})(i,t)&&(null==t?a.push(i):o+=s(i,t))}),a.length&&(o=s(a.join(c.options.sep))+o)}return o}function o(t,i){var e="";return i&&(e+=c.options.sP),n(t)&&(e+=t.join(c.options.sep)),i&&(e+=c.options.eP),e}function a(t){var n=[];return t.forEach(function(t){var i=r(t.caption);if(i+=s(t.flags),t.subText){var e=[];l.B.split(t.subText).forEach(function(t){e.push(a([t]))}),i+=o(e,!0)}n.push(i)}),o(n)}var h=null,u=String.fromCharCode(0),c={options:{sep:",",sP:"(",eP:")",sO:"[",eO:"]",esc:"\\",str:"\"'",eq:"=",escWS:" \t",fn:function(t){return t.trim().toLowerCase()},fv:function(t){return t.trim()}},split:t,quoteC:r,quoteF:s,quoteS:o,quote:a};return c}(),l.P=function(t,n){function i(t,n,i){return null!=t&&n in t?t[n]:i}var e=i(n,"hexa","0x"),r=i(n,"string","`'\""),s=i(n,"date","#"),o=i(n,"arrays","["),a=i(n,"arraye","]"),h=i(n,"arraysep",",");return{expression:t+"",position:0,result:null,continue:function(){return this.position<this.expression.length},currentChar:function(){return this.expression.charAt(this.position)},nextChar:function(){return this.expression.charAt(this.position+1)},current:function(){return this.expression.substr(this.position)},isUndefined:function(){return this.expression.sWith(l.undef,this.position)&&l.undef.length||0},getUndefined:function(){this.result=null;var t=this.isUndefined();if(t)return this.result=void 0,this.position+=t,!0},isNull:function(){return this.expression.sWith(l.null,this.position)&&l.null.length||0},getNull:function(){this.result=null;var t=this.isNull();if(t)return this.result=null,this.position+=t,!0},isBoolean:function(){return this.expression.sWith(l.true,this.position)?l.true.length:this.expression.sWith(l.false,this.position)?l.false.length:0},getBoolean:function(){this.result=null;var t=this.isBoolean();if(t)return this.result=!!this.expression.sWith(l.true,this.position),this.position+=t,!0},isSign:function(t){return t=null!=t?t:this.position,l.IsPlus(this.expression,t)?1:l.IsMinus(this.expression,t)?-1:0},countSigns:function(){for(var t=0,n=this.position;this.isSign(n);)t++,n++;return t},getSign:function(){this.result=null;var t=this.isSign();if(t){for(var n=1;this.continue()&&(t=this.isSign());)n*=t,this.position++;return this.result=n,!0}},isInt:function(t){var n=this.position;return(null==t||t)&&(n+=this.countSigns()),l.IsDigit(this.expression,n)?1:0},getInt:function(){if(this.result=null,this.isInt()){var t=1;this.getSign()&&(t=this.result);for(var n=0;this.continue()&&this.isInt(!1);)n=10*n+(this.expression.charCodeAt(this.position)-48),this.position++;return this.result=n*t,!0}},isHexa:function(){return this.expression.sWithI(e,this.position)?e.length:0},getHexa:function(){this.result=null;var t=this.isHexa();if(t){this.position+=t;var n=0,i=0;for(this.result=0;this.continue()&&(n=l.hex.indexOf(this.currentChar().toUpperCase()))>=0;)this.result=16*this.result+n,this.position++,i++;return i>0&&i<9}},isNumber:function(){return this.isInt()||l.dot==this.expression.charAt(this.position+this.countSigns())?1:0},getNumber:function(){if(this.result=null,this.isNumber()){var t=1;this.getSign()&&(t=this.result),this.getInt();var n=this.result||0;if(n<0&&(n=-n,t=-1),l.dot==this.currentChar()&&(this.position++,this.isInt(!1))){var i=this.eatZero();this.getInt();for(var e=0,r=this.result||0;r>0;)e=e/10+r%10/10,r=Math.trunc(r/10);for(var s=0;s<i;s++)e/=10;n+=e}return this.result=n*t,!0}},isString:function(){return r.indexOf(this.currentChar())>=0?1:0},getString:function(){this.result=null;var t=this.isString();if(t){var n=this.currentChar();for(this.position+=t,this.result="";this.continue();){var i=this.currentChar();if("\\"==i){var e=this.nextChar();if(e==n||"\\"==e)this.position++,i=this.currentChar();else switch(e){case"r":i="\r",this.position++;break;case"n":i="\n",this.position++}}else if(i==n)break;this.result+=i,this.position++}if(this.continue())return this.position++,!0}},isDate:function(){return this.expression.sWithI(s,this.position)?s.length:0},getDate:function(){this.result=null;var t=this.isDate();if(t){var n=this.currentChar();this.position+=t;for(var i=Date.Today(),e=[i.GetMonth(),i.GetDay(),i.GetYear(),0,0,0],r=e.length,s=0;this.continue()&&s<r&&(this.eatSpace(),this.getInt()&&(e[s]=this.result),this.continue()&&this.currentChar()!=n);s++)this.position++;if(this.currentChar()==n)return this.position++,this.result=Date.Create(e[2],e[0],e[1],e[3],e[4],e[5],0),!0}},isArrayS:function(){return this.expression.sWithI(o,this.position)?o.length:0},isArrayE:function(){return this.expression.sWithI(a,this.position)?a.length:0},isArraySep:function(){return this.expression.sWithI(h,this.position)?h.length:0},getType:function(){if(this.eatSpace(),this.continue()){if(this.isUndefined())return this.getUndefined;if(this.isNull())return this.getNull;if(this.isBoolean())return this.getBoolean;if(this.isHexa())return this.getHexa;if(this.isNumber())return this.getNumber;if(this.isDate())return this.getDate;if(this.isString())return this.getString;if(this.isArrayS())return this.getArray}return null},getArray:function(){this.result=null;var t=this.isArrayS();if(t){var n=[];this.position+=t;for(var i=!0,e=void 0,r=0;this.continue()&&i;){var s=this.getType();if(null==s)if(i=!this.isArrayE()){var o=this.isArraySep();o?(this.position+=o,n.push(e),e=void 0):i=!1}else r&&n.push(e);else{var a=r==n.length;a&&r++,e=void 0,s.call(this)&&(e=this.result),a||(e=void 0)}}var h=this.isArrayE();if(h)return this.result=n,this.position+=h,!0}},isSpace:function(){switch(this.currentChar()){case" ":case"\t":case"\r":case"\n":return!0}},eatSpace:function(){for(var t=0;this.continue()&&this.isSpace();)this.position++,t++;return t},eatZero:function(){for(var t=0;this.continue()&&"0"==this.currentChar();)this.position++,t++;return t},getValue:function(){this.eatSpace();var t=this.getType();if(t&&t.call(this))return this.result},sWith:function(t){return this.expression.sWith(t,this.position)},searchFor:function(t){this.result=null;var n=this.expression.indexOf(t,this.position);if(n<0)return 0;var i=n-this.position;return this.result=this.expression.substr(this.position,i),t.length+i},searchForAny:function(t){this.result=null;for(var n=this.position,i=this.expression.length;n<i;){if(t.indexOf(this.expression.charAt(n))>=0){var e=n-this.position;return this.result=this.expression.substr(this.position,e),1+e}n++}return 0},searchAnyOf:function(t){function n(t,n,i){for(var e=0,r=!1,s=i.length;!r&&e<s;e++)r=t.sWith(i[e],n);return r?e:-1}this.result=null;for(var i=this.position,e=this.expression.length;i<e;){var r=n(this.expression,i,t);if(r>=0){var s=i-this.position;return this.result=this.expression.substr(this.position,s),t[r].length+s}i++}return 0}}},l.PF=function(t,n,i){function e(n){return h.forEachU(function(i){return t.sWith(i.key,n)?i:null})}function r(t,n){return n.l=t.length,this.indexOf(t,n.i)}function s(t,n){var i=-1,e=c=n.i,r=this.length,s=0;if(c<r){for(;c<r&&!t.test(this.charAt(c));)c++;for(e=c;e<r&&t.test(this.charAt(e));)e++,s++;n.l=s,i=c}return i}for(var o,a,h=function(t){var n=new Map,i=[],e=new l.KAr;return l.B.split(t).forEach(function(t,e){t.subText.split(",").forEach(function(t){!n.has(t)&&i.push(t),n.set(t,e)})}),i.sort(function(t,n){return n.length-t.length}),i.forEach(function(t){e.add({key:t,i:n.get(t)})}),e}(n),u=[],c=0,f=t.length;c<f;c++)(o=e(c))&&(a=o.key.length,u.push({p:c,l:a,i:o.i}),c+=a-1);this.f=t,this.s=[],this.l=0,i=i||/[^a-zA-Z0-9]/;for(var g,d,v,c=0,f=u.length;c<f;c++)g=u[c],!c&&g.p&&(d=t.substr(0,g.p).trim())&&this.s.push({s:d,c:r}),d=t.substr(v=g.p+g.l,c+1<f?u[c+1].p-v:t.length-(g.p+g.l)).trim(),this.s.push({i:g.i+1,s:d||i,c:d?r:s}),this.l=Math.max(this.l,g.i)};l.PF.prototype.split=function(t,n){var i=[],e=n;if(i.length=this.l,t=l.ToS(t)){n=n||{i:0,l:0};for(var r,s=0,o=0,a=this.s.length;~s&&o<a;o++)s=(r=this.s[o]).c?r.c.call(t,r.s,n):-1,r.i&&(i[r.i-1]=t.substr(n.i,(~s?s:t.length)-n.i)),n.i=~s?s+n.l:t.length;e&&n.l&&~s&&(n.i-=n.l,n.l=0)}return i},l.Q=function(t,n){function i(t,n,i){return null!=t&&n in t?t[n]:i}var e="";switch(l.V2T(t)){case 1:e=l.undef;break;case 2:e=l.null;break;case 4:a=(i(n,"string",'"')+"").charAt(0);e+=a;for(var r=0,s=t.length;r<s;r++){var o=t.charAt(r);switch(o){case"\r":o="\\r";break;case"\n":o="\\n";break;default:o!=a&&"\\"!=o||(o="\\"+o)}e+=o}e+=a;break;case 8:case 16:e+=t;break;case 32:e+=t?l.true:l.false;break;case 512:var a=i(n,"date","#");e+=a,e+=l.Pad0(t.GetMonth()),e+="/",e+=l.Pad0(t.GetDay()),e+="/",e+=t.GetYear();var h=t.GetHour(),u=t.GetMinute(),c=t.GetSecond();(h||u||c)&&(e+=" ",e+=l.Pad0(h),e+=":",e+=l.Pad0(u),e+=":",e+=l.Pad0(c)),e+=a;break;case 256:var f=i(n,"arrays","["),g=i(n,"arraye","]"),d=i(n,"arraysep",",");t.forEach(function(t){var i=l.Q(t,n);i&&(e&&(e+=d),e+=i)}),e=f+e+g;break;default:e+=t}return e},l.Lay=function(){function t(t,n){this.i=t,this.e=n,this.bSv=!1,this.rgCtx=[],this.rgPrp=[],this.mN2I=new Map}function n(t){return btoa?btoa(t):t}function i(t){var n=null;if(null!=t)if(atob)try{n=atob(t)}catch(t){n=void 0}else n=t;return n}var e=t.prototype;return e.pCtx=function(t){this.rgCtx.push(t)},e.rCtx=function(){this.rgCtx.pop()},e.n2P=function(t){return String(t||"").trim()},e.ctxName=function(t){var n=".",i=l.Like.Match,e=function(){var t="";if(this.rgCtx)for(var i=0,e=this.rgCtx.length;i<e;i++)i&&(t+=n),t+=this.rgCtx[i];return t}.call(this);return(t=this.n2P(t))&&(e&&(e+=n),e+=t),function(){return e&&(null==this.i||i(e,this.i))&&(null==this.e||!i(e,this.e))&&e||""}.call(this)},e.Add=function(t,n){var i,e;(t=this.n2P(t))&&void 0!==n&&(e=this.ctxName(t))&&((i=this.Get(t))||(this.mN2I.set(e,this.rgPrp.length),this.rgPrp.push(i={})),i.name=e,i.value=n)},e.Get=function(t){if(t=this.n2P(t)){var n=this.mN2I.get(this.ctxName(t));if(n>=0&&n<this.rgPrp.length)return this.rgPrp[n]}},e.GetValue=function(t){var n=this.Get(t);return n&&n.value},e.forEach=function(t,n){this.rgPrp.forEach(function(i){t.call(n,i)})},t.toOpt=function(t,n,i){var e=i;return null!=t&&n in t&&(e=t[n]),e},e.Save=function(n){var i="",e=(t.toOpt(n,"eol","\n")+"").charAt(0),r=t.toOpt(n,"equal","=");return this.forEach(function(t){i&&(i+=e),i+=t.name,void 0!==t.value&&(i+=r,i+=l.Q(t.value))}),i},e.Load=function(n,i){function e(t,n,i){for(var e=l.P(n);e.continue();){var r=e.searchForAny(i);if(!r)break;t.Add(e.result),e.position+=r,n=e.current()}return n}if(n=String(n||""))for(var r=t.toOpt(i,"equal","="),s=t.toOpt(i,"eol","\n\r;"),o=l.P(n),a=!0;a&&o.continue();){var h=o.searchFor(r);o.position+=h;var u=h?o.result:o.current();h||(o.position+=u.length),this.Add(e(this,u,s),o.getValue());var c=o.searchForAny(s);(a=0!=c)&&(o.position+=c)}},e.Layout=function(t,n){var i,e=this.bSv;n.split(",").forEach(function(n){(n=this.n2P(n))&&n in t&&(e?this.Add(n,t[n]):void 0!==(i=this.GetValue(n))&&(t[n]=i))},this)},e.IsSave=function(){return this.bSv},{Save:function(i,e,r){var s="",o=new t((r=r||{}).iMask,r.eMask);return o.bSv=!0,i&&i.call(e,o),s=o.Save(r),r.base64?n(s):s},Load:function(n,e,r,s){var o,a=n,h=new t((s=s||{}).iMask,s.eMask);s.base64&&null!=(o=i(n))&&(a=o),h.bSv=!1,h.Load(a,s),e&&e.call(r,h)},Encode:n,Decode:i,Container:t}}(),l.EOT={exCOpr:0,exUOpr:1,exBOpr:2},l.Mrg(l,function(){function t(t){return u.ToS(t)}function i(t){return~~u.ToV(t)}function e(t){return u.ToN(u.ToV(t))}function s(t){if(r(t))return t;var n=Date.Now();return"now"!=t&&(n=Date.Parse(t)||Date.Today()),n}function o(t,n){n=u.ToI(n,2);for(var i=String(t),e=i.length;e<n;e++)i="0"+i;return i}function a(t,n){for(var i=t.length;n<i&&-1!="\t ".indexOf(t.charAt(n));)n++;return n}function h(t,n){for(var i=t.length;n<i&&u.IsDigit(t,n);)n++;return n}var u=l;return{EO:{ADD:function(t,n){if(!u.IsS(t)&&!u.IsS(n)){if(u.IsD(t)&&u.IsN(n))return t.copy().addD(e(n));if(u.IsD(n)&&u.IsN(t))return n.copy().addD(e(t))}return t+n},SUBTRACT:function(t,n){if(!u.IsS(t)&&!u.IsS(n)){if(u.IsD(t)&&u.IsN(n))return t.copy().addD(-e(n));if(u.IsD(n)&&u.IsN(t))return n.copy().addD(-e(t))}return t-n},MULTIPLY:function(t,n){return t*n},DIVIDE:function(t,n){return t/n},AND:function(t,n){return t&&n},OR:function(t,n){return t||n},NOT:function(t,n){return!t},LESS:function(t,n){return u.ToV(t)<u.ToV(n)},LESSE:function(t,n){return u.ToV(t)<=u.ToV(n)},EQUAL:function(t,n){return u.ToV(t)==u.ToV(n)},NEQUAL:function(t,n){return u.ToV(t)!=u.ToV(n)},GREAT:function(t,n){return u.ToV(t)>u.ToV(n)},GREATE:function(t,n){return u.ToV(t)>=u.ToV(n)},SWITH:function(n,i){return t(n).sWith(t(i))},EWITH:function(n,i){return t(n).eWith(t(i))},CONTAINS:function(n,i){return-1!=t(n).search(t(i))},LFIND:function(n,i){return t(n).indexOf(t(i))},RFIND:function(n,i){return t(n).lastIndexOf(t(i))},COUNT:function(n,i){return t(n).countOf(t(i))},LEFT:function(n,i){return t(n).substr(0,i)},RIGHT:function(n,i){var e=t(n);return e.substr(Math.max(0,e.length-i))},LPAD:function(n,i){var e=t(n),r=t(i),s=r.length-e.length;return s>0?r.substr(0,s)+e:n},RPAD:function(n,i){var e=t(n),r=t(i),s=r.length-e.length;return s>0?e+r.slice(-s):n},CONCAT:function(n,e){var r,s="",o=Math.max(0,i(e));if(o>0){r=t(n);for(var a=0;a<o;a++)s+=r}return s},MID:function(n,i){return t(n).substr(Math.max(0,i-1))},FORMAT:function(n,i){return u.Format(e(n),t(i))},INSET:function(t,i){var e=!1;return void 0!==t&&(e=l.ToV(t)==l.ToV(n(i)?i[l.bin(i.length,function(n){return t.toString()>=i[n].toString()})]:i)),e},ARRAY:function(t,i){var e="";return void 0!==t&&n(i)&&(t=Math.round(parseFloat(t||0)),isNaN(t)||t>=0&&t<i.length&&(e=i[t])),e},SWITCH:function(t,i){var e,r="";return n(i)?i.length&&(r=i[0],void 0!==t&&l.ToV(t)==l.ToV(e=i[l.bin(i.length,function(n){return t.toString()>=i[n].toString()})])&&(r=e)):r=t==i?t:0,r},SPLIT:function(n,i){return t(n).split(t(i))},CASE:function(t,n){return n instanceof u.E.Case?n.Evaluate(t):t},REPLACE:function(n,i){var e=t(i);return e.length?t(n).repAll(e,"\b"):n},WITH:function(n,i){return t(n).repAll("\b",t(i))},LEN:function(i,e){return n(i)?i.length:t(i).length},TYPE:function(t,n){return u.V2T(t)},LOWER:function(n,i){return t(n).toLocaleLowerCase()},UPPER:function(n,i){return t(n).toLocaleUpperCase()},PROPER:function(n,i){return t(n).toProper()},LTRIM:function(n,i){return t(n).ltrim()},RTRIM:function(n,i){return t(n).rtrim()},TRIM:function(n,i){return t(n).trim()},INT:function(t,n){return Math.trunc(e(t))},ROUND:function(t,n){return Math.round(e(t))},FLOOR:function(t,n){return Math.floor(e(t))},ABS:function(t,n){return Math.abs(e(t))},STR:function(n,i){return t(n)},CURRENCY:function(t,n){return u.Currency(e(t))},TIME:function(t,n){return s(t).toLocTS()},TIMEF:function(t,n){var i=s(t);return o(i.GetHour())+":"+o(i.GetMinute())+":"+o(i.GetSecond())},SHORTDATE:function(t,n){return s(t).toLocDS()},SHORTDATEF:function(t,n){var i=s(t);return o(i.GetMonth())+"/"+o(i.GetDay())+"/"+o(i.GetYear(),4)},LONGDATE:function(t,n){return s(t).toDateString()},DBL:function(t,n){return e(t)},DATE:function(t,n){return s(t)},DATES:function(n,i){for(var e,r=Date.Today(),s=t(n),o=[r.GetMonth(),r.GetDay(),r.GetYear(),0,0,0],u=o.length,l=0,c=0,f=s.length;c<u&&l<f;c++){var g=h(s,l=a(s,l));g>l&&(o[c]=parseInt(s.substr(l,g-l))),l=g+1}return(e=Date.Create(o[2],o[0],o[1],o[3],o[4],o[5],0)).isValid()||(e=today),e},DATEF:function(t,n){return u.EO.SHORTDATEF(t)+" "+u.EO.TIMEF(t)},YEAR:function(t,n){return s(t).GetYear()},MONTH:function(t,n){return s(t).GetMonth()},DAY:function(t,n){return s(t).GetDay()},YEARDAY:function(t,n){return s(t).yDay()},WEEKDAY:function(t,n){return s(t).GetWeekDay()},HOUR:function(t,n){return s(t).GetHour()},MINUTE:function(t,n){return s(t).GetMinute()},SECOND:function(t,n){return s(t).GetSecond()},REVERSE:function(n,i){return t(n).toReverse()},MIN:function(t,n){return u.EO.LESS(t,n)?n:t},MAX:function(t,n){return u.EO.LESS(t,n)?t:n},SQRT:function(t,n){return Math.sqrt(e(t))},SIN:function(t,n){return Math.sin(e(t))},COS:function(t,n){return Math.cos(e(t))},ASIN:function(t,n){return Math.asin(e(t))},ACOS:function(t,n){return Math.acos(e(t))},store:[],STORE:function(t,n){var e=Math.max(0,i(t))%10;return u.EO.store[e]=n},RESTORE:function(t,n){var e=Math.max(0,i(t))%10;return u.EO.store[e]},IIF:function(t,n){return t?n:null},ELSE:function(t,n){return null===t?n:t},MOD:function(t,n){return e(t)%e(n)},LIKE:function(n,i){return u.Like.Match(t(n),t(i))},BITAND:function(t,n){return t&n},BITOR:function(t,n){return t|n},BITXOR:function(t,n){return t^n},BITSHIFT:function(t,n){var e=i(n);return 0===e?t:e<0?i(t)<<-e:i(t)>>e},BITNOT:function(t,n){return~t},HEX:function(t,n){return u.ToH(i(t))}}}}()),l.E=function(){function t(t){var n=s.get(t);return!n&&s.set(t,n=function(t){var n=new l.E.Ops(t);return n.AddType(t),n.Build(),n}(t)),n}function n(t){return l.ToS(t)}function i(i,r,s,o){var a=function(t,n,i){return i+":"+t+":"+n}(i=n(i),r=function(t){return l.ToS(t)}(r),s=function(t){return void 0!==t?parseInt(t):7}(s)),h=e.get(a);return!h&&e.set(a,h=new l.Expr(i,r,t(s),o)),h}var e=new Map,r=new Map,s=new Map;return{Create:i,EvalCE:function(t,i){if(i){var e=n(i),s=r.get(e);return s||r.set(e,s=new l.CExpr(e)),s.Evaluate(t)}return t},DPI:["dpix","dpiy","dpi"],BIAS:"bias",XC:function(){s.clear(),r.clear(),e.clear()}}}(),l.E.Const=function(t){this.type=17,this.const=t},l.E.Var=function(t){this.type=18,this.var=t};var E=l.E.Var.prototype;E.getVar=function(t){var n={index:t,subName:""},i=t>>24&127;return i?127!=i&&(n.index=16777215&n.index,n.subName=String.fromCharCode(i)):2147483648&t&&(n.index=16777215&n.index,n.subName=" "),n},l.E.Oper=function(t){this.type=32,this.callback=t};l.E.Oper.prototype.isO=function(t){var n=t.getOp(this.callback);return n&&n.Type||0},l.E.Case=function(){this.type=20,this.cbkVar=null,this.oDefE=null,this.mCE=new Map};var T=l.E.Case.prototype;T.addCase=function(t,n,i){var e=!1,r=t.GetKeywords(),s=new l.Expr(i,r,t.oOps,t.cNVar);return s.IsValid()&&("default"==n.toLowerCase()?(this.oDefE=s,e=!0):n.split(",").forEach(function(n){var i=new l.Expr(n,r,t.oOps,t.cNVar);i.IsValid()&&(e=!0,this.mCE.set(l.ToV(i.Evaluate(this.cbkVar)),s))},this)),e},T.Evaluate=function(t){var n=this.mCE.get(l.ToV(t));return n?n.Evaluate(this.cbkVar):this.oDefE?this.oDefE.Evaluate(this.cbkVar):t},l.E.M1=function(t){this.oOps=t,this.rgStk=[]};var b=l.E.M1.prototype;b.pushC=function(t){this.rgStk.push(new l.E.Const(t))},b.pushV=function(t){this.rgStk.push(new l.E.Var(t))},b.pushO=function(t){this.rgStk.push(new l.E.Oper(t))},b.pushCase=function(t){this.rgStk.push(t)},b.IsEmpty=function(){return!this.rgStk.length},b.popE=function(){return this.rgStk.pop()},b.getE=function(){return this.IsEmpty()?null:this.rgStk[this.rgStk.length-1]},b.isO=function(t){return 32==t.type?t.isO(this.oOps):0},b.isC=function(t){return 17==t.type},b.isCase=function(t){return 20==t.type},b.IsValid=function(){var t=0;return this.rgStk.forEach(function(n){var i=this.isO(n);t++,i&&(t-=i)},this),1==t},b.optimize=function(){function t(t){return!this.mUnopt.get(t)}l.debug&&this.Debug&&(this.sUnoptimizedDebug=this.Debug());for(var n=this.rgStk,i=!0;i;){i=!1;for(var e=!0,r=0;e&&r<n.length;r++){var s=n[r],o=this.isO(s);if(o){for(var a=!0,h=o;h>0;h--){var u=r-h;u>=0&&(a&=this.isC(n[u]))}if(a&&r>=o){var c=s.callback;if(t.call(this.oOps,c)){var f,g=1==o,d=w.val(n[r-1]);g||(f=d,d=w.val(n[r-2]));var v=c(d,f);n.splice(r,1),r--,g||(n.splice(r,1),r--),n[r].const=v,e=!1,i=!0}}}}}},l.E.Op=function(t,n,i,e){this.Name=t,this.Callback=n,this.Priority=i||0,this.Type=null!=e?e:2},l.E.Ops=function(t){this.type=t,this.rgOp=[],this.mMch=new Map,this.mN=new Map,this.mCBK=new Map,this.mUnopt=new Map};var A=l.E.Ops.prototype;A.len=function(){return this.rgOp.length},A.Add=function(t,n,i,e){t&&n&&this.rgOp.push(new l.E.Op(t,n,i,e))},A.AddType=function(t){function n(t){var n=l.EO;switch(t){case 1:this.Add("+",n.ADD,10),this.Add("-",n.SUBTRACT,10),this.Add("*",n.MULTIPLY,20),this.Add("/",n.DIVIDE,20);break;case 2:this.Add("or",n.OR,0),this.Add("and",n.AND,1),this.Add("not",n.NOT,2,1),this.Add("<",n.LESS,5),this.Add("<=",n.LESSE,5),this.Add("=",n.EQUAL,5),this.Add("!=",n.NEQUAL,5),this.Add(">",n.GREAT,5),this.Add(">=",n.GREATE,5);break;case 4:this.Add("startwith",n.SWITH,5),this.Add("endwith",n.EWITH,5),this.Add("contains",n.CONTAINS,5),this.Add("lfind",n.LFIND,5),this.Add("rfind",n.RFIND,5),this.Add("count",n.COUNT,5),this.Add("left",n.LEFT,5),this.Add("right",n.RIGHT,5),this.Add("lpad",n.LPAD,5),this.Add("rpad",n.RPAD,5),this.Add("concat",n.CONCAT,5),this.Add("mid",n.MID,5),this.Add("format",n.FORMAT,5),this.Add("in",n.INSET,5),this.Add("array",n.ARRAY,5),this.Add("switch",n.SWITCH,5),this.Add("split",n.SPLIT,10),this.Add("case",n.CASE,5),this.Add("replace",n.REPLACE,0),this.Add("with",n.WITH,0),this.Add("len",n.LEN,30,1),this.Add("type",n.TYPE,30,1),this.Add("lower",n.LOWER,30,1),this.Add("upper",n.UPPER,30,1),this.Add("proper",n.PROPER,30,1),this.Add("ltrim",n.LTRIM,30,1),this.Add("rtrim",n.RTRIM,30,1),this.Add("trim",n.TRIM,30,1),this.Add("int",n.INT,30,1),this.Add("round",n.ROUND,30,1),this.Add("floor",n.FLOOR,30,1),this.Add("abs",n.ABS,30,1),this.Add("str",n.STR,30,1),this.Add("currency",n.CURRENCY,30,1),this.Add("time",n.TIME,30,1),this.Add("timeF",n.TIMEF,30,1),this.Add("shortdate",n.SHORTDATE,30,1),this.Add("shortdateF",n.SHORTDATEF,30,1),this.Add("longdate",n.LONGDATE,30,1),this.Add("dbl",n.DBL,30,1),this.Add("date",n.DATE,30,1),this.UOAble(n.DATE),this.Add("dateS",n.DATES,30,1),this.Add("dateF",n.DATEF,30,1),this.Add("year",n.YEAR,30,1),this.Add("month",n.MONTH,30,1),this.Add("day",n.DAY,30,1),this.Add("yearday",n.YEARDAY,30,1),this.Add("weekday",n.WEEKDAY,30,1),this.Add("hour",n.HOUR,30,1),this.Add("min",n.MINUTE,30,1),this.Add("sec",n.SECOND,30,1),this.Add("reverse",n.REVERSE,30,1),this.Add("MIN",n.MIN,5),this.Add("MAX",n.MAX,5),this.Add("sqrt",n.SQRT,30,1),this.Add("sin",n.SIN,30,1),this.Add("cos",n.COS,30,1),this.Add("asin",n.ASIN,30,1),this.Add("acos",n.ACOS,30,1),this.Add(":=",n.STORE,0),this.UOAble(n.STORE),this.Add("=:",n.RESTORE,40,1),this.UOAble(n.RESTORE),this.Add("?",n.IIF,0),this.Add(":",n.ELSE,0),this.Add("mod",n.MOD,20),this.Add("like",n.LIKE,20),this.Add("bitand",n.BITAND,20),this.Add("bitor",n.BITOR,20),this.Add("bitxor",n.BITXOR,20),this.Add("bitshift",n.BITSHIFT,20),this.Add("bitnot",n.BITNOT,30,1),this.Add("hex",n.HEX,30,1)}}for(var i=1;i<=t;)t&i&&n.call(this,i),i*=2},A.Build=function(){this.mMch.clear(),this.mN.clear(),this.mCBK.clear(),this.rgOp.forEach(function(t){this.mN.set(t.Name,t),this.mCBK.set(t.Callback,t);for(var n=t.Name,i=t.Callback;n.length;)this.addMatch(n,i),n=n.substr(0,n.length-1)},this)},A.addMatch=function(t,n){var i=this.mMch.get(t);!i&&this.mMch.set(t,i=[]),i.push(n)},A.getOp=function(t){return this.mCBK.get(t)},A.cmpPriority=function(t,n){function i(t){var n=this.getOp(t);return n&&n.Priority||0}if(null==t)return 1;if(null==n)return-1;var e=i.call(this,t),r=i.call(this,n);return e==r?0:e<r?-1:1},A.f2S=function(t){var n=this.getOp(t);return n&&n.Name||""},A.UOAble=function(t){this.mUnopt.set(t,!0)},A.SearchOp=function(t,n){function i(t){if(t){var n=this.mMch.get(t);if(n)return n}return null}n=n||0;for(var e=t.length,r="",s=null,o=n;null==s&&o<e;o++){r+=t.charAt(o);var a=i.call(this,r);a&&(1!=a.length&&o+1!=e&&i.call(this,r+t.charAt(o+1))||(s=a))}if(s)for(o=s.length-1;o>=0;o--){var h=s[o],u=this.f2S(h);if(this.OpMatch(u,t,n))return{callback:h,fetched:u.length}}return null},A.OpMatch=function(t,n,i){for(var e=!1,r=0,s=t.length,o=i,a=n.length;r<s&&o<a;r++,o++)if(n.charAt(o)!=t.charAt(r))return e;return r==s&&(e=!0,l.IsAlpha(t)&&l.IsAlphaNum(n,o)&&(e=!1)),e},A.opPM=function(t){var n=t&&this.mN.get(t<0?"-":"+");return n&&n.Callback||null},l.Expr=function(t,n,i,e){this.bP=this.bV=!1,this.cNVar=null==e?"C":e,this.sExpr=null!=t&&t.toString()||"",this.oOps=i,this.rgK=null,this.SetKeywords(n),this.reset()};var w=l.Expr.prototype;w.parse=function(){return this.bP||(this.bP=!0,this.bV=function(){this.reset();for(var t=l.P(this.GetExpr()),n=this.oOps,i=0,e=0,r=!1,s=!1,o={counter:0};t.continue();){var a=!1,h=0,u=n.SearchOp(t.expression,t.position);if(u){h=u.fetched,u=u.callback;var c=l.Expr.IsPM(t.expression,t.position);if(c&&n.opPM(c)){for(var f=0,g=t.position+h,d=t.expression.length;g<d&&(f=l.Expr.IsPM(t.expression,g));)c*=f,g++,h++;u=n.opPM(c),0==e&&this.oEStk.pushC(0)}var v=this.stkOp();v&&1!=n.cmpPriority(u,v)&&this.popOp(u),r=l.EO.SWITCH==u,s=l.EO.ARRAY==u,a=l.EO.CASE==u,this.pushOp(u),e=0}else switch(h=1,t.currentChar()){case" ":break;case"(":e=0,i++,this.pushOp(null);break;case")":if(i--,!this.popVals(o,r,!s))return!1;this.popOp();break;case",":o.counter++;break;case"%":h=0,t.position++;var p=0;if(this.cNVar==t.currentChar().toUpperCase()){t.position++,p=128;var C=t.currentChar().toUpperCase();l.IsAlphaChar(C)&&(p|=C.charCodeAt(0),t.position++),p<<=24}if(!t.getInt())return!1;e++,this.oEStk.pushV(t.result+p);break;default:switch(h=0,this.handleOtherTypes(t)){case 1:return!1;case-1:e++;break;case 0:if(!t.isNumber())return!1;t.getNumber(),e++,this.oEStk.pushC(t.result)}}if(t.position+=h,a){var m=this.createCase(t);if(null==m)return!1;e++,this.oEStk.pushCase(m),this.popOp()}}if(0==i){if(!this.popVals(o,r,!s))return!1;if(this.popOp(),!this.rgStkOp.length&&this.oEStk.IsValid())return this.oEStk.optimize(),!0}return!1}.call(this)),this.bV},w.reset=function(){this.rgStkOp=[],this.oEStk=new l.E.M1(this.oOps)},l.Expr.IsPM=function(t,n){return l.IsPlus(t,n)?1:l.IsMinus(t,n)?-1:0},w.stkOp=function(){var t=this.rgStkOp.length;return t&&this.rgStkOp[t-1]||null},w.popOp=function(t){var n=this.oOps;t=t||null;for(var i=null;(i=this.stkOp())&&(!t||-1!=n.cmpPriority(i,t));)this.oEStk.pushO(i),this.rgStkOp.pop();!t&&this.rgStkOp.length&&!this.stkOp()&&this.rgStkOp.pop()},w.pushOp=function(t){this.rgStkOp.push(t||null)},w.popVals=function(t,n,i){if(t.counter){if(!function(){var t=this.rgStkOp.length;if(t>1&&!this.rgStkOp[t-1]){var n=this.rgStkOp[t-2];return n==l.EO.INSET||n==l.EO.ARRAY||n==l.EO.SWITCH||n==l.EO.CASE}}.call(this))return!1;for(var e=[],r=0;r<t.counter&&!this.oEStk.IsEmpty();r++){var s=this.oEStk.popE();if(17!=s.type)return!1;e.push(s.const)}if(!this.oEStk.IsEmpty()){var o=this.oEStk.getE();if(17!=o.type)return!1;n||e.push(o.const),i?e.sort():e.reverse(),n&&e.unshift(o.const),o.const=e}t.counter=0}return!0},w.SetKeywords=function(t){if(this.bP=this.bV=!1,this.rgK=null,t){var i=n(t)?t:t.toString().split(",");if(i.length){var e=new Map,r=0;if(i.forEach(function(t){r--,(t=function(t){if(t&&(t=t.toString().trim())){var n=0,i=t.length;if(l.IsAlpha(t,n)){for(n++;n<i;n++)if(!l.IsAlphaNum(t,n))return null;return t}}return null}(t))&&e.set(t,r)},this),e.size){this.rgK=[],this.rgK.keywords=new Map,this.rgK.indexes=new Map,this.rgK.original=t,e.forEach(function(t,n){var i={keyword:n,index:t};this.rgK.push(i)},this),this.rgK.sort(function(t,n){return t.keyword<n.keyword});for(var s=0,o=this.rgK.length;s<o;s++){var a=this.rgK[s];this.rgK.keywords.set(a.keyword,a.index),this.rgK.indexes.set(a.index,a.keyword)}}}}},w.GetKeywords=function(){return this.rgK&&this.rgK.original||null},w.GetKeywordName=function(t){return this.rgK.indexes.get(t)},w.GetKeywordIndex=function(t){return this.rgK.keywords.get(t)},w.handleOtherTypes=function(t){function n(n,e){var r=0;return i(n,t.expression,t.position)&&(t.position+=n.length,this.oEStk.pushC(e),r=-1),r}var i=A.OpMatch,e=function(){var n=0;return this.rgK&&this.rgK.forEach(function(e){if(i(e.keyword,t.expression,t.position))return t.position+=e.keyword.length,this.oEStk.pushV(e.index),n=-1},this),n}.call(this);if(!e&&4&this.oOps.type){switch(t.currentChar()){case"0":return this.readHexa(t);case"#":return this.readDate(t);case"'":case"`":case'"':return this.readString(t)}e=function(){var t=0;return l.E.DPI.forEach(function(i){return t=n.call(this,i,l.dpi)},this),t}.call(this)||n.call(this,l.E.BIAS,l.bias)}return e},w.readHexa=function(t){return t.isHexa()?t.getHexa()?(this.oEStk.pushC(t.result),-1):1:0},w.readString=function(t){return t.isString()?t.getString()?(this.oEStk.pushC(t.result),-1):1:0},w.readDate=function(t){return t.isDate()?t.getDate()?(this.oEStk.pushC(t.result),-1):1:0},w.IsValid=function(){return this.parse()},w.GetExpr=function(){return this.sExpr},w.val=function(t,n){switch(t.type){case 20:return t.cbkVar=n,t;case 17:return t.const;case 18:if(n){var i=E.getVar(t.var);return n(i.index,i.subName)}}},w.Evaluate=function(t){if(this.parse()){for(var n,i=this.oEStk.rgStk,r=[],s=0,o=i.length;s<o;s++)switch(this.oEStk.isO(n=i[s])){case 0:r.push(this.val(n,e(t)?t:function(){return t}));break;case 1:if(!((a=r.length)>0))return;u=r[a-1];r[a-1]=n.callback(u,u);break;case 2:var a=r.length;if(!(a>1))return;var h=r.pop(),u=r[--a-1];r[a-1]=n.callback(u,h)}if(1==r.length)return r[0]}},w.createCase=function(t){for(;" "==t.currentChar();)t.position++;if("("==t.currentChar()){t.position++;for(var n=new Map,i=!1,e=0,r="",s="",o=t.position;t.continue()&&!i;){var a=t.currentChar();switch(a){case"'":case"`":case'"':for(t.position++;t.continue();){if("\\"==t.currentChar())t.nextChar()==a&&t.position++;else if(t.currentChar()==a)break;t.position++}}switch(a){case":":0==e&&(s="",r=t.expression.substr(o,t.position-o),o=t.position+1);break;case";":0==e&&(s=t.expression.substr(o,t.position-o),o=t.position+1,n.set(r,s),r="",s="");break;case"(":e++;break;case")":e>0?e--:(n.set(r,t.expression.substr(o,t.position-o)),i=!0)}t.position++}if(i){var h=new l.E.Case,u=!0;if(n.forEach(function(t,n){u&&(u=h.addCase(this,n.trim(),t.trim()))},this),u)return h}}return null},l.CExpr=function(t){this.sCE=l.ToS(t).trim(),this.bP=!1,this.bV=!1,this.rgoE=[null,null,null,null]};var R=l.CExpr.prototype;R.parse=function(){function t(){this.reset();var t,n=this.sCE;if(n.sWith("[")&&n.eWith("]")){n=n.substr(1,n.length-2);var i=this.rgoE.length;n.splitP(",",i).forEach(function(n,i){var e=function(t){var n=l.E.Create(t,"x,y,width,height");return n.parse()?n:null}(n);(this.rgoE[i]=e)&&(t=!0)},this)}return t}return this.bP||(this.bP=!0,this.bV=t.call(this)),this.bV},R.reset=function(){this.rgoE=[null,null,null,null]},R.Evaluate=function(t){return this.parse(),this.bV&&(t=l.C2R(t),this.rgoE.forEach(function(n,i){n&&(t[i]=n.Evaluate(function(n){return t[-n-1]}))})),t},l.Like=function(){function t(t){var i=n.get(t);return!i&&n.set(t,i=new l.MW(t)),i}var n=new Map;return{Match:function(n,i){return null!=t(i).Match(n)},Mask:function(n){return t(n)},XC:function(){n.clear()}}}(),l.MW=function(t,n,i){this.bCS=i,this.cPS=null==n?" ":n.toString(),this.rgPn=[],this.Set(this.sM=t)};var y=l.MW.prototype;y.Set=function(t){function n(t){if(t){var n=new l.MW.PN(t,this.matchWord);switch(n.len()){case 1:switch(n.at(0).nElT){case 16:n.Match=this.is,n.Mask=n.at(0).E;break;case 1:n.Match=this.endWith,n.Mask=n.at(0).E;break;case 4:n.Match=this.anything,n.Mask=n.at(0).E}break;case 2:if(4==n.at(1).nElT)switch(n.at(0).nElT){case 16:n.Match=this.startWith,n.Mask=n.at(0).E;break;case 1:n.Match=this.has,n.Mask=n.at(0).E}}this.rgPn.push(n)}}t=null==t?"":t.toString(),this.sM=t,this.rgPn=[];for(var i="",e=0,r=t.length,s="\0",o="\0";e<r;e++){var a=t[e];a==this.cPS&&("\\"!=s||"\\"==s&&"\\"==o)?(n.call(this,i),i=""):i+=a,o=s,s=a}n.call(this,i),1==this.rgPn.length&&(this.sM=this.rgPn[0].Mask)},y.cbkCS=function(){return this.bCS&&function(t){return t}||function(t){return t.toLocaleLowerCase()}},y.Match=function(t){var n=null;if(null!=t&&(t=String(t)))for(var i=0,e=this.rgPn.length;!n&&i<e;i++){var r=this.rgPn[i];r.match(this,t)&&(n=r.Pattern)}return n},y.matchWord=function(t,n){for(var i=this.cbkCS(),e=0,r=t.length,s=0,o=n.len(),a=[];s<o;){var h=n.at(s);h.Current=e;var u=h.cbkEl(t,e,i);if(u<0){if(!a.length)return!1;f=a.pop();e=n.at(f).Current+1,s=f}else{var l=h.FLen,c=u-l;15&h.nElT&&e<r&&h.cbkEl(t,e+1,i)&&a.push(s),h.FAt=c,h.FLen=l,e=u,s++}if(s==o){if(e==r)return!0;if(!a.length)return!1;var f=a.pop();e=n.at(f).Current+1,s=f}}},y.startWith=function(t,n){for(var i=n.at(0),e=i.E,r=this.cbkCS(),s=0,o=e.length,a=0,h=t.length;a<h&&s<o;a++,s++)if(r(t[a])!=r(e[s]))return!1;if(s==o)return i.FAt=0,i.FLen=o,!0},y.endWith=function(t,n){for(var i=n.at(0),e=i.E,r=this.cbkCS(),s=e.length-1,o=t.length-1;o>=0&&s>=0;o--,s--)if(r(t[o])!=r(e[s]))return!1;if(s<0)return i.FAt=t.length-e.length,i.FLen=e.length,!0},y.has=function(t,n){for(var i=n.at(0),e=i.E,r=this.cbkCS(),s=t.length,o=e.length,a=0;a<s;a++){for(var h=0,u=a;h<o&&u<s&&r(t[u])==r(e[h]);u++,h++);if(h==o)return i.FAt=a,i.FLen=o,!0}},y.is=function(t,n){var i=n.at(0),e=this.cbkCS(),r=i.E,s=r.length;if((h=t.length)==s){for(var o=0,a=0,h=t.length;a<h&&o<s;a++,o++)if(e(t[a])!=e(r[o]))return!1;if(o==s)return i.FAt=0,i.FLen=s,!0}},y.anything=function(t,n){return!0},l.MW.ElE=function(t,n){switch(this.E=l.ToS(t),this.FAt=0,this.FLen=0,this.Current=-1,this.cbkEl=null,this.nElT=n||0){case 1:this.cbkEl=this.elSC;break;case 2:this.cbkEl=this.elSD;break;case 3:this.cbkEl=this.elSO;break;case 4:this.cbkEl=this.elSA;break;case 5:this.cbkEl=this.elSG;break;case 16:this.cbkEl=this.elMC;break;case 32:this.cbkEl=this.elMD;break;case 48:this.cbkEl=this.elMO;break;case 64:this.cbkEl=this.elMG}};var O=l.MW.ElE.prototype;O.elSC=function(t,n,i){for(var e=0,r=this.E.length,s=t.length,o=n,a=-1;o<s&&e<r;)i(t[o])!=i(this.E[e])?(e&&(e=0,o=n),o++):(e||(n=o),o++,e++);return e==r&&(this.FLen=r,a=o),a},O.elSD=function(t,n){for(var i=t.length,e=-1;n<i&&!l.IsDigit(t,n);)n++;return n<i&&(this.FLen=1,e=n+1),e},O.elSO=function(t,n,i){return this.elMO(t,n,i)},O.elSG=function(t,n){if(this.E){for(var i=t.length,e=-1;n<i&&this.E.indexOf(t[n])<0;)n++;return n<i&&(this.FLen=1,e=n+1),e}return this.FLen=0,n},O.elSA=function(t,n){var i=t.length-n;return this.FLen=i,n+i},O.elMC=function(t,n,i){for(var e=t.length,r=0,s=this.E.length,o=-1;n<e&&r<s;n++,r++)if(i(t[n])!=i(this.E[r]))return-1;return r==s&&(this.FLen=s,o=n),o},O.elMD=function(t,n){var i=-1;return l.IsDigit(t,n)&&(this.FLen=1,i=n+1),i},O.elMO=function(t,n){var i=-1;return n<t.length&&(this.FLen=1,i=n+1),i},O.elMG=function(t,n){if(this.E){var i=-1;return~this.E.indexOf(t[n])&&(this.FLen=1,i=n+1),i}return this.FLen=0,n},l.MW.PN=function(t,n){this.Mask=t,this.Pattern=t,this.Match=n,this.rgE=[],n==y.matchWord&&function(){function t(t){var n=t.current();return n&&(t.next(),"\\"==n&&t.continue()&&(n=t.current(),t.next())),n}function n(n){var i=n.current();if("\\"==i)return t(n);var e=u(i),r=1==e;return r||(r=3==e),r?(n.next(),i):null}function i(i){i.collect=null;var e,r,s,o=0,a=i.current();if(a){if(e="",r=n(i)){o=16;do{e+=r}while(r=n(i))}else switch(o=4,s=u(a),i.next(),s){case 2:for(o=64;(a=i.current())&&3!=u(a);)e+=t(i);a&&i.next();break;case 6:o=32;break;case 5:o=48;break;case 4:if(a=i.current()){for(var h=u(a);4==h;)i.next(),h=u(a=i.current());switch(h){case 1:for(o=1;a=n(i);)e+=a;break;case 6:o=2,i.next();break;case 5:o=3,i.next();break;case 2:for(o=5,i.next();(a=i.current())&&3!=u(a);)e+=t(i);a&&i.next()}}}i.collect=e}return o}var e,r={string:this.Mask,position:0,next:function(){return this.position++},continue:function(){return this.position<this.string.length},current:function(){return this.continue()?this.string[this.position]:""}};for(this.rgE=[];r.continue();)(e=i(r))&&this.rgE.push(new l.MW.ElE(r.collect,e))}.call(this)};var D=l.MW.PN.prototype;D.match=function(t,n){return this.Match.call(t,n,this)},D.len=function(){return this.rgE.length},D.at=function(t){return this.rgE[t]},l.Def=function(){var t=null,n=null,i=new Map;try{t=new Intl.NumberFormat("en-US",{maximumFractionDigits:2,minimumFractionDigits:2,style:"currency",currency:"USD"}),n=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})}catch(t){}return{Intl:{firstWeekDay:"Monday(bm,br,bs,ca,cs,cv,cy,da,de,de-at,de-ch,el,en-au,en-gb,en-ie,en-nz,eo,es,es-do,et,eu,fi,fo,fr,fr-ch,fy,gd,gl,gom-latn,hr,hu,hy-am,id,is,it,jv,ka,kk,km,ky,lb,lt,lv,me,mi,mk,ms,ms-my,mt,my,nb,nl,nl-be,nn,pl,pt,ro,ru,sd,se,sk,sl,sq,sr,sr-cyrl,ss,sv,sw,tet,tg,tlh,tl-ph,tr,tzl,ug-cn,uk,ur,uz,uz-latn,vi,yo,zh-cn,af,ar-tn,az,be,bg),Saturday(en-ie,en-nz,fa,pt,tzm,tzm-latn,ar,ar-ly,ar-ma,en-au,en-gb)",weekNumberAs:"Simple(ar-ly,ar-ma,ar-sa,az,be,bg,bn,bo,bs,cv,dv,eo,es-us,eu,fa,gu,hi,hr,hy-am,id,jv,kk,kn,ky,me,mk,mr,ms,ms-my,my,ne,pa-in,ro,sl,sr,sr-cyrl,sw,ta,te,tr,tzm,tzm-latn,ug-cn,uk,uz-latn,ar,ar-dz,ar-kw)",formatCurrency:t,formatNumber:n,mfN:i},Locale:{language:null,months:null,monthsR:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"],days:null,ampm:null,firstWeekDay:null,weekNumberAs:null,weekend:null},ScrollBar:{min:{visibleParts:"t,b",cursors:"pointer(t,lo,b,up)",horizonalShapes:"tRange(t),range(b)",verticalShapes:"tRange(t),range(b)"},locked:!1,readOnly:!1,adjustThumbPos:!1,scrollOnThumbRelease:!1,allowKeys:!1,allowScrollDirect:2,buttonSize:16,thumbSize:-1,ignoreLargeChange:!0,disableNoScroll:1,orderParts:"l1,l2,l3,l4,l5,l,t,r,r1,r2,r3,r4,r5,r6",visibleParts:"l,t,r,b",enableParts:"l,t,r,b",horizonalShapes:"hThumbLite(t)",verticalShapes:"vThumbLite(t)",horizonalOverlayShapes:"leftLite(l),rightLite(r)",verticalOverlayShapes:"upLite(l),downLite(r)",cursors:"auto(l1,l2,l3,l4,l5,l,lo,t,up,r,r1,r2,r3,r4,r5,r6)",smallChange:1,largeChange:10,wheelChange:3,Swipe:{sensitivity:1,duration:500,transition:[0,1,1,1]},SmoothScroll:{duration:125,transition:"ease"}},RUR:{contiguouslyTTS:250,contiguouslyTTC:32},RUC:{contiguouslyTTS:250,contiguouslyTTC:32},HT:{inflate:[4,4,4,4]},Shadow:{color:null,blur:0,x:0,y:0},Shape:{opacity:null,client:null,pad:null,fillColor:null,fillGradientColor:null,clientText:null,text:null,formatText:null,tfi:null,clipText:!1,frameColor:null,frameSize:null,frameDash:null,frameJoin:null,frameCap:null,pattern:null,patternColor:null,shadow:{color:null,blur:0,x:0,y:0},primitive:"RoundRect",pArg:{x:2,y:2},draw:null},Keys:{xWUndo:"CTRL+Z",xWRedo:"CTRL+Y",xWToggle:"CTRL+SHIFT"},CN:{exWN:"exwindow",exDF:"exdock",ftEF:"exfloat",ppEF:"expopup",ttEF:"extooltip"},G:{Kappa:.5522847498,DefaultAngle:-Math.PI/2,Transitions:{ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],"ease-in-out-expo":[1,0,0,1],swipe:[0,1,.5,1]},getKappa:function(t){return t*this.Kappa},getAngle:function(t){return t+this.DefaultAngle}},A:{duration:125,delay:0,alphaFrom:1/3,alphaTo:1/3,alphaReturn:!1,Tail:{tailLength:1/3,tailAlpha:.5,tailFilterDistance:{min:32,expmin:0,callback:function(t,n){return l.G.Dist(t,n)}}},Swipe:{swipeTTL:250,swipeTailDrawCallback:function(t,n){l.D.P.frame(t,n,"black","RoundRect")},tailLength:-8,tailAlpha:.5,tailFilterDistance:{min:32,expmin:2.5,callback:function(t,n){return l.G.Dist(t,n)}}}},EF:{tag:"canvas",parent:function(){return l.doc.fullscreenElement||l.doc.body},position:"absolute",pointerEvents:"none",modalTTC:1024,zIndex:2147483392,Options:{tag:null,parent:null,position:null,pointerEvents:null,name:null,visible:!0,client:null,inflateClient:null,relative:null,clip:null,clipClient:null,fit:null,limitClient:!0,class:null,alwaysPaint:!1,inner:null,modal:!1,modalTTC:null,onpaint:null,onclient:null,onmodal:null,thisArg:null}},R:{Number:0,Color:"rgba(0,0,0,0)",Point:{x:0,y:0},Rect:[0,0,0,0],TFIUnRatio:["bold","italic","underline","strikeout","fontName","shaColor","outColor","graColor"],ShapeUnRatio:["client","primitive","fillGradientColor","clipText","frameDash","frameJoin","frameCap","pattern","text","formatText","draw"]},H:{unvisitAnchorFormat:"<u><fgcolor blue>anchor</fgcolor></u>",visitAnchorFormat:"<u><fgcolor purple>anchor</fgcolor></u>"}}}();var I="rgba(0,0,0,.1)",M="rgba(0,0,0,.15)",P="rgba(0,0,0,.3)",W="rgba(0,0,0,.5)",L="[x+(width-8)/2,y+(height-8)/2,8,8]";l.Shapes={ScrollBar:{background:{tRange:{normal:{fillColor:"rgba(0,0,0,.25)",pad:-2},disabled:{opacity:.5},hover:{fillColor:"rgba(0,0,0,0.375)"},click:{fillColor:W}},range:{normal:{fillColor:"#F0F0F0",frameColor:"#C0C0C0",opacity:.25},hover:{opacity:1}},button:{normal:{frameColor:I,fillColor:I},disabled:{opacity:.5},hover:{fillColor:"rgba(0,0,0,.2)"},click:{fillColor:W}},buttonCircle:{normal:{frameColor:I,fillColor:I,primitive:"Circle",client:"[x+(width-16)/2, y+(height-16)/2,16,16]"},disabled:{opacity:.5},hover:{fillColor:"rgba(0,0,0,.2)"},click:{fillColor:W}},thumb:{normal:{fillColor:P,client:"[x+1,y+1,width-2,height-2]"},disabled:{opacity:.5},hover:{fillColor:"rgba(0,0,0,.4)"},click:{fillColor:W}},hThumb:{normal:{fillColor:P,client:"[x,y+2,width,height-4]"},disabled:{opacity:.5},hover:{fillColor:"rgba(0,0,0,.4)"},click:{fillColor:W}},vThumb:{normal:{fillColor:P,client:"[x+2,y,width-4,height]"},disabled:{opacity:.5},hover:{fillColor:"rgba(0,0,0,.4)"},click:{fillColor:W}},hThumbLite:{normal:{fillColor:P,primitive:"RoundRect",pArg:{x:3,y:3},client:"[x,y+(height-6)/2,width,6]"},disabled:{fillColor:M},hover:{fillColor:"rgba(0,0,0,.4)"},click:{fillColor:W}},vThumbLite:{normal:{fillColor:P,primitive:"RoundRect",pArg:{x:3,y:3},client:"[x+(width-6)/2,y,6,height]"},disabled:{fillColor:M},hover:{fillColor:"rgba(0,0,0,.4)"},click:{fillColor:W}},circle:{normal:{fillColor:"#A0A0A0",shadow:{blur:8,color:"black"},primitive:"Circle",client:"[x+(width-16)/2,y+(height-16)/2,16,16]"},disabled:{fillColor:"#C0C0C0",shadow:{blur:0}},hover:{pad:4},click:{fillColor:"#C0C0C0"}},hThumbCircle:{normal:{fillColor:P,primitive:"RoundRect",pArg:{x:-8,y:8},client:"[x,y+(height-16)/2,width,16]"},disabled:{fillColor:M},hover:{fillColor:"rgba(0,0,0,.4)"},click:{fillColor:W}},vThumbCircle:{normal:{fillColor:P,primitive:"RoundRect",pArg:{x:8,y:-8},client:"[x+(width-16)/2,y,16,height]"},disabled:{fillColor:M},hover:{fillColor:"rgba(0,0,0,.4)"},click:{fillColor:W}},back:{},vBackCircle:{normal:{fillColor:I,primitive:"RoundRect",pArg:{x:8,y:-8},client:"[x+(width-16)/2,y,16,height]"},hover:{fillColor:"rgba(0,0,0,.2)"}},hBackCircle:{normal:{fillColor:I,primitive:"RoundRect",pArg:{x:-8,y:8},client:"[x,y+(height-16)/2,width,16]"},hover:{fillColor:"rgba(0,0,0,.2)"}},hProgress:{normal:{fillColor:I,primitive:"RoundRect",pArg:{x:3,y:3},client:"[x+16,y+(height-6)/2,width-32,6]"}},vProgress:{normal:{fillColor:I,primitive:"RoundRect",pArg:{x:3,y:3},client:"[x+(width-6)/2,y+16,6,height-32]"}}},foreground:{button:{},thumb:{},back:{}},overlay:{left:{normal:{client:L,fillColor:"black",primitive:"EllipticPolygon",pArg:{edges:3,startAngle:-Math.PI/2}},disabled:{fillColor:"#C0C0C0"},click:{fillColor:"white"}},right:{normal:{client:L,fillColor:"black",primitive:"EllipticPolygon",pArg:{edges:3,startAngle:Math.PI/2}},disabled:{fillColor:"#C0C0C0"},click:{fillColor:"white"}},up:{normal:{client:L,fillColor:"black",primitive:"EllipticPolygon",pArg:{edges:3}},disabled:{fillColor:"#C0C0C0"},click:{fillColor:"white"}},down:{normal:{client:L,fillColor:"black",primitive:"EllipticPolygon",pArg:{edges:3,startAngle:+Math.PI}},disabled:{fillColor:"#C0C0C0"},click:{fillColor:"white"}},leftLite:{normal:{client:"[x+(width-6)/2,y+(height-10)/2,6,10]",fillColor:P,primitive:"EllipticPolygon",pArg:{edges:3,startAngle:-Math.PI/2}},disabled:{fillColor:M},hover:{pad:1},click:{fillColor:W}},rightLite:{normal:{client:"[x+(width-6)/2,y+(height-10)/2,6,10]",fillColor:P,primitive:"EllipticPolygon",pArg:{edges:3,startAngle:Math.PI/2}},disabled:{fillColor:M},hover:{pad:1},click:{fillColor:W}},upLite:{normal:{client:"[x+(width-10)/2,y+(height-6)/2,10,6]",fillColor:P,primitive:"EllipticPolygon",pArg:{edges:3}},disabled:{fillColor:M},hover:{pad:1},click:{fillColor:W}},downLite:{normal:{client:"[x+(width-10)/2,y+(height-6)/2,10,6]",fillColor:P,primitive:"EllipticPolygon",pArg:{edges:3,startAngle:+Math.PI}},disabled:{fillColor:M},hover:{pad:1},click:{fillColor:W}}}},Empty:{},FrameSel:{normal:{frameColor:"rgba(64,128,255,.5)",fillColor:"rgba(64,128,255,.25)",primitive:"RoundRect"},disabled:{opacity:.5}},FrameFit:{normal:{frameColor:"gray",fillColor:"white",primitive:"RoundRect",pArg:{x:4,y:4},frameDash:2,opacity:.5}},CheckBox:{normal:{pad:-1.5,fillColor:"white",frameColor:"gray",primitive:"Rect",draw:function(t,n,i,e){e&&e.state&&l.D.P.fill(t,l.IRt(i.slice(),.2*-i[2],.2*-i[2]),"#666666",this.primitive,this.primitiveArg)}},disabled:{opacity:.5}},Radio:{normal:{pad:-1.5,fillColor:"white",frameColor:"gray",primitive:"Circle",draw:function(t,n,i,e){e&&e.state&&l.D.P.fill(t,l.IRt(i.slice(),.2*-i[2],.2*-i[2]),"#666666",this.primitive,this.primitiveArg)}},disabled:{opacity:.5}},Button:{normal:{fillColor:"#C0C0C0",frameColor:"gray"},disabled:{opacity:.5},click:{fillColor:"rgb(164,164,164)",frameColor:"rgb(80,80,80)"}},Expand:{normal:{pad:-4,fillColor:"white",frameColor:"rgba(0,0,0,.25)",draw:function(t,n,i,e){var r=l.IRt(i.slice(),.2*-i[2],.2*-i[2]);t.drawHLine([r[0],r[1]+r[3]/2],r[2],"black"),!(e&&e.state)&&t.drawVLine([r[0]+r[2]/2,r[1]],r[3],"black")}},disabled:{opacity:.5}},Border:{normal:{pad:-.5,frameColor:W},disabled:{opacity:.5}},No:{normal:{pattern:6,patternColor:"rgba(0,0,0,.25)"}}},l.Intl=function(){function t(){var t,n,i,r=String(l.Def.Intl.firstWeekDay),s=l.WeekDayEnum;r&&r.splitP(",").forEach(function(r){(r=r.trim())&&(t=r.indexOf("("))>=0&&(i=r.substr(0,t))&&(i="ex"+i.toProper())in s&&(r=r.substr(t+1),(n=r.indexOf(")"))>=0&&(r=r.substr(0,n)),r&&function(t,n){null!=n&&(n=String(n).toLowerCase())&&n.split(",").forEach(function(n){(n=n.trim())&&e.set(n,t)})}(s[i],r))})}function n(){var t,n,i,e=String(l.Def.Intl.weekNumberAs),s=l.WeekNumberAsEnum;e&&e.splitP(",").forEach(function(e){(e=e.trim())&&(t=e.indexOf("("))>=0&&(i=e.substr(0,t))&&(i="ex"+i.toProper()+"WeekNumber")in s&&(e=e.substr(t+1),(n=e.indexOf(")"))>=0&&(e=e.substr(0,n)),e&&function(t,n){null!=n&&(n=String(n).toLowerCase())&&n.split(",").forEach(function(n){(n=n.trim())&&r.set(n,t)})}(s[i],e))})}function i(){s=function(){var t=!1;try{(new Date).toLocaleDateString("'i'")}catch(n){t="RangeError"==n.name}return t}(),e.clear(),r.clear(),t(),n()}var e=new Map,r=new Map,s=!0;return i(),{Init:i(),GetFirstWeekDay:function(t){var n,i=((t=t||null)||l.Def.Locale.language||l.lang()).toLowerCase(),r=e.get(i);return void 0==r&&(n=i.indexOf("-"))>=0&&(i=i.substr(0,n))&&(r=e.get(i)),r||0},GetWeekNoAs:function(t){var n,i=((t=t||null)||l.Def.Locale.language||l.lang()).toLowerCase(),e=r.get(i);return void 0==e&&(n=i.indexOf("-"))>=0&&(i=i.substr(0,n))&&(e=r.get(i)),e||0},SupportLocales:s}}(),l.Loc=function(){function t(){e.clear(),s=[],i()}function n(t){t=t||null;var n,i,s,o=e.get(t);if(void 0===o){var a=l.Intl.SupportLocales?t||(l.Def.Locale.language||l.lang()):"en-us";o=l.Cpy(l.Def.Locale);try{o.language=l.ToS(a),n=function(t){var n=[];if(l.Intl.SupportLocales)for(var i=0;i<l.months;i++)n.push(Date.Create(2018,i+1,15).toLocDS(t,{month:"long"}));else n="January,February,March,April,May,June,July,August,September,October,November,December".split(",");return n}(a),o.months=t?n:o.months||n,i=function(t){var n=[];if(l.Intl.SupportLocales)for(var i=0;i<l.days;i++)n.push(Date.Create(2017,1,i+1).toLocDS(t,{weekday:"long"}).trim());else n="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",");return n}(a),o.days=t?i:o.days||i,s=function(t){return l.Intl.SupportLocales?[l.GetAM(t),l.GetPM(t)]:"AM,PM".split(",")}(a),o.ampm=t?s:o.ampm||s,o.firstWeekDay=t||null==o.firstWeekDay?l.Intl.GetFirstWeekDay(a):o.firstWeekDay,o.weekNumberAs=t||null==o.weekNumberAs?l.Intl.GetWeekNoAs(a):o.weekNumberAs,o.weekend=t||null==o.weekend?2:o.weekend,function(t){for(t.months=l.IsA(t.months)?t.months:[],n=t.months.length;n<l.months;n++)t.months.push("");for(t.monthsR=l.IsA(t.monthsR)?t.monthsR:[],n=t.monthsR.length;n<l.months;n++)t.monthsR.push("");for(t.days=l.IsA(t.days)?t.days:[],n=t.days.length;n<l.days;n++)t.days.push("");t.ampm=l.IsA(t.ampm)?t.ampm:[];for(var n=t.ampm.length;n<2;n++)t.ampm.push("");t.firstWeekDay=t.firstWeekDay||0,t.weekNumberAs=t.weekNumberAs||0,null==t.weekend&&(t.weekend=2)}(o)}catch(t){o=r}e.set(t,o)}return o}function i(t){return r=n(t)}var e=new Map,r=null,s=[];return t(),{Get:function(t){return t?n(t):r},Set:i,Push:function(t){return r&&s.push(r),i(t)},Pop:function(){var t=s.pop();return null!=t&&(r=t),r},XC:t}}(),l.GP=function(){function t(t,i){var e=n.get(i=l.ToS(i));return null==e&&n.set(i,e=function(t){var n=new Map;return t&&t.splitP(",").forEach(function(t){var i=function(t){if(t=t.trim()){var n,i=t.length-1;if(")"==t.charAt(i)&&(n=t.lastIndexOf("("))>=0)return{group:t.substr(0,n++).trim(),parts:t.substr(n,i-n).trim()}}}(t);if(i){var e=i.group;e&&i.parts.split(",").forEach(function(t){if(t=t.trim()){var i=n.get(t);i?i.indexOf(e)<0&&i.push(e):n.set(t,[e])}})}}),n}(i)),e.get(t)}var n=new Map;return{Get:function(n,i){var e=t(n,i);if(e)return e[e.length-1]},GetAll:t,XC:function(){n.clear()}}}(),l.S=function(){function t(t,r,s){function o(t){for(var n=e.Shapes,i=String(t).trim().split("."),r=0,s=i.length;n&&r<s;r++)n=n[i[r].trim()];return n}var a=t;if(e.IsS(t)){var h=""+r+t;void 0===(a=i.get(h))&&((a=o(r+(t&&r?".":"")+t))||(a=o(t)),s||a||e.IsO(a=n(t))||(a=null),i.set(h,a=a||null))}return a}function n(t){if(e.IsS(t))if(e.C.IsColor(t))t={normal:{fillColor:t}};else try{t=JSON.parse(t)}catch(t){}return t}var i=new Map,e=l;return{Draw:function(t,n,i,r){function s(){for(var t=null,n=0,i=arguments.length;null==t&&n<i;n++)t=arguments[n];return t}var o=n,a=n;if(o&&(r||!e.EyO(i))){o=o.slice(),(i=i||{}).client&&(a=(o=e.E.EvalCE(n,i.client)).slice()),i.pad&&e.PRt(o,i.pad);var h=1,u=i.frameColor;if(null!=i.frameSize&&(h=~~i.frameSize)>0&&e.IRt(o,h/2,h/2),!e.EyR(o)||i.draw){t.save(),null!=i.opacity&&(t.globalAlpha=e.ToN(i.opacity,1)),h>1&&(t.lineWidth=h),i.frameDash&&t.setLineDash(e.IsA(i.frameDash)?i.frameDash:[i.frameDash]),i.frameJoin&&(t.lineJoin=i.frameJoin),i.frameCap&&(t.lineCap=i.frameCap);var l=i.shadow;h||null==u||(null!=l&&null==l.color&&((l=e.Cpy(l)).color=u),u=null),e.D.P.fillS(t,o,function(t,n,i,r){return i?e.Grad.Create(t,n,i,r):n}(t,i.fillColor,i.fillGradientColor,o),u,l,i.primitive,i.pArg||r),i.pattern&&e.D.P.fillP(t,o,i.pattern,i.patternColor,i.primitive,i.pArg||r);var c=s(r&&r.text,i.text);if(null!=c){var f=s(r&&r.formatText,i.formatText,262181),g=s(r&&r.clipText,i.clipText),d=s(r&&r.padText,i.padText),v=s(r&&r.clientText,i.clientText),p=a.slice(),C=i.tfi?e.TFI.bCTX(t,i.tfi):null;g&&t.selClip(o,i.primitive,i.pArg),d&&e.PRt(p,d),v&&(p=e.E.EvalCE(p,v)),t.drawHTMLText(c,p,f),g&&t.resClip(),C&&e.TFI.eCTX(t,C)}i.draw&&i.draw.call(i,t,n,o,r),t.restore()}}return o},Get:t,GetOf:function(n,r,s){var o=n;if(e.IsS(n)){var a=""+s+r+n;if(void 0===(o=i.get(a))){var h,u,c=[];if(n.split(",").forEach(function(n){n&&((u=e.GP.GetAll(n,r))?u.forEach(function(n){(f=t(n,s))&&c.push(f)}):(f=t(n,s,!0))&&c.push(f))}),h=c.length){var f=c[0];if(1==h)o=f;else{o=e.Cpy(f);for(var g=1;g<h;g++)o=l.Mrg(o,c[g])}}i.set(a,o=o||null)}}return o},A2S:n,XC:function(){i.clear()}}}(),l.Keys=l.K=function(){function t(){this.rgK2N=[],this.mN2K=new Map,function(){for(var t in f)this.add(f[t],t);for(var n=48;n<=57;n++){var i=String.fromCharCode(n);this.add(n,i),this.add(n,"Digit"+i)}for(var e=65;e<=90;e++){var r=String.fromCharCode(e);this.add(e,r),this.add(e,"Key"+r)}}.call(this)}function n(t){return v.f2S(t)}function i(t){return v.n2C(t)}function e(t,n){if(null!=t){var i=l.Key(t);if(null!=i){if(null==n)switch(t.type){case"keydown":n=-1;break;case"keyup":n=0;break;case"keypress":n=1}switch(n){case-1:case 0:var e=l.Cpy(c);return e.alt=l.ToB(t.altKey,!1),e.shift=l.ToB(t.shiftKey,!1),e.ctrl=l.ToB(t.ctrlKey,!1),e.meta=l.ToB(t.metaKey,!1),e.keyCode=i,e;case 1:return null}}}return null}function r(t){var i="";if(null!=t){var e=o(t);e.sort(function(t,n){if(t!=n){var i=m.getPos(t),e=m.getPos(n);return i>=0&&e>=0?l.Cmp.N(i,e):i<0&&e<0?l.Cmp.N(t,n):i<0?1:-1}return 0}),e.forEach(function(t){i=function(t,n){return n&&(t&&(t+=d),t+=n),t}(i,n(t))})}return i}function s(t){var n=C;return t&&void 0===(n=p.get(t))&&p.set(t,n=function(t){var n=new l.Arr,e=l.Cpy(c);return t.split(d).forEach(function(t){var e=i(t);null!=e&&n.add(e)}),n.forEach(function(t){switch(t){case f.ALT:e.alt=!0;break;case f.CTRL:e.ctrl=!0;break;case f.SHIFT:e.shift=!0;break;case f.META:e.meta=!0;break;default:e.keyCode=t}}),e}(t)),n}function o(t){var n=new l.Arr;return void 0!==t.shift&&t.shift&&n.add(f.SHIFT),void 0!==t.meta&&t.meta&&n.add(f.META),void 0!==t.ctrl&&t.ctrl&&n.add(f.CTRL),void 0!==t.alt&&t.alt&&n.add(f.ALT),void 0!==t.keyCode&&0!=t.keyCode&&n.add(t.keyCode),n}function a(t){var n=t;return null!=t&&(l.IsS(t)||l.IsI(t))&&(n=s(t+"")),n}function h(t){var n=a(t);return n&&(o(n).len()||(n=null)),n}function u(t,n,i){if(t){var r=e(n,i);if(null!=r)return function(t,n){return t===n||(t&&n?o(a(t)).equal(o(a(n))):void 0)}(r,a(t))}}var c={alt:!1,ctrl:!1,meta:!1,shift:!1,keyCode:0},f={LButton:1,RButton:2,Cancel:3,MButton:4,XButton1:5,XButton2:6,Backspace:8,Tab:9,Clear:12,Enter:13,Return:13,SHIFT:16,CTRL:17,Control:17,ALT:18,Menu:18,Pause:19,CapsLock:20,Capital:20,Kana:21,Hangeul:21,Hangul:21,Junja:23,Final:24,Hanja:25,Kanji:25,Escape:27,Esc:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31,Space:32,PageUp:33,Prior:33,PageDown:34,Next:34,End:35,Home:36,ArrowLeft:37,Left:37,ArrowUp:38,Up:38,ArrowRight:39,Right:39,ArrowDown:40,Down:40,Select:41,Print:42,Execute:43,PrintScreen:44,PrintScr:44,Snapshot:44,Insert:45,Delete:46,Help:47,META:91,WIN:91,LWin:91,RWin:92,ContextMenu:93,Apps:93,Sleep:95,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,Multiply:106,Add:107,Separator:108,Subtract:109,Decimal:110,Divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,Scroll:145,OEM_NEC_EQUAL:146,OEM_FJ_JISHO:146,OEM_FJ_MASSHOU:147,OEM_FJ_TOUROKU:148,OEM_FJ_LOYA:149,OEM_FJ_ROYA:150,LSHIFT:160,RSHIFT:161,LCONTROL:162,RCONTROL:163,LMENU:164,RMENU:165,BrowserBack:166,BrowserForward:167,BrowserRefresh:168,BrowserStop:169,BrowserSearch:170,BrowserFavorites:171,BrowserHome:172,VolumeMute:173,VolumeDown:174,VolumeUp:175,MediaNextTrack:176,MediaPrevTrack:177,MediaStop:178,MediaPlayPause:179,LaunchMail:180,LaunchMediaSelect:181,LaunchApplication1:182,LaunchApplication2:183,OEM_1:186,Plus:187,OEM_PLUS:187,Comma:188,OEM_COMMA:188,Minus:189,OEM_MINUS:189,Period:190,OEM_PERIOD:190,Slash:191,OEM_2:191,OEM_3:192,OEM_4:219,Backslash:220,OEM_5:220,OEM_6:221,OEM_7:222,OEM_8:223,OEM_AX:225,OEM_102:226,ICO_HELP:227,ICO_00:228,PROCESSKEY:229,ICO_CLEAR:230,PACKET:231,OEM_RESET:233,OEM_JUMP:234,OEM_PA1:235,OEM_PA2:236,OEM_PA3:237,OEM_WSCTRL:238,OEM_CUSEL:239,OEM_ATTN:240,OEM_FINISH:241,OEM_COPY:242,OEM_AUTO:243,OEM_ENLW:244,OEM_BACKTAB:245,ATTN:246,CRSEL:247,EXSEL:248,EREOF:249,PLAY:250,ZOOM:251,NONAME:252,PA1:253,OEM_CLEAR:254},g=t.prototype;g.add=function(t,n){void 0===this.rgK2N[t]&&(this.rgK2N[t]=n),this.mN2K.set(n.toLowerCase(),t)},g.f2S=function(t){return t>=0&&t<256&&this.rgK2N[t]||null},g.n2C=function(t){return this.mN2K.get(t.trim().toLowerCase())||null};var d="+",v=new t,p=new Map,C=l.Cpy(c),m=new l.Arr(f.ALT,f.CTRL,f.SHIFT,f.META);return{StEy:h,IsStEv:u,ToSt:e,St2Str:r,Str2St:s,GetSt:a,ModK:function(t){var n=0,i=h(t);return null!=i&&(i.shift&&(n|=1),i.ctrl&&(n|=2),i.alt&&(n|=4),i.meta&&(n|=16)),n},IsModK:function(t){var n=!1,i=h(t);return i&&(n=i.shift||i.meta||i.ctrl||i.alt),n},f2S:n,n2C:i}}(),l.Sts=function(){this.mS=new Map};var G=l.Sts.prototype;G.toS=function(t){return l.K.StEy(t)},G.Has=function(t,n){r=this.toS(t);if(r){var i=this.mS.get(l.K.St2Str(r));if(i){if(!n){var e=[];return i.forEach(function(t){e.push(t)}),e}var r;if(r=i.get(n))return[r]}}},G.Add=function(t,n,i,e,r){var s=!1,o=this.toS(t);if(s=!!o){i=i||null;var a=l.K.St2Str(o),h=this.mS.get(a);!h&&this.mS.set(a,h=new Map),h.set(i,{shortcut:a,description:e,callback:n||null,thisArg:i,keyState:null!=r?r:-1})}return s},G.Remove=function(t,n){var i=this.toS(t);if(i){var e=l.K.St2Str(i);if(n){var r=this.mS.get(e);r&&(r.delete(n),0==r.size&&this.mS.delete(e))}else this.mS.delete(e)}},G.Clear=function(){this.mS.clear()},G.RemoveOf=function(t){if(null==t)this.Clear();else{var n=[];this.forEach(function(i){i.thisArg==t&&n.push(i)}),n.forEach(function(t){this.Remove(t.shortcut,t.thisArg)},this)}},G.forEach=function(t,n){e(t)&&this.mS.forEach(function(i){i.forEach(function(i){t.call(n,i)})})},G.isLocked=function(t,n){var i,e=l.RUR.Rng();return e||(i=this.Has(t))&&i.length>1&&i.forEach(function(t){t.thisArg&&t.thisArg.nAXChg&&(e=t.thisArg!=n)}),e},G.onkey=function(t,n){var i=l.K.ToSt(t,n);if(i){if(l.RUR.ModKeys.value)return void(l.IsModK(t)||(l.RUR.ModKeys.value=0));var r=!1,s=l.K.St2Str(i),o=this.mS.get(s);o&&o.forEach(function(t){t.keyState==n&&e(t.callback)&&(this.isLocked(t.shortcut,t.thisArg)||(r=!0,t.callback.call(t.thisArg,t)))},this),r&&l.SEP(t)}},l.D=function(){function t(){var t=l.Cpy(l.Def.Shape);return t.fillColor="white",t.frameColor="black",t.primitive="BevelRect",t}function n(){var t=l.Cpy(l.Def.Shape);return t.fillColor="white",t.frameColor="#808080",t.primitive="",t}function i(){var t=l.Cpy(l.Def.Shape);return t.pad=2,t.fillColor=null,t.frameColor="#808080",t.pattern=6,t.patternColor="rgba(128,128,128,0.5)",t}return{WindowSplitColor:"#E0E0E0",WindowSplit:function(t,n,i){t.fillSolidRect(n,l.D.WindowSplitColor)},WindowSplitSize:2,WindowSplitByFrames:!1,AnchorXChgInflate:8,AnchorXChgRect:function(t,n,i){i=""+i;var e=t.sizeHTMLText(i),r=e.width+l.D.AnchorXChgInflate,s=e.height+l.D.AnchorXChgInflate/2;return[n[0]+n[2]-r-4,n[1]+4,r,s]},AnchorXChgShape:t(),AnchorXChgShapeMin:function(){var n=l.Cpy(t());return n.opacity=.5,n}(),AnchorXChgShapeClick:function(){var n=l.Cpy(t());return n.pad=2,n.fillColor="black",n.tfi={fgColor:"white"},n}(),AnchorXChgDockBorderColor:"#444444",AnchorXChgShapeDock:n(),AnchorXChgShapeParentDock:function(){var t=l.Cpy(l.Def.Shape);return t.fillColor="white",t.frameColor="black",t.shadow.blur=8,t}(),AnchorXChgShapeDockHover:function(){var t=l.Cpy(n());return t.fillColor=t.frameColor,t.tfi={fgColor:"white"},t}(),AnchorXChgDockTimeout:750,AnchorXChg:function(t,n,i,e){t.drawShape(n,i,{text:e})},TargetAnchorXChgShape:i(),TargetAnchorXChgSourceShape:function(){var t=l.Cpy(i());return t.opacity=.5,t.pattern=7,t}(),TargetAnchorXChg:function(t,n,i){t.drawShape(n,i)},AnchorXChgByAlpha:!1,WindowFrameColor:"#E0E0E0",WindowFrame:function(t,n,i,e){switch(e=null!=e?e:l.D.WindowFrameColor,i){case 3:var r=n[0]+n[2],s=n[1];r=~~r-.5,t.drawFrameLine(r,s,r,s+n[3],e);break;case 4:var r=n[0],s=n[1];r=.5+~~r,t.drawFrameLine(r,s,r,s+n[3],e);break;case 1:r=n[0],s=~~(s=n[1]+n[3])-.5,t.drawFrameLine(r,s,r+n[2],s,e);break;case 2:r=n[0],s=.5+~~(s=n[1]),t.drawFrameLine(r,s,r+n[2],s,e);break;case 0:l.D.P.fillS(t,n,null,e)}},Background:null,Foreground:null,Opacity:null,HoverBackground:null,HoverForeground:null,HoverOpacity:null,HoverDuration:250,HoverOnClient:!1,HoverOverride:!1}}(),l.G=function(){function t(t){this.client=t.slice(),this.x=t[0],this.y=t[1],this.w=t[2],this.h=t[3],this.radiusX=this.w/2,this.radiusY=this.h/2,this.xm=this.x+this.radiusX,this.ym=this.y+this.radiusY}function i(){this.p1={x:0,y:0},this.p2={x:1,y:1},arguments.length&&this.Set.apply(this,arguments)}function e(t){return t&&l.ToN(t.x,t[0])||0}function r(t){return t&&l.ToN(t.y,t[1])||0}function s(t,n){var i=e(n)-e(t),s=r(n)-r(t);return Math.sqrt(i*i+s*s)}function o(t){return Math.abs(Math.sin(Math.PI/t))}function a(){return.5}function h(t,n,i){var s=[],o=e(t),a=r(t),h=e(n),u=r(n),l=Math.abs(h-o),c=Math.abs(u-a);if(l||c){i=Math.max(1,i||1);for(var f=h-o<0?-1:1,g=u-a<0?-1:1,d=Math.min(l,c),v=Math.max(l,c),p=v,C=2*d-v,m=d<<1,S=d-v<<1,E=1-(T=l>=c?1:0),T=f*T,b=f*(b=1),E=g*E,A=g*(A=1),w=o,R=a,y=0;y<p;y++)y%i!=0&&y!=p-1||s.push([w,R]),C<0?(C+=m,w+=T,R+=E):(C+=S,w+=b,R+=A);var O=s.length;if(0!=O){var x=s[O-1];x[0]==h&&x[1]==u||s.push([h,u])}}else s.push([o,a]);return s}function u(t,n,i,s,o){var a={x:null,y:null};if(s&&(n||i)){var h=e(t),u=r(t),l=Math.abs(n),c=Math.abs(i),f=n<0?-1:1,g=i<0?-1:1,d=Math.min(l,c),v=Math.max(l,c),p=2*d-v,C=d<<1,m=d-v<<1,S=S=l>=c?1:0,E=1-S,T=1,b=1;S*=f,T*=f,E*=g,b*=g;for(var A=0,w=h,R=u;s.call(o,w,R);A++)a.x=w,a.y=R,p<0?(p+=C,w+=S,R+=E):(p+=m,w+=T,R+=b);if(null!=a.x&&null!=a.y)return a}}function c(t,n,i,s,o){var a=[];if(s&&(n||i)){o=Math.max(1,o||1);for(var h=e(t),u=r(t),l=Math.abs(n),c=Math.abs(i),f=n<0?-1:1,g=i<0?-1:1,d=Math.min(l,c),v=Math.max(l,c),p=2*d-v,C=d<<1,m=d-v<<1,S=1-(E=l>=c?1:0),E=f*E,T=f*(T=1),S=g*S,b=g*(b=1),A=h,w=u,R=null,y=0;s(A,w);y++)R=[A,w],y%o==0&&(a.push(R),R=null),p<0?(p+=C,A+=E,w+=S):(p+=m,A+=T,w+=b);R&&a.push(R)}return a}function f(t,n,i,s){var o=[0,0,0,0];if(t){n=n||0,i=i||0;var a=e(t),h=r(t);switch(s){case 17:o=[a,h,n,i];break;case 18:o=[a-n/2,h,n,i];break;case 20:o=[a-n,h,n,i];break;case 33:o=[a,h-i/2,n,i];break;case 36:o=[a-n,h-i/2,n,i];break;case 65:o=[a,h-i,n,i];break;case 66:o=[a-n/2,h-i,n,i];break;case 68:o=[a-n,h-i,n,i];break;default:o=[a-n/2,h-i/2,n,i]}}return o}function g(t,n,i){return[e(t)+(e(n)-e(t))*i,r(t)+(r(n)-r(t))*i]}function d(t,n){var i,e,r=[0,0];if(t)switch(i=t[0],e=t[1],n){case 17:r=[i,e];break;case 18:r=[i+t[2]/2,e];break;case 20:r=[i+t[2],e];break;case 33:r=[i,e+t[3]/2];break;case 36:r=[i+t[2],e+t[3]/2];break;case 65:r=[i,e+t[3]];break;case 66:r=[i+t[2]/2,e+t[3]];break;case 68:r=[i+t[2],e+t[3]];break;default:r=[i+t[2]/2,e+t[3]/2]}return r}function v(t){for(;t>180;)t-=360;for(;t<-180;)t+=360;return t}function p(t){return 180*t/Math.PI}function C(t,n){var i=e(t),s=r(t),o=e(n),a=r(n);return[Math.min(i,o),Math.min(s,a),Math.abs(o-i),Math.abs(a-s)]}function m(t,n,i){function s(t,n){return!(t<g||t>v||n<d||n>p)}function o(t){return t>=0||Math.abs(t)<1e-6?1:-1}var a=null,h=e(n),u=r(n),c=e(i),f=r(i),g=l.LOf(t),d=l.TOf(t),v=l.ROf(t),p=l.BOf(t),C=s(h,u),m=C?1:-1,S=c-h,E=f-u,T=2147483647;if(S||E){var b=null,A=null,w=function(){var t=m*(c-h);return 0==t?T:m*(u-f)*(t<0?h-g:v-h)/t}();if(S<0?(b=C?g:v,A=u+m*w):(b=C?v:g,A=u+-m*w),!s(b,A)){var R=function(){var t=m*(f-u);return 0==t?T:m*(h-c)*(t<0?u-d:p-u)/t}();E<0?(b=h+m*R,A=C?d:p):(b=h+-m*R,A=C?p:d)}if(null!=b&&null!=A&&s(b,A)){var y=o(S),O=o(E),x=o(b-h),k=o(A-u);(b-h||A-u)&&(y!=x||O!=k)||(a=[b,A])}}return a}var S=t.prototype;S.GetPoint=function(t){return t=l.Def.G.getAngle(t),{x:this.xm+Math.cos(t)*this.radiusX,y:this.ym+Math.sin(t)*this.radiusY}},S.GetAngle=function(t){var n=e(t)-this.xm,i=r(t)-this.ym,s=-Math.atan(n*this.radiusY/(i*this.radiusX));return i>=0&&(s+=Math.PI),s<0&&(s+=2*Math.PI),s-l.Def.G.getAngle(Math.PI/2)||0};var E=i.prototype;E.Set=function(){function t(t){return l.Def.G.Transitions[t]}switch(arguments.length){case 4:return this.SetP1({x:arguments[0],y:arguments[1]}),this.SetP2({x:arguments[2],y:arguments[3]}),this;case 2:return this.SetP1(arguments[0]),this.SetP2(arguments[1]),this;default:var i=arguments[0],e=n(i)?i:t(i);if(n(e)&&4===e.length||(e=t("linear")),null!=e)return this.SetP1({x:e[0],y:e[1]}),this.SetP2({x:e[2],y:e[3]}),this}return this.SetP1(P1),this.SetP2(P2),this},E.Get=function(t){return null==t?this.GetP12():(t=i.adjustX(t),this.isL()?t:0===t||1===t?t:this.calcY(function(t,n){for(var i=0;i<4;i++){var e=this.slope(n);if(0===e)return n;n-=(this.calcX(n)-t)/e}return n}.call(this,t,function(t){if(t>0&&t<1){for(var n=0,i=0,e=i;n<2&&t>(e=this.calcX(n));)i=e,n+=1/21;return i==e?t<.5?0:1:n-1/21+1/21*(t-i)/(e-i)}return t}.call(this,t))))},i.adjustX=function(t){return Math.max(0,Math.min(1,t))},E.onChange=function(t){this.p1.x=i.adjustX(this.p1.x),this.p2.x=i.adjustX(this.p2.x),this.onchange&&this.onchange.callback.call(this.onchange.thisArg||this,t,this)},E.isL=function(){return this.p1.x==this.p1.y&&this.p2.x==this.p2.y},E.SetP1=function(t){this.p1={x:l.ToN(l.G.X(t)),y:l.ToN(l.G.Y(t))},this.onChange(1)},E.GetP1=function(){return{x:this.p1.x,y:this.p1.y}},E.SetP2=function(t){this.p2={x:l.ToN(l.G.X(t)),y:l.ToN(l.G.Y(t))},this.onChange(2)},E.GetP2=function(){return{x:this.p2.x,y:this.p2.y}},E.GetP12=function(){return[this.p1.x,this.p1.y,this.p2.x,this.p2.y]},E.SetP12=function(){return this.Set.apply(this,arguments)},E.GetName=function(){function t(t,n){for(var i=0;i<4;i++)if(Math.abs(t[i]-n[i])>5e-4)return!1;return!0}if(this.isL())return"linear";var n,i=l.Def.G.Transitions;if(i){n=this.GetP12();for(var e in i)if(t(i[e],n))return e}},E.Trans=function(t){var n=null;if(t&&void 0!==t.length&&(n=t.length)){if(this.isL()||1==n)return t;for(var e=[],r=1/(n-1),s=t[0],o=t[n-1],a=0,h=0;a<n;a++,h+=r){var u=this.Get(h),l=Math.round((n-1)*i.adjustX(u));l<0?e.push(s):l>=n?e.push(o):e.push(t[l])}return e}return t},E.slope=function(t){return i.slope(t,this.p1.x,this.p2.x)},E.calcX=function(t){return i.calc(t,this.p1.x,this.p2.x)},E.calcY=function(t){return i.calc(t,this.p1.y,this.p2.y)},i.A=function(t,n){return 1-3*n+3*t},i.B=function(t,n){return 3*n-6*t},i.C=function(t){return 3*t},i.calc=function(t,n,e){return((i.A(n,e)*t+i.B(n,e))*t+i.C(n))*t},i.slope=function(t,n,e){return 3*i.A(n,e)*t*t+2*i.B(n,e)*t+i.C(n)};var T={t:.8284271242805504,w:function(t){return 2*Math.max(1,t||1)+4},h:function(t){return this.w(t)/this.t}},b=function(){function t(t){var n,i=d.get(t);return i||(i=[],t&&34!=t&&(c.IsS(t)?t.split(","):[t]).forEach(function(e){if(n=f[e])34!=n&&i.push(n);else for(var r in f)(n=f[r])==(n&t)&&34!=n&&i.push(n)}),!i.length&&(i=g),d.set(t,i)),i}function n(n,i,e,r){var s,o=t(e),a=t(r);return 1==o.length&&1==a.length?s={cS:o[0],cE:a[0]}:o.forEach(function(t){var e=function(t,n,i){var e,r;return(i||g).forEach(function(i){r=~~c.G.Dist(t,c.G.R2C(n,i)),(!e||r<e.d)&&((e=e||{}).d=r,e.c=i)}),e}(c.G.R2C(n,t),i,a);(!s||e.d<s.d)&&((s=s||{}).cS=t,s.cE=e.c,s.d=e.d)}),s}function i(t,n,i,e){return!(t<=c.TOf(e)||t>=c.BOf(e))&&(!(Math.max(n,i)<=c.LOf(e))&&!(Math.min(n,i)>=c.ROf(e)))}function e(t){return 16&t?-17&t|64|15&t:64&t?-65&t|16|15&t:t}function r(t){return 16&t}function s(t){return 64&t}function o(t){return 4&t}function a(t){var n=!1;switch(t){case 17:case 18:case 33:n=!0}return n}function h(t){return null==t?12:t}function u(t,n,l,f,g,d,p,C){function m(){var t=function(){var t=F==T;return t&&N==b?0:t?1:2}();if(t){if(t==x){var n=A.length-1;A[n][0]=T=F,A[n][1]=b=N}else A.push([T=F,b=N]);x=t}}function S(){N=O;var o=d,a=C;switch(R>0&&(o=e(d),a=-a),o){case 18:case 20:k&&20==o||(N-=a);break;case 66:case 68:N+=a;break;case 36:if(!k){var h=Math.min(c.TOf(t)-f,c.TOf(g)-C),u=Math.max(c.BOf(t)+f,c.BOf(g)+C);if(33==n)N=R<0?h:u;else{var v=i(l[1],l[0],l[0]+w,c.IRt(g.slice(),C+.5,C+.5));r(n)?N=v?h:c.BOf(g)+C:s(n)?N=v?u:c.TOf(g)-C:v&&(N=R<0?c.BOf(g)+C:c.TOf(g)-C)}}}}function E(){F=y,36==d&&(F+=C)}f=h(f),C=h(C);var T,b,A=[],w=~~(p[0]-l[0]),R=~~(p[1]-l[1]),y=p[0],O=p[1],x=0,k=!1;if(w>=0||v){F=l[0],N=l[1],A.push([T=F,b=N]);var D=!0;switch(n){case 33:F-=f,m();break;case 36:!function(){F+=f;var t=d;if(R>0&&(t=e(d)),!a(t)&&(R>0?c.TOf(g)-N:N-c.BOf(g))>C)switch(F=y,t){case 20:case 36:k=!0,F+=C}}(),m();break;default:(D=!function(){var i=!1;switch(n){case 68:i=r(d)&&R>C||o(d)&&c.TOf(g)-c.BOf(t)>C;break;case 20:i=s(d)&&-R>C||o(d)&&c.TOf(t)-c.BOf(g)>C}return i&&(k=36==d||d==n,E(),m(),S(),m()),i}())&&c.EyR(c.NRt(c.IRt(t.slice(),f-.5,f-.5),c.IRt(g.slice(),C-.5,C-.5)))&&function(){var e=f,o=!1,h=!1,u=!1,l=!1,v=!1,p=0,S=36==d;if(s(n)?(o=R<0)&&(o=!function(t){var n=!1;switch(d){case 68:case 66:case 36:n=!0}return n}()||Math.sign(R)!=Math.sign(e))&&(p=Math.max(c.BOf(t)+f,c.BOf(g)+C),h=68!=n,u=18==d,l=36==d||20==d,(v=a(d)||-R<f||i(N+f,F,y+C,g)||i(N,F,y+C,g))&&h&&s(d)&&(v=!1)):(e=-f,(o=R>0)&&(o=!function(t){var n=!1;switch(d){case 20:case 18:case 36:n=!0}return n}()||Math.sign(R)!=Math.sign(e))&&(p=Math.min(c.TOf(t)-f,c.TOf(g)-C),h=20!=n,u=66==d,l=36==d||68==d,(v=function(t){var n=!1;switch(d){case 65:case 66:case 33:n=!0}return n}()||R<f||i(N-f,F,y+C,g)||i(N,F,y+C,g))&&h&&r(d)&&(v=!1))),o)if(h&&(N+=e,(S||v&&u&&c.ROf(t)+f>c.LOf(g)-C)&&(N=p),m()),v){if(F=c.ROf(t)+f,u){var E=c.LOf(g)-C;F>E&&(F=Math.max(F,c.ROf(g)+C))}m()}else k=!0,F=y,l&&(F+=C),m()}()}D&&(S(),m(),E(),m(),N=O,m()),F=y,N=O,m()}else v++,(A=u(g,d,p,C,t,n,l,f)).reverse(),v--;var I=A.length;if(I>2){var M=0,P=A[M][0],W=P,L=P,G=A[M][1],H=G,X=G;for(++M;M<I;M++){var F=A[M][0],N=A[M][1];W=Math.min(W,F),L=Math.max(L,F),H=Math.min(H,N),X=Math.max(X,N)}(L-W<=1||X-H<=1)&&(A=[l,p])}return A}var c=l,f=c.CT,g=[18,33,36,66],d=new Map,v=0;return{cOposY:e,cSE:n,direct:function(t,n,i){i=h(i);var e=c.G.X(t),r=c.G.Y(t);return[e+i*Math.sign(c.G.X(n)-e),r+i*Math.sign(c.G.Y(n)-r)]},defW:h,rect:u,c2A:t}}();return{Ellipse:t,Star:function(n,i,e,r){this.tilt=Math.max(0,Math.min(1,null!=r?r:.5)),this.edges=Math.max(3,null!=i?i:3),this.deep=null!=e?e:o(this.edges),this.sweepAngle=2*Math.PI/this.edges,this.innerSweepAngle=this.sweepAngle*this.tilt,this.oOE=new t(n),this.oIE=new t(l.IRt(n.slice(),-this.oOE.radiusX*this.deep,-this.oOE.radiusY*this.deep))},Bezier:i,StarDefaultDeep:o,StarDefaultTilt:a,Rect:C,X:e,Y:r,Dist:s,LP:h,LDP:c,RDP:function(t,n,i,e,r){var s=[];if(n||i){var o=e.slice(),a=t[2],h=t[3];n&&(o[2]-=a,n<0&&(o[0]+=a)),i&&(o[3]-=h,i<0&&(o[1]+=h));for(var u=t,f=c(u,n,i,function(t,n){return l.NRt([t,n,a,h],o)},r),g=u[0],d=u[1],v=0,p=f.length;v<p;v++){var C=f[v];s.push([C[0]-g,C[1]-d])}}return s},PDP:function(t,n,i,e,r){return c(t,n,i,function(t,n){return l.PInR(t,n,e)},r)},RectM:function(t,n,i){var e=[];if(t&&n)if(l.EqR(t,n))e.push(t.slice());else{i=Math.max(1,i||1);var r=function(t,n){function i(t,n,i){return s(d(t,i),d(n,i))}for(var e=[17,20,65,68],r=e[0],o=i(t,n,r),a=1,h=e.length;a<h;a++){var u=e[a],l=i(t,n,u);l>o&&(o=l,r=u)}return r}(t,n),o=d(t,r),a=d(n,r),u=t[2],c=t[3],g=n[2]-u,v=n[3]-c,p=s(a,o),C=g/p,m=v/p,S=h(o,a,i);e.push(t.slice());for(var E=1,T=S.length-1;E<T;E++){var b=S[E],A=s(o,b),w=u+A*C,R=c+A*m;e.push(f(b,w,R,r))}e.push(n.slice())}return e},LPR:g,R2C:d,C2R:f,C2E:function(t){var n=0;return 16&t&&(n|=2),64&t&&(n|=8),1&t&&(n|=1),4&t&&(n|=4),n},R2E:function(t,n){var i=t,e=l;return i&&(i=i.slice(),2&n?i[3]=0:8&n?(i[1]=e.BOf(i),i[3]=0):1&n?i[2]=0:4&n&&(i[0]=e.ROf(i),i[2]=0)),i},Align:function(t,n,i){var e,r,s,o,a=0,h=0,u=1&t,l=4&t,c=8&t;return(u||2&t)&&(e=n.width||n[0])<(s=i[2])&&(a=(s-e)/(u?2:1)),(l||c)&&(r=n.height||n[1])<(o=i[3])&&(h=(o-r)/(l?2:1)),[a,h]},LDir:u,RDir:function(t,n,i,s){if(l.PInR(e(t),r(t),s))return u(t,n,i,function(t,n){return l.PInR(t,n,s)})},GtPInR:function(t,n){var i=e(t),s=r(t);return n&&(i=Math.max(Math.min(i,l.ROf(n)),l.LOf(n)),s=Math.max(Math.min(s,l.BOf(n)),l.TOf(n))),{x:i,y:s}},D218:v,D236:function(t){for(t=v(t);t<0;)t=360+t;return t},D2R:function(t){return t*Math.PI/180},R2D:p,Angle:function(t,n,i){var s=e(t)-e(n),o=r(t)-r(n),a=e(t)-e(i),h=r(t)-r(i);return v(p(Math.atan2(s,o)-Math.atan2(a,h)))},cL2R:m,cArrExcl:function(t,n,i){var e=T.h(i),r=m(f(n,e,e),t,n);return null!=r&&l.PInR(r[0],r[1],C(t,n),.5,.5)?r:t},cArrSize:T,cArr:function(t,n,i){var s,o=e(t),a=r(t),h=e(n),u=r(n),l=h-o,c=u-a;if(i&&(l||c)){var f=Math.sqrt(l*l+c*c),g=T.w(i)/(2*f),d=T.h(i)/f,v=h-d*l,p=u-d*c;(s=[[h,u]]).push([v-g*c,p+g*l]),s.push([v+g*c,p-g*l])}return s},cRut:b,ToCR:function(t,n,i,o,a){var h=[],u=t&&t.length||0,c=e,f=r,d=Math,v=d.pow,p=d.ceil,C=d.max,m=d.abs,S=[];if(u>1){for(var E,T,b=0;b<u;b++)T=t[b],(!E||m(c(E)-c(T))>0||m(f(E)-f(T))>0)&&S.push(T),E=T;if((u=S.length)>1){i=1-(i||0),o=l.ToN(o,.5),a?(S.push(S[0]),S.push(S[1]),S.splice(0,0,S[u-1])):(S.push([2*c(S[u-1])-c(S[u-2]),2*f(S[u-1])-f(S[u-2])]),S.splice(0,0,[2*c(S[0])-c(S[1]),2*f(S[0])-f(S[1])])),n&&n.splice(0),h.push([c(S[1]),f(S[1])]);for(var b=1,A=S.length-2;b<A;b++){for(var w,R,y=S[b-1],O=S[b],x=S[b+1],k=S[b+2],D=v(s(y,O),o),I=D+v(s(O,x),o),M=I+v(s(x,k),o),P=c(y),W=f(y),L=c(O),G=f(O),H=c(x),X=f(x),F=c(k),N=f(k),B=i*(I-D)*((P-L)/-D-(P-H)/-I+(L-H)/(D-I)),U=i*(I-D)*((W-G)/-D-(W-X)/-I+(G-X)/(D-I)),z=i*(I-D)*((L-H)/(D-I)-(L-F)/(D-M)+(H-F)/(I-M)),V=i*(I-D)*((G-X)/(D-I)-(G-N)/(D-M)+(X-N)/(I-M)),K=2*L-2*H+B+z,Y=2*G-2*X+U+V,Q=-3*L+3*H-2*B-z,q=-3*G+3*X-2*U-V,Z=h.length,_=1,j=C(10,p(s(y,O)/10));_<=j;_++)h.push([K*(R=_/j)*R*R+Q*R*R+B*R+L,Y*R*R*R+q*R*R+U*R+G]);n&&n.push(g(h[(w=p((Z+h.length)/2))-1],h[w],.5))}}}return h}}}(),l.L=function(){function t(t,n){this.xF=t[0],this.xT=n[0],this.yF=t[1],this.yT=n[1],this.dir=!0,this.h=this.yF==this.yT,this.n()}function n(){this.h=[],this.v=[]}function i(t){this.nT=t,this.mL2I=new Map,this.rgCP=new l.Arr}function e(t){d&&(1&v&&function(t){function n(t){return 2&t?1:32&t?2:0}function i(t){return"s"==t?"e":"s"}function e(t,n){var i=t[n],e=o.get(i);null==e&&o.set(i,e=new Map);var r=t.c["c"+n.toUpperCase()],s=e.get(r);null==s&&e.set(r,s=[]),s.push({oL:t,io:n})}var o=new Map;d.forEach(function(t){!s(t)&&t.c&&(n(t.c.cS)&&e(t,"s"),n(t.c.cE)&&e(t,"e"))}),o.forEach(function(t,e){t.forEach(function(t,s){var o=t.length;if(o>1){var a=n(s)-1,h=a+2,u=e[a],l=e[h]/(o+1),c=0,f=0;t.sort(function(t,n){var e=t.oL,r=n.oL,s=i(t.io).toUpperCase(),o=i(n.io).toUpperCase();return c=Math.max(C.cRut.defW(e["w"+s]),C.cRut.defW(r["w"+o])),e.c["p"+s][a]-r.c["p"+o][a]}),f=(c/=2)/(o-1),t.forEach(function(t,n){var i=t.oL;i.c["p"+t.io.toUpperCase()][a]=u+l*(n+1),r(i)||(i.c.wS=i.c.wE=c+f*n)})}})})}(),96&v&&function(t){var n=new i(96&v);d.forEach(function(i){(function(t){return!t.nx&&(t.p||!o(t))})(i)&&(h(i,t),n.iCP(i))}),n=null}(t),S.Draw=p,d.forEach(function(n){u(t,n)}),d=p=v=null)}function r(t){return 1==t.t}function s(t){return 2==t.t}function o(t){return 3==t.t}function a(t){if(!t.p&&!t.c){t.c={};var n=C.cRut.cSE(t.s,t.e,t.cS,t.cE);if(t.c.cS=n.cS,t.c.cE=n.cE,t.c.pS=C.R2C(t.s,n.cS),t.c.pE=C.R2C(t.e,n.cE),s(t)){var i=null==t.cS||34==t.cS,e=null==t.cE||34==t.cE;if(i||e){var r=i?C.R2C(t.s):t.c.pS,o=e?C.R2C(t.e):t.c.pE;i&&(t.c.cS=34,t.c.pS=C.cL2R(t.s,r,o)||t.c.pS),e&&(t.c.cE=34,t.c.pE=C.cL2R(t.e,o,r)||t.c.pE)}}}}function h(t,n){if(a(t),!t.p){var i=n?n.lineWidth-1:0,e=C.cRut.defW(t.c.wS||t.wS)+i,o=C.cRut.defW(t.c.wE||t.wE)+i;if(t.p=s(t)?[t.c.pS,t.c.pE]:C.cRut.rect(t.s,t.c.cS,t.c.pS,e,t.e,t.c.cE,t.c.pE,o),r(t)){var h=t.p.length;h>2&&(t.p=[t.c.pS,C.cRut.direct(t.c.pS,t.p[1],e),C.cRut.direct(t.c.pE,t.p[h-2],o),t.c.pE])}}}function u(t,n){if(n.a&&(t.save(),null!=n.a.width&&(t.lineWidth=n.a.width),null!=n.a.color&&(t.fillStyle=t.strokeStyle=n.a.color),null!=n.a.arrow&&(t.fillStyle=n.a.arrow),null!=n.a.style&&t.setLineDash(l.IsA(n.a.style)?n.a.style:[n.a.style])),h(n,t),t.drawDir(n.p,n.d,o(n)?-1:0,n),null!=n.text){var i=function(t){for(var n=0,i=t.length,e=0,r=1;r<i;r++){var s=C.Dist(t[r-1],t[r]);s>e&&(n=r-1,e=s)}return n}(n.p),e=C.R2C(C.Rect(n.p[i],n.p[i+1])),r=t.sizeHTMLText(n.text,261);t.drawHTMLText(n.text,C.C2R(e,r.width,r.height),261)}n.a&&t.restore()}var c=t.prototype;c.n=function(){if(this.xF>this.xT){this.dir=!1;var t=this.xF;this.xF=this.xT,this.xT=t}if(this.yF>this.yT){this.dir=!1;var n=this.yF;this.yF=this.yT,this.yT=n}},c.Size=function(){return this.h?this.xT-this.xF:this.yT-this.yF},c.X=function(){return this.xF},c.Y=function(){return this.yF},c.I=function(t){if(this.h){if(!t.h){if((i=t.X())>this.xF&&i<this.xT){if((n=this.Y())>t.yF&&n<t.yT)return[i,n]}}}else if(t.h){var n=t.Y();if(n>this.yF&&n<this.yT){var i=this.X();if(i>t.xF&&i<t.xT)return[i,n]}}return null},c.ptCB=function(t,n){if(this.h){if(t>this.xF+n&&t<this.xT-n)return!0}else if(t>this.yF+n&&t<this.yT-n)return!0};var f=n.prototype;f.add=function(t){(t.h?this.h:this.v).push(t)},f.I=function(t,n,i){var e=t.h?1:0;(t.h?this.v:this.h).forEach(function(r){if(r.Size()>n){var s=t.I(r);null!=s&&r.ptCB(s[e],n)&&i.push(s[1-e])}})};var g=i.prototype;g.I=function(t,n,i){var e=new l.Arr;return this.mL2I.forEach(function(r,s){s!=t&&r.I(n,i,e)}),e.isEmpty()?null:e},i.P2K=function(t){return t[0]+"x"+t[1]},g.isCP=function(t){return this.rgCP.has(i.P2K(t))},g.addCP=function(t){this.rgCP.push(i.P2K(t))},i.getLinkWidth=function(t){return t.a&&t.a.width||1},g.olt=function(e,r,s){var o;if(Math.abs(r[0]-s[0])<1||Math.abs(r[1]-s[1])<1){var a=new t(r,s),h=3+i.getLinkWidth(e),u=2*h;if(a.Size()>u){var l,c=32==this.nT,f=a.dir;if(c||64!=this.nT&&(c=a.h),l=this.I(e,a,u)){l.sort(function(t,n){return t-n}),f||(l.reverse(),h=-h);var g=(l=l.byO()).length;if(a.h){for(var d=[0,a.Y()],v=0;v<g;v++)if(d[0]=l[v],!this.isCP(d)&&a.ptCB(d[0],u)){o=o||[],this.addCP(d);var p=d[0];for(d[0]=p-h,o.push(d.slice()),d[1]-=h,c&&o.push(d.slice());v+1<g&&a.ptCB(l[v+1],u)&&(f?l[v+1]<=p+2*h:l[v+1]>=p+2*h);)p=l[++v];d[0]=c?p+h:(d[0]+p+h)/2,o.push(d.slice()),c||(d[0]=p+h),d[1]+=h,o.push(d.slice())}}else for(var d=[a.X(),0],v=0;v<g;v++)if(d[1]=l[v],!this.isCP(d)&&a.ptCB(d[1],u)){o=o||[],this.addCP(d);var C=d[1];for(d[1]=C-h,o.push(d.slice()),d[0]-=h,c&&o.push(d.slice());v+1<g&&a.ptCB(l[v+1],u)&&(f?l[v+1]<=C+2*h:l[v+1]>=C+2*h);)C=l[++v];d[1]=c?C+h:(d[1]+C+h)/2,o.push(d.slice()),d[0]+=h,c||(d[1]=C+h),o.push(d.slice())}}var m=this.mL2I.get(e);!m&&this.mL2I.set(e,m=new n),m.add(a)}}return o},g.iCP=function(t){var n,i=[],e=0,r=t.p.length,s=t.p[e],o=s,a=!1;for(++e;e<r;e++)i.push(s),o=t.p[e],(n=this.olt(t,s,o))&&(i.push.apply(i,n),a=!0),s=o;return a&&(i.push(o),t.pO=t.p,t.p=i),a};var d,v,p,C=l.G,m="type,dir,width,color,arrow,style,startPos,endPos".split(","),S={Start:function(t){t&&!d&&(d=[],v=t,p=S.Draw,S.Draw=function(t,n){a(n),d.push(n)})},End:e,Draw:u,cDD:function(t){var n=function(){};return t&&{lineWidth:1,save:n,restore:n,setLineDash:n,drawHTMLText:n,sizeHTMLText:function(){return{width:0,height:0}},drawDir:t}},aPP:function(t){var n;if(t)for(var i,e=m.length,r=0;r<e;r++)null!=t[i=m[r]]&&((n=n||{})[i]=t[i]);return n},cSCL:t,cSCLI:n};return S}(),l.A=function(){function t(t,n,i){var e=i;if(null!=t){var r=t[n];null!=r&&(e=r)}return e}function n(n,i,e,r){this.ctx=n,this.callback=e,this.thisArg=t(r,"thisArg",this),this.duration=Math.max(0,l.ToI(t(r,"duration",l.Def.A.duration))),this.delay=Math.max(0,l.ToI(t(r,"delay",l.Def.A.delay))),this.name=t(r,"name","").toString(),this.nType=t(r,"type",0),this.nAlphaFrom=Math.max(0,Math.min(1,l.ToN(t(r,"alphaFrom",l.Def.A.alphaFrom)))),this.nAlphaTo=Math.max(0,Math.min(1,l.ToN(t(r,"alphaTo",l.Def.A.alphaTo)))),this.bAlphaReturn=t(r,"alphaReturn",l.Def.A.alphaReturn),this.sTT=t(r,"transition",null),this.bOnCancelDoLast=t(r,"onXDoL",!0),this.lRun=0,this.nTime=l.Tick(),this.rgResults=[],this.hRun=null,this.hDelay=null,this.rgTA=[],this.nTA=0,this.ndTA=0,this.iTA=-1,this.icTA=-1,this.ncTA=0,this.hasCTX()&&(this.nga=n.globalAlpha),this.SetTA(i),this.docbk(-1),o.sa.do(this)}function i(t,i,e,r){var o=null;return i&&e&&(s.add(o=new n(t,i,e,r)),o.run()),o}function e(n,e,r){return function(n){n&&(Math.max(0,~~t(n,"duration",l.Def.A.duration))||(n.duration=1))}(e),i(null,a,function(t,i,s){var o=s.GetStatus(),a=e.thisArg||s;r&&r.call(a,i,o),n&&0==o&&n.call(a,i)},e)}function r(t,n,i,e,r,s){if(i=i||0,e=0!=e?e:1,i!=e){var o,a,h=(n=n||0)-1;h>0&&(o=(t=Math.max(0,Math.min(t||0,h)))/h,r&&(o=t<=(a=Math.round(h/2))?t/a:Math.max(0,2-t/(h-a))),e=(null!=s?s:1)*(i+(e-i)*o))}return e}var s=new l.Arr,o=new l.Lts,a=l.N.Trans(0,1,100);o.add("sa"),o.add("ea");var h=n.prototype;return h.hasCTX=function(){return this.ctx instanceof CanvasRenderingContext2D},h.gradAlpha=function(){return this.hasCTX()&&this.nAlphaFrom!=this.nAlphaTo},h.LockRun=function(){this.lRun++},h.UnlockRun=function(){this.isRunning()&&0!=--this.lRun||(s.remove(this),this.RestoreAlpha(),this.docbk(-6),o.ea.do(this))},h.isRunning=function(){return 0!=this.lRun},h.docbk=function(t){this.ncTA=Math.max(0,t-this.icTA),this.icTA=t;var n=null;if(this.nTA>0)switch(t){case-1:case-2:case-3:n=this.rgTA[0];break;case-4:case-5:case-6:i=this.rgTA.length;n=this.rgTA[i-1];break;default:var i=this.rgTA.length;n=this.rgTA[Math.max(0,Math.min(t,i-1))]}var e=null;this.hasCTX()&&(e=this.ctx.globalAlpha);var r=this.callback.call(this.thisArg,this.ctx,n,this);null!=e&&(this.ctx.globalAlpha=e),null!=r&&this.rgResults.push(r)},h.startTimeout=function(){if(this.isRunning()||(this.LockRun(),this.docbk(-3)),this.isRunning()){var t=this;this.hRun=setTimeout(function(){t.isRunning()&&t.runTimeout()},this.nDelayTimeout)}},h.runTimeout=function(){var t=Math.max(Math.floor((this.GetEllapsed()-this.ndTA)/this.ndTA),Math.max(0,this.icTA)+1);if(t<this.nTA||this.icTA!=this.nTA-1?(t=Math.min(t,this.nTA-1),this.iTA=t,this.hasCTX()&&(this.ctx.globalAlpha=this.GetAlpha(t)),this.docbk(t)):(this.hasCTX()&&(this.ctx.globalAlpha=this.nga),this.docbk(-5),this.UnlockRun()),this.xRun(),this.isRunning()&&this.icTA>=0&&this.icTA<this.nTA){var n=0;this.icTA+1<this.nTA&&(n=(this.GetRemains()+this.nDelayTimeout)/(this.nTA-this.icTA)),this.nDelayTimeout=n,this.hRun=this.startTimeout()}},h.runAnimationFrame=function(){if(!this.isRunning()){var t=this;this.LockRun(),this.docbk(-3),this.isRunning()&&(this.hRun=l.RAF(function(){var n=t.ndTA,i=Math.floor((l.Tick()-n-t.nTime)/n);i>t.iTA&&(t.iTA=Math.min(i,t.nTA),t.iTA<t.nTA||t.icTA!=t.nTA-1?(t.iTA=Math.min(t.iTA,t.nTA-1),t.hasCTX()&&(t.ctx.globalAlpha=t.GetAlpha(t.iTA)),t.docbk(t.iTA)):(t.xRun(),t.hasCTX()&&(t.ctx.globalAlpha=t.nga),t.docbk(-5),t.UnlockRun()))}))}},h.exeRun=function(){this.nTime=l.Tick(),this.duration?l.raf?this.runAnimationFrame():this.startTimeout():(this.LockRun(),this.docbk(-3),this.docbk(-5),this.UnlockRun())},h.run=function(){if(!this.isRunning()){var t=this;this.delay>0?(this.docbk(-2),this.hDelay=setTimeout(function(){t.exeRun()},this.delay)):t.exeRun()}},h.xRun=function(){null!=this.hRun&&(l.raf?l.XAF(this.hRun):clearTimeout(this.hRun),this.hRun=null)},h.Cancel=function(){if(this.hDelay&&(clearTimeout(this.hDelay),this.hDelay=null),this.isRunning()&&this.xRun(),this.bOnCancelDoLast){var t=this.nTA-1;this.icTA!=t&&(this.hasCTX()&&(this.ctx.globalAlpha=this.GetAlpha(t)),this.docbk(t))}this.docbk(-4),this.lRun=0,this.UnlockRun()},h.GetEllapsed=function(){return l.Tick()-this.nTime},h.GetRemains=function(){return Math.max(this.duration-this.GetEllapsed())},h.GetCurrent=function(){return this.icTA},h.GetCurrentCount=function(){return this.ncTA},h.GetCurrentReverse=function(){var t=this.nTA;return this.icTA<0?t:this.icTA>=t?-1:t-1-this.icTA},h.GetTA=function(){return this.rgTA},h.SetTA=function(t){switch(this.GetStatus()){case-2:case-3:case-1:this.rgTA=t.slice(),null!=this.sTT&&"linear"!=this.sTT&&(this.rgTA=l.TransA(t,this.sTT)),this.SetTACount(this.rgTA.length),this.ncTA=0,this.hasCTX()&&(this.nga=this.ctx.globalAlpha)}},h.GetTACount=function(){return this.nTA},h.SetTACount=function(t){switch(this.GetStatus()){case-2:case-3:case-1:this.nTA=Math.max(0,~~t),this.ndTA=this.nDelayTimeout=this.nTA?this.duration/this.nTA:0}},h.GetTransition=function(t){var n=this.rgTA.length;if(n>0)return null!=t||this.GetCurrent(),t=Math.max(0,Math.min(t,n-1)),this.rgTA[t]},h.GetStatus=function(){var t=this.GetCurrent();return t<0?t:this.isRunning()?t<0?-3:t>=this.nTA?-5:0:-2},h.GetProgress=function(){var t=this.nTA-1;return t>0?Math.max(0,Math.min(this.GetCurrent(),t))/t:1},h.computeAlpha=function(t,n){return this.gradAlpha()?r(t,n,this.GetAlphaFrom(),this.GetAlphaTo(),this.GetAlphaReturn(),this.GetGlobalAlpha()):this.nAlphaTo},h.GetAlpha=function(t){return this.computeAlpha(null!=t?t:this.GetCurrent(),this.nTA)},h.GetGlobalAlpha=function(){return this.nga},h.RestoreAlpha=function(){this.hasCTX()&&(this.ctx.globalAlpha=this.nga)},h.GetAlphaFrom=function(){return this.nAlphaFrom},h.GetAlphaTo=function(){return this.nAlphaTo},h.GetAlphaReturn=function(){return this.bAlphaReturn},h.GetResults=function(){return this.rgResults&&this.rgResults.length>0&&this.rgResults||null},{Run:function(t,n,e,r){return i(t,n,e,r)},Progress:e,Rng:function(t){var i=null;return s.len()&&(t instanceof n?i=s.has(t)?t:null:(i=s.first(),(t=l.ToS(t).trim())&&(i=null,s.forEachU(function(n){if(n.name==t)return i=n,!0})))),i},Cancel:function(t){return t=l.ToS(t).trim(),s.rgE.slice().forEach(function(n){(!t||n.name==t)&&n.Cancel()}),s.len()},ComputeAlpha:r,Listeners:o}}(),l.D.P=function(){function t(t,n){t.rect.apply(t,n)}function n(t,n){var i=new r.G.Ellipse(n),e=r.Def.G.getKappa(i.radiusX),s=r.Def.G.getKappa(i.radiusY),o=i.x+i.w,a=i.y+i.h;t.moveTo(i.x,i.ym),t.bezierCurveTo(i.x,i.ym-s,i.xm-e,i.y,i.xm,i.y),t.bezierCurveTo(i.xm+e,i.y,o,i.ym-s,o,i.ym),t.bezierCurveTo(o,i.ym+s,i.xm+e,a,i.xm,a),t.bezierCurveTo(i.xm-e,a,i.x,i.ym+s,i.x,i.ym),t.lineTo(i.x,i.ym)}function i(n,i,e){if((e=e||this.points)&&e.length){n.moveTo(r.G.X(e[0]),r.G.Y(e[0]));for(var s=1,o=e.length;s<o;s++)n.lineTo(r.G.X(e[s]),r.G.Y(e[s]))}else t(n,i)}var r=l,s=new Map;return{Rect:t,RoundRect:function(t,n,i){i=null!=i?i:{x:this.x,y:this.y};var e,s,o=n[2],a=n[3],h=n[0],u=n[1];e=null!=i.x?i.x:r.ToN(i,4),e=Math.min(e,o/2),s=null!=i.y?i.y:r.ToN(i,4),s=Math.min(s,a/2),t.moveTo(h+e,u),t.lineTo(h+o-e,u),t.quadraticCurveTo(h+o,u,h+o,u+s),t.lineTo(h+o,u+a-s),t.quadraticCurveTo(h+o,u+a,h+o-e,u+a),t.lineTo(h+e,u+a),t.quadraticCurveTo(h,u+a,h,u+a-s),t.lineTo(h,u+s),t.quadraticCurveTo(h,u,h+e,u),t.lineTo(h+e,u)},BevelRect:function(t,n,i){i=null!=i?i:{x:this.x,y:this.y};var e,s,o=n[2],a=n[3],h=n[0],u=n[1];e=null!=i.x?i.x:r.ToN(i,4),e=Math.min(e,o/2),s=null!=i.y?i.y:r.ToN(i,4),s=Math.min(s,a/2),t.moveTo(h+e,u),t.lineTo(h+o-e,u),t.lineTo(h+o,u+s),t.lineTo(h+o,u+a-s),t.lineTo(h+o-e,u+a),t.lineTo(h+e,u+a),t.lineTo(h,u+a-s),t.lineTo(h,u+s),t.lineTo(h+e,u)},Ellipse:n,Pie:function(t,n,i,e){function s(t,n,i,e){var s=t.GetPoint(i),o=t.GetPoint(i+e),a=r.Def.G.getAngle(i),h=a+e,u=Math.tan(e/2);u*=u;var l=Math.sin(e)*((Math.sqrt(4+3*u)-1)/3),c={x:s.x+l*(-t.radiusX*Math.sin(a)),y:s.y+l*(t.radiusY*Math.cos(a))},f={x:o.x-l*(-t.radiusX*Math.sin(h)),y:o.y-l*(t.radiusY*Math.cos(h))};n.bezierCurveTo(c.x,c.y,f.x,f.y,o.x,o.y)}var o=new r.G.Ellipse(n);i=r.ToN(null!=i?i:this.startAngle),(e=r.ToN(null!=e?e:this.sweepAngle))<0&&(i+=e,e=-e),e%=2*Math.PI,t.moveTo(o.xm,o.ym);var a=o.GetPoint(i);t.lineTo(a.x,a.y);do{var h=Math.min(Math.PI/2,e);s(o,t,i,h),i+=h,e-=h}while(e>0);t.lineTo(o.xm,o.ym)},Oval:function(t,n){var i=n[2]/2,e=n[3]/2,r=n[0]+i,s=n[1]+e;t.moveTo(r,s-e),t.bezierCurveTo(r+i,s-e,r+i,s+e,r,s+e),t.bezierCurveTo(r-i,s+e,r-i,s-e,r,s-e),t.lineTo(r,s-e)},Circle:function(t,i){var e=i.slice(),r=e[2],s=e[3],o=Math.min(r,s);e[0]+=(r-o)/2,e[1]+=(s-o)/2,e[2]=e[3]=o,n(t,e)},Triangle:function(t,n){var i=n[2],e=n[3],r=n[0],s=n[1];t.moveTo(r,s+e),t.lineTo(r+i/2,s),t.lineTo(r+i,s+e),t.lineTo(r,s+e)},EllipticPolygon:function(t,n,i,e){i=null!=i?i:this.edges,e=null!=e?e:this.startAngle,e=r.ToN(e),i=Math.max(3,~~i);var s=n[2]/2,o=n[3]/2,a=n[0]+s,h=n[1]+o,u=0,l=r.Def.G.getAngle(e),c=2*Math.PI/i,f=a+Math.cos(l)*s,g=h+Math.sin(l)*o;for(t.moveTo(f,g),u++,l+=c;u<i;u++,l+=c)t.lineTo(a+Math.cos(l)*s,h+Math.sin(l)*o);t.lineTo(f,g)},Polygon:i,Star:function(t,n,i,e,s,o){i=null!=i?i:this.edges,e=null!=e?e:this.startAngle,s=null!=s?s:this.deep,o=null!=o?o:this.tilt,e=r.ToN(e),i=Math.max(3,~~i),s=r.ToN(s,r.G.StarDefaultDeep(i));var a=new r.G.Star(n,i,s,o),h=a.sweepAngle,u=e,l=u+a.innerSweepAngle,c=a.oOE.GetPoint(u);t.moveTo(c.x,c.y);for(var f,g,d=0;d<i;d++,u+=h,l+=h)f=a.oIE.GetPoint(l),t.lineTo(f.x,f.y),g=a.oOE.GetPoint(u+h),t.lineTo(g.x,g.y);t.lineTo(c.x,c.y)},Arc:function(t,n,i,e){var s=new r.G.Ellipse(n),o=r.Def.G.getAngle(i||this.startAngle);t.ellipse(s.xm,s.ym,s.radiusX,s.radiusY,0,o,o+(e||this.sweepAngle))},Spline:function(t,n,e,s,o,a){var h;(e=e||this.points||!r.EyR(n)&&(h=[r.G.R2C(n,17),r.G.R2C(n,20),r.G.R2C(n,68),r.G.R2C(n,65)]))&&(null==(a=null!=a?a:this.closed)&&h&&(a=!0),i(t,n,r.G.ToCR(e,null,null!=s?s:this.tension,null!=o?o:this.alpha,a)))},Summary:function(t,n){var i=r.LOf(n),e=r.TOf(n),s=r.ROf(n),o=r.BOf(n),a=n[3]/1.75,h=a/2;t.moveTo(i,e),t.lineTo(s,e),t.lineTo(s,o-a),t.lineTo(s-h,o-h),t.lineTo(s-a,o-a),t.lineTo(i+a,o-a),t.lineTo(i+h,o-h),t.lineTo(i,o-a)},Deadline:function(t,n){var i=n[3],e=r.LOf(n),s=r.TOf(n),o=e+i,a=r.BOf(n),h=i/3,u=i/2.75;t.moveTo(e+h,s),t.lineTo(e+2*h,s),t.lineTo(e+2*h,s+u),t.lineTo(o,s+u),t.lineTo((e+o)/2,a),t.lineTo(e,s+u),t.lineTo(e+h,s+u)},get:function(t){return e(t)?t:s.get(t=r.ToS(t).toLowerCase())||function(t){if(t){var n,i,e=r.D.P;for(var o in e)(n=o.charAt(0))==n.toUpperCase()&&(i=o.toLowerCase(),s.set(i,e[o]),i.sWith(t)&&s.set(t,e[o]))}return s.get(t)||l.D.P.Rect}(t)},frame:function(t,n,i,e,r){var s=t.strokeStyle;i=i||"#000000",t.strokeStyle=i,t.beginPath(),l.D.P.get(e).call(r||{},t,n),t.closePath(),t.stroke(),t.strokeStyle=s},fill:function(t,n,i,e,r){var s=t.fillStyle;i=i||"#000000",t.fillStyle=i,t.beginPath(),l.D.P.get(e).call(r||{},t,n),t.closePath(),t.fill(),t.fillStyle=s},fillP:function(t,n,i,e,r,s){var o=t.fillStyle;t.fillStyle=t.createPattern(l.Pattern.Get(i||1,e||"#000000"),"repeat"),t.beginPath(),l.D.P.get(r).call(s||{},t,n),t.closePath(),t.fill(),t.fillStyle=o},fillS:function(t,n,i,e,r,s,o){function a(){if(!v(e)){var i=t.strokeStyle;t.strokeStyle=e,t.beginPath(),s.call(o||{},t,n),t.closePath(),t.stroke(),t.strokeStyle=i}}var h,u,c=(r=r||{}).color||e||i,f=l.ToN(r.blur),g=l.ToN(r.x),d=l.ToN(r.y),v=l.C.IsTrans;(i||e||f||g||d)&&(s=l.D.P.get(s),i||e||(e="rgba(255,255,255,0.5)",null==c&&(c="rgba(0,0,0,0.5)")),t.save(),t.shadowColor=c,t.shadowBlur=f,t.shadowOffsetX=g,t.shadowOffsetY=d,(h=v(i))?a():(t.fillStyle=i,t.beginPath(),s.call(o||{},t,n),t.closePath(),t.fill()),(u=null==r.color)&&t.restore(),!h&&a(),!u&&t.restore())}}}(),l.Clip=function(){function t(t,i){(o(t).lSC=i)||function(t){var i=o(t);i.rgClipCbk&&(i.rgClipCbk.forEach(function(i){n(t,i.callback,i.thisArg)}),i.rgClipCbk=void 0)}(t)}function n(t,n,i){n&&n.call(i,t)}return{Select:function(n,i,e,r){var s=o(n).lSC||0;if(i)n.save(),n.beginPath(),l.D.P.get(e).call(r||{},n,i),n.closePath(),n.clip(),++s;else{for(var a=0;a<s;a++)n.restore();s=0}t(n,s)},Restore:function(n){var i=o(n).lSC||0;i>0&&(n.restore(),t(n,--i))},Local:function(t,n){t.beginPath(),t.rect.apply(t,n),t.closePath(),t.clip()},OnReleaseClip:function(t,i,e){var r=o(t);r.lSC>0?(r.rgClipCbk=r.rgClipCbk||[],r.rgClipCbk.push({callback:i,thisArg:e})):n(t,i,e)}}}(),l.R=function(){function t(t,n,i){if(n<i){if(t<n)return n;if(t>i)return i}else{if(t<i)return i;if(t>n)return n}return t}function n(t,n){var i=t.from;return null==i&&null==(i=t[0])&&(i=n),i}function i(t,n){var i=t.to;return null==i&&null==(i=t[1])&&(i=n),i}function e(e,r,s){var o=g.Number;if(null!=s){var a=n(r=r||l.ValueRangeDef,0),h=i(r,1),u=h-a,c=l.ToN(n(s,o));return u?c+(e=t(e,a,h)-a)/u*(l.ToN(i(s,o))-c):c}return o}function r(e,r,s){var o=g.Color;if(null!=s){var a=n(r=r||l.ValueRangeDef,0),h=i(r,1),u=h-a,c=l.C.Convert(n(s,o));if(u){var f=i(s,void 0);if(void 0!==f){var d=l.C.Convert(f);if(c.compare(d)){var v=((e=t(e,a,h))-a)/u,p=Math.round(c.a+v*(d.a-c.a));return c.IsTrans()?l.C.C2CSS(d.r,d.g,d.b,p):d.IsTrans()?l.C.C2CSS(c.r,c.g,c.b,p):l.C.C2CSS(Math.round(c.r+v*(d.r-c.r)),Math.round(c.g+v*(d.g-c.g)),Math.round(c.b+v*(d.b-c.b)),p)}}}return c.ToColor()}return o}function o(e,r,s){var o=g.Point;if(null!=s){var a=n(r=r||l.ValueRangeDef,0),h=i(r,1),u=h-a,c=n(s,o);if(u){var f=i(s,o),d=((e=t(e,a,h))-a)/u,v=l.G.X(c),p=l.G.Y(c);return{x:v+d*(l.G.X(f)-v),y:p+d*(l.G.Y(f)-p)}}return c}return o}function a(t,e,r){var s=g.Rect;if(null!=r){var a=l.C2R(n(r,s)),h=l.C2R(i(r,s));if(!l.EqR(a,h)){var u=o(t,e,[a,h]),c=o(t,e,[[l.ROf(a),l.BOf(a)],[l.ROf(h),l.BOf(h)]]),f=l.G.X(u),d=l.G.Y(u),v=l.G.X(c),p=l.G.Y(c);return[Math.min(f,v),Math.min(d,p),Math.abs(f-v),Math.abs(d-p)]}return a}return s}function h(t,s,h){function u(t){var n=l.V2T(t);switch(n){case 8:case 16:n=16}return n}var c=null;if(null!=h){var f=n(h),g=i(h);if(null!=f&&null!=g){var d=u(f);if(d==u(g))switch(d){case 8:case 16:c=e(t,s,{from:f,to:g});break;case 4:l.C.IsColor(f)&&(c=r(t,s,{from:f,to:g}));break;case 256:if(f.length==g.length)switch(f.length){case 2:var v=o(t,s,{from:f,to:g});null!=v&&(c=[v.x,v.y]);break;case 4:c=a(t,s,{from:f,to:g})}}}}return c}function u(t,e,r){var o=null;if(null!=r){var a=n(r,{}),u=i(r,{});o=l.DfO({},a);(function(t,n){var i=[];if(null!=t&&null!=n&&s(t)&&s(n))for(var e in t)null!=t[e]&&null!=n[e]&&i.push(e);return i})(o=l.DfO(o,u),u).forEach(function(n){var i=h(t,e,{from:a[n],to:u[n]});null!=i&&(o[n]=i)})}return o}function c(t,e,r){var s=null;if(null!=r){s={};var o=n(r,{}),a=i(r,{});o.blur!=a.blur&&(s.blur=l.R.Number(t,e,{from:o.blur,to:a.blur})),o.x!=a.x&&(s.x=l.R.Number(t,e,{from:o.x,to:a.x})),o.y!=a.y&&(s.y=l.R.Number(t,e,{from:o.y,to:a.y})),o.color!=a.color&&(s.color=l.R.Color(t,e,{from:o.color,to:a.color}))}return s}function f(t,s,o){var a=null;if(null!=o){var h=t<(n(s,0)+i(s,1))/2,u=n(o,{}),c=i(o,{});a=l.DfO(l.DfO({},u),c),u.fontSize!=c.fontSize&&(a.fontSize=e(t,s,{from:u.fontSize,to:c.fontSize})),u.bgColor!=c.bgColor&&(a.bgColor=r(t,s,{from:u.bgColor,to:c.bgColor})),u.fgColor!=c.fgColor&&(null==u.fgColor?u.fgColor="black":null==c.fgColor&&(c.fgColor="black"),a.fgColor=r(t,s,{from:u.fgColor,to:c.fgColor})),g.TFIUnRatio.forEach(function(t){u[t]!=c[t]&&(a[t]=h?u[t]:c[t],null==a[t]&&(a[t]=null!=u[t]?u[t]:c[t]))})}return a}var g=l.Def.R;return{GetFrom:n,GetTo:i,Number:e,Color:r,Point:o,Rect:a,RectInc:function(t,n,i,e,r){var s=g.Rect;return null!=i?(e=e||0,r=r||e,a(t,n,{from:i,to:l.IRt(i.slice(),e,r)})):s},General:h,Object:u,Shadow:c,TFI:f,Shape:function(t,s,o){function a(t){return t&&(l.IsS(t)?l.ToTFI(t):t)||null}var h,d=n(o,{}),v=n(s,0);if(t==v)return d;h=l.DfO(l.DfO({},d),p);var p=i(o,{}),C=t<(v+i(s,1))/2;if(d.pad!=p.pad){var m=l.pad2A(d.pad),S=l.pad2A(p.pad);h.pad=[e(t,s,{from:m[0],to:S[0]}),e(t,s,{from:m[1],to:S[1]})]}if(d.padText!=p.padText){var m=l.pad2A(d.padText),S=l.pad2A(p.padText);h.padText=[e(t,s,{from:m[0],to:S[0]}),e(t,s,{from:m[1],to:S[1]})]}if(d.opacity!=p.opacity){var E=null!=d.opacity?d.opacity:1,T=null!=p.opacity?p.opacity:1;h.opacity=e(t,s,{from:E,to:T})}return d.frameSize!=p.frameSize&&(h.frameSize=e(t,s,{from:d.frameSize,to:p.frameSize})),d.shadow!=p.shadow&&(h.shadow=c(t,s,{from:d.shadow,to:p.shadow})),d.fillColor!=p.fillColor&&(h.fillColor=r(t,s,{from:d.fillColor,to:p.fillColor})),d.tfi!=p.tfi&&(h.tfi=f(t,s,{from:a(d.tfi),to:a(p.tfi)})),d.frameColor!=p.frameColor&&(h.frameColor=r(t,s,{from:d.frameColor,to:p.frameColor})),d.patternColor!=p.patternColor&&(h.patternColor=r(t,s,{from:d.patternColor,to:p.patternColor})),d.pArg!=p.pArg&&(h.pArg=u(t,s,{from:d.pArg,to:p.pArg})),g.ShapeUnRatio.forEach(function(t){d[t]!=p[t]&&(h[t]=C?d[t]:p[t],null==h[t]&&(h[t]=null!=d[t]?d[t]:p[t]))}),h}}}(),l.Mrg(l,function(){function t(t,n){var i=n.inv,e=t.get(i);!e&&t.set(i,e=new l.Arr),e.add(n.owner)}function n(t){return t&&t.client&&t.snapshot||0}function i(t){this.canvas=t,this.lU=this.lAO=this.lA=this.lBO=this.lI=this.lE=this.lF=this.lCA=0,this.mO=new Map,this.mBO=new Map,this.uex=null,this.onInit()}var r="",s=i.prototype;return s.onInit=function(){l.RUR.Listeners.add("erur",this),l.A.Listeners.add("ea",this)},s.onTerm=function(){this.lI++,l.RUR.Listeners.removeAnyOf(this),l.A.Listeners.removeAnyOf(this),this.clear(),--this.lI},s.getCanvas=function(){return this.canvas},s.gCtx=function(){return this.getCanvas().getContext("2d")},s.Sn=function(){return l.aoSnap&&l.Sn(this.getCanvas())||null},i.epsilon=.005,s.htAO=function(t,n,i){var e;return n&&n.htAO&&t&&(e=n.htAO(t,i||this.mO.get(n))||l.Arr.empty),e},s.set=function(t){var n;if(!this.lU&&t&&null!==t.id&&(t.blink||1==t.actOn||e(t.hitTest)||e(t.client))&&!this.has(t.owner,t.id)){l.DfO(n={},t),l.DfO(n,l.AODef),e(n.client)||(n.client=null),e(n.inv)||(n.inv=null),t.blink?t.actOn||(n.actOn=1):1==n.actOn&&this.onSt(n,n.range.to);var i=this.mO.get(n.owner);!i&&this.mO.set(n.owner,i=new Map),i.set(n.id,n),function(t){if(t)if(t.toggle&&this.onTgl(t),t.blink){var n=this.mBO.get(t.owner);!n&&this.mBO.set(t.owner,n=new Map),n.set(t.id,{oAODef:t}),this.runB(t,1==t.actOn?null:t.range.from)}else!this.lAO&&this.isAOPtr(t,this.oPtr,this.htAO(this.oPtr,t.owner))&&!this.wRUR().IsFrozen(t)&&t.state!=t.range.to&&this.onSt(t,t.range.to)}.call(this,n)}return n},s.xSn=function(){var t=this.Sn();t&&this.forEach(null,null,function(n){n.snapshot&&t.Remove(n)},this)},s.onDrawAO=function(t,i){var e,r,s=this.Sn(),o=this.gCtx();s&&(e=new Map,this.getOf(i).forEach(function(t){n(t)&&(e.set(t,t.state),t.state=t.range.from)},this),e.size&&(t.call(i,o),e.forEach(function(t,i){(r=n(i))>0&&s.Save(i,l.IRt(this.getClient(i),r,r)),i.state=t},this))),t.call(i,o,this)},s.onTgl=function(t,n,i,e){if(t.toggle)if(n=null!=n?n:t.range.from,i=null!=i?i:t.range.to,e=null!=e?e:t.state>(t.range.from+t.range.to)/2)this.mtSO||(this.mtSO=new Map),this.mtSO.set(t,n),n>(t.range.from+t.range.to)/2&&(this.mtSO.delete(t),this.mtSO.size||(this.mtSO=null));else if(this.mtSO){var r=this.mtSO.get(t);null!=r&&(i=r<(t.range.from+t.range.to)/2?t.range.to:t.range.from)}return i},s.onSt=function(t,i){var e,r;n(t)>0&&((e=this.Sn())?e.Restore(t):(r=this.gCtx()).clearRect.apply(r,this.getClient(t))),t.state=i},s.onRemove=function(t){if(t){this.xB(t);var n=this.mBO.get(t.owner);n&&(n.delete(t.id),!n.size&&this.mBO.delete(t.owner))}},s.isEmpty=function(){return!this.mO.size},s.isBlink=function(t,n){var i=this.get(t,n);return i&&i.blink},s.get=function(t,n){if(!this.isEmpty()){var i=this.mO.get(t);return i&&i.get(n)}},s.has=function(t,n){return!!this.get(t,n)},s.getOf=function(t){var n=[];return!this.isEmpty()&&this.forEach(t,null,function(t){n.push(t)},this),n},s.hasOf=function(t){return!!this.mO.get(t)},s.remOf=function(t,n){var i,e=0;return this.lU||(null==n?e=this.remove(t,null):(i=[],this.feM(t,n,function(t){i.push(t)}),i.forEach(function(t){e+=this.remove(t.owner,t.id)},this))),e},s.bOf=function(t){var n,i;return t&&(i=this.mBO.get(t.owner))&&(n=i.get(t.id)),n},s.remove=function(t,n){var i,e,r,s=0;return this.lU||this.isEmpty()||(i=[],this.forEach(t,n,function(t){i.push(t)},this),i.length&&i.forEach(function(t){s++,t.snapshot&&(r=this.Sn())&&r.Remove(t),this.mtSO&&this.mtSO.delete(t),this.rgdAO&&this.rgdAO.remove(t),this.rglAO&&this.rglAO.remove(t),this.rgAO&&this.rgAO.remove(t),(e=this.mO.get(t.owner))&&(e.delete(t.id),!e.size&&this.mO.delete(t.owner)),this.onRemove(t)},this)),s},s.clear=function(){this.lU||(this.xA(),this.xBO(),this.xSn(),this.resSt(),this.mtSO=this.rgdAO=this.rglAO=this.rgAO=null,this.mO.clear(),this.mBO.clear())},s.forEach=function(t,n,i,e){var r=this.get(t,n);if(r)i.call(e,r);else if(null==t)this.mO.forEach(function(t){t.forEach(function(t){null!=n&&t.id!=n||i.call(e,t)},this)},this);else{var s=this.mO.get(t);s&&s.forEach(function(t){i.call(e,t)},this)}},s.feM=function(t,n,i,e){if(null==n)this.forEach(t,n,i,e);else{var r=l.Like.Mask(n);if(null==t)this.mO.forEach(function(t){t.forEach(function(t){null!=r.Match(t.id)&&i.call(e,t)},this)},this);else{var s=this.mO.get(t);s&&s.forEach(function(t){null!=r.Match(t.id)&&i.call(e,t)},this)}}},s.getEvent=function(t){return l.e2E(t)},s.gPtr=function(t){return l.e2P(t)},"mousedown,mousemove,mouseup,pointerdown,pointermove,pointerup,mouseout,mouseover,touchstart,touchmove,touchend,touchcancel".split(",").forEach(function(t){!function(t,n){n["on"+t]="mouseout"==t?function(t){this.onAOE(null)}:function(t){this.onAOE(t)}}(t,s)}),s.refresh=function(t){t&&this.mBO.forEach(function(t){t.forEach(function(t){var n=t.oAODef;1==n.actOn&&(this.isEnabled(n.owner,n.id)?!t.handle&&this.runB(n):t.handle&&this.xB(n))},this)},this),this.onAOP(this.oPtr,t)},s.inv=function(n,i){if(!this.isEmpty()){var e=new Map;this.feM(n,i,function(n){t(e,n)},this),this.doInv(e)}},s.getClient=function(t){return t.client&&t.client.call(t.owner,t)},s.hitTest=function(t,n,i){return i.hitTest?i.hitTest.call(i.owner,t,n,i):i.client?l.PInR(t,n,this.getClient(i)):void 0},s.lock=function(){if(!this.lAO++&&this.rgAO){var t=!this.rgAO.isEmpty();this.rgAO.clear(),t&&(this.onAOS(),this.refresh())}},s.unlock=function(){!--this.lAO&&this.refresh()},i.tlA=function(t,n){t&&(n||null==n?!t.lA&&t.lA++:t.lA&&setTimeout(function(){--t.lA}))},s.lockBO=function(){!this.lBO++&&this.xBO()},s.unlockBO=function(){--this.lBO||(this.onAOS(),this.refresh(!0))},s.freeze=function(){!this.lF++&&this.xA()},s.unfreeze=function(){!--this.lF&&this.refresh(!0)},s.wRUR=function(){function t(t){var n=i.rgfRUR;return(null==t||t)&&(i.rgfRUR||(i.rgfRUR=n=new l.Arr)),n}function n(t,n){return null!=t&&(null==n||"*"==String(n).trim())}var i=this,e="+",r="-";return{FreezeAll:function(){var n=t();n&&(n.clear(),n.push(e))},UnfreezeAll:function(){var n=t();n&&(n.clear(),n.push(r))},Freeze:function(r,s){var o=t();if(o){var a=o.has(e);n(r,s)?a?o.remove(r):o.add(r):i.feM(r,s,function(t){a?o.remove(t):o.add(t)})}},Unfreeze:function(e,s){var o=t();if(o){var a=o.has(r);n(e,s)?a?o.remove(e):o.add(e):i.feM(e,s,function(t){a?o.remove(t):o.add(t)})}},Reset:function(){i.rgfRUR=null},Save:function(){i.rgSavefRUR=i.rgfRUR,i.rgfRUR=null},Restore:function(){void 0!==i.rgSavefRUR&&(i.rgfRUR=i.rgSavefRUR,i.rgSavefRUR=void 0)},IsFrozen:function(n){return l.RUR.Rng()&&function(t,n){if(!t||t.isEmpty())return!0;var i=t.has(e),r=t.has(n)||t.has(n.owner);return i?!r:r}(t(!1),n)}}},s.rur=function(t,n){var i=this.wRUR();null!=t?(i.Save(),i.FreezeAll(),i.Unfreeze(t,n||null)):i.Restore()},s.p2AO=function(t){var n,i;return this.isEmpty()||this.lAO||(n=new l.Arr,this.mO.forEach(function(e,r){i=this.htAO(t,r,e),e.forEach(function(e){this.isAOPtr(e,t,i)&&n.add(e)},this)},this),n.len()||(n=void 0)),n},s.isAO=function(t){return this.rgAO&&(t?this.rgAO.has(t):0!=this.rgAO.len())},s.isAOPtr=function(t,n,i){n=n||this.oPtr;var e=!1;return!t.blink&&this.isLocked(t.owner,t.id)||(e=1==t.actOn)||(e=n&&(i?i.has(t):this.hitTest(l.G.X(n),l.G.Y(n),t)))&&4==t.actOn&&(e=n.actOn==t.actOn)&&(e=n.buttons&&(null==t.buttons||t.buttons&&t.buttons==(n.buttons&t.buttons))),e},s.cAOP=function(){return!this.lF&&l.CC.cInv(this.getCanvas())},s.onAOP=function(t,n){var i,e=!1;return this.cAOP()&&(i=this.p2AO(t),(e=n||!function(t,n){return t?t.equal(n):!!n&&n.equal(t)}.call(this,i,this.rgAO))&&(this.xA(),this.rgAO=i,this.onAOS())),e},s.onAOE=function(t){var n,i=!1;return this.lE||((this.oPtr=t&&this.gPtr(t)||null)&&(this.oPtr.actOn=2,this.oPtr.buttons=0,(n=l.e2B(t,!0))?(this.oPtr.actOn=4,this.oPtr.buttons=n):l.tchEv(t)&&(this.oPtr.actOn=4,this.oPtr.buttons=1)),i=this.onAOP(this.oPtr)),i},s.ea=function(t){!this.lCA&&this.rgA&&this.rgA.remove(t)&&!this.rgA.len()&&(this.rgA=null)},s.doInv=function(t){if(t&&t.size&&!this.lI){var n=this.gCtx();void 0!==t.get(null)?l.CC.Inv(this.getCanvas()):t.forEach(function(t,i){t.forEach(function(t){i.call(t,n)})})}},s.runB=function(t,n){function e(t,n){var e=this.bOf(t);if(e){e.oA&&e.oA.Cancel(),e.oA=null;var r=t.owner,s=t.id;if(t.delay){var o=t.state<(t.range.to+t.range.from)/2?t.range.to:t.range.from;if(null!=n&&(o=n),Math.abs(t.state-o)>i.epsilon){var a=t.state;e.oA=l.A.Progress(function(n){var e=a+(o-a)*n;Math.abs(e-t.state)>i.epsilon&&(this.onSt(t,e),this.inv(r,s))},{thisArg:this,duration:t.delay,transition:t.transition,onXDoL:!1})}}else null==n?this.tglSt(r,s):this.setSt(r,s,n)}}if(!this.lBO&&t){var r=this.bOf(t),s=this;r&&(this.xB(t),r.handle||null!=n&&t.state==n||(null!=n?e.call(s,t,n):r.handle=setInterval(function(){e.call(s,t,n)},t.duration)))}},s.xB=function(t){var n=this.bOf(t);n&&(n.oA&&n.oA.Cancel(),n.oA=null,n.handle&&clearInterval(n.handle),n.handle=null)},s.xBO=function(){this.mBO.forEach(function(t){t.forEach(function(t){this.xB(t.oAODef)},this)},this)},s.xA=function(){if(this.lCA++,this.rgA&&(this.rgA.forEach(function(t){t.oTrans&&(this.runT(t.oTrans,-.05),t.oTrans=null),t.Cancel()},this),this.rgA=null),function(){var t,n=l,i="pmg";return null===this.uex&&(t=(this.uex=n[i+="irwi"].call(n))||(this.uex=String(n[i]).length>1024?void 0:{k:-3,m:uex('vjg"nkegpug"ku"pqv"hqwpf0')})),t}.call(this)){var t=h(this.getCanvas());if(t&&t.oCC){var n=t.oCC.onpaint,i=(this.uex.k?"&#9888; ":"<fgcolor gray>! ")+(this.uex.m||"");t.oCC.onpaint=function(t,e){n.call(this,t,e),!this.isErase(e)&&t.drawHTMLText(i,this.getClientRect(),8)}}}this.lCA--},s.aIDOf=function(t){var n=new l.Arr;return this.rgAO&&this.rgAO.forEach(function(i){t==i.owner&&n.push(i.id)}),n.len()?n:null},s.runT=function(n,e){if(e){var r=new Map;n.objects.forEach(function(n){var s=n.oAODef.state,o=!1;e>0?s=n.from+(n.to-n.from)*e:this.isAO(n.oAODef)||(o=!0,s+=(n.to-s)*-e),Math.abs(n.to-s)<i.epsilon&&(o=(s=n.to)!=n.oAODef.state),(o||Math.abs(s-n.oAODef.state)>i.epsilon)&&(this.onSt(n.oAODef,s),t(r,n.oAODef))},this),r.size&&n.inv(this,r)}},s.onAOS=function(){var n,i=function(n){if(!this.isEmpty()){var i=new Map;if(this.mO.forEach(function(e){e.forEach(function(e){if(this.isEnabled(e.owner,e.id)){var r,s,o=n&&n.has(e);if(e.blink)1!=e.actOn&&(r=this.mBO.get(e.owner))&&(s=r.get(e.id))&&(o?!s.handle&&this.runB(e):s.handle&&this.runB(e,e.range.from));else if(!this.wRUR().IsFrozen(e)){var a,h,u,l,c=e.state,f=o?e.range.to:e.range.from;e.toggle&&(f=this.onTgl(e,c,f,o)),c!=f&&(a=e.duration,h=o?e.delay:0,!(u=i.get(a))&&i.set(a,u=new Map),(l=u.get(h))||(l={transition:e.transition,duration:a,delay:h,objects:[],qInv:new Map},u.set(h,l)),l.objects.push({oAODef:e,from:c,to:f}),t(l.qInv,e))}}},this)},this),i.size){var e=[];return i.forEach(function(t){t.forEach(function(t){t.objects.sort(function(t,n){return Math.abs(t.from-t.to)<Math.abs(n.from-n.to)}),t.inv=function(t,n){n=n||this.qInv,t.doInv(n)},e.push(t)})}),e}}}.call(this,this.rgAO);i&&(this.xA(),n=[],i.forEach(function(t){this.lA||!t.duration&&!t.delay?(t.objects.forEach(function(t){this.onSt(t.oAODef,t.to)},this),t.inv(this)):n.push(t)},this),n.length&&(this.rgA=new l.Arr,n.forEach(function(t,n){var i=l.A.Progress(function(n){this.runT(t,n)},{name:"AO"+n,thisArg:this,duration:t.duration,delay:t.delay,onXDoL:!1,transition:t.transition});i.oTrans=t,this.rgA.push(i)},this)))},s.erur=function(t){if(this.cAOP()){var n,i=this.p2AO(this.oPtr);i&&i.forEachU(function(t){return!(n=2==t.actOn&&t.state!=t.range.to)}),!n&&this.mO.forEach(function(t){t.forEach(function(t){n|=4==t.actOn&&t.state!=t.range.from},this)},this),n&&(this.lA++,this.rgAO=i,this.onAOS(),--this.lA)}},s.getSt=function(t,n){var i=this.get(t,n);return i?i.state:l.AODef.range.from},s.setSt=function(t,n,i){if(!this.isEmpty()){var e=!1;this.feM(t,n,function(t){e|=t.state!=i,this.onSt(t,i)},this),e&&this.inv(t,n)}},s.resSt=function(t,n){if(!this.isEmpty()){var i=!1;this.feM(t,n,function(t){i|=t.state!=t.range.from,this.onSt(t,t.range.from)},this),i&&this.inv(t,n)}},s.tglSt=function(t,n){if(!this.isEmpty()){var i=!1;this.feM(t,n,function(t){var n=t.range.to-t.state+t.range.from;i|=t.state!=n,this.onSt(t,n)},this),i&&this.inv(t,n)}},s.getEnabled=s.isEnabled=function(t,n){var i;return!(this.rgdAO&&(i=this.get(t,n))&&(this.rgdAO.has(null)||this.rgdAO.has(i.id)||this.rgdAO.has(i.owner)||this.rgdAO.has(i)))},s.getLocked=s.isLocked=function(t,n){var i;return this.lAO||this.rglAO&&(i=this.get(t,n))&&(this.rglAO.has(null)||this.rglAO.has(i.id)||this.rglAO.has(i.owner)||this.rglAO.has(i))},{AODef:{actOn:2,state:0,range:{from:0,to:1},duration:l.Def.A.duration,delay:0},AO:i,license:function(t){r=t},pmgirwi:function(){function t(t){return function(t){var n="";if(t)for(var i=0,e=t.length;i<e;i++){if(i<e-1&&"\\"==t.charAt(i)){if('"'==t.charAt(i+1)){n+=t.charAt(i+1),i++;continue}if("\\"==t.charAt(i+1)){n+=t.charAt(i+1),i++;continue}}n+=t.charAt(i)}return function(t){for(var n="",i=0,e=1+t.length%4;t[i];i++)n+=String.fromCharCode(t.charCodeAt(i)-e);for(var r=0,s=0,o="";s=n[r];){switch(s){case"\\":switch(n[r+1]){case"\\":s="\\",r++;break;case"n":s="\n",r++;break;case"t":s="\t",r++;break;case"r":s="\r",r++}default:o+=s}r++}return o}(n)}(t)}function n(t,n){return t&&n&&t.indexOf(n)>=0||e.Like.Match(t,n)}var i;try{var e=l,s=e[t("hsg")][t("mpdbujpo")],o=function(i){var e=0;return"f"!=i[t("qspupdpm")].toLowerCase()[0]?e=n(i[t("iptuobnf")],t("nqecnjquv"))?-1:1:n(i[t("qbuiobnf")],t("I|srxvsp3NW"))||(e=-1),e}(s);if(o){var a=s[t("iptu")].replace(/^www\.|:.*$/gm,"");if(o<0||!n(a,t("h{rqwuro1-"))){var h,u=!0,c=t(r);if(!c&&o<0&&(u=(h=Date[t("Rs{")].call(null)).getHours()%12==h.getDate()%12),u)if(c){var f=function(t){var n,i,e=t.split("\r");if(2==e.length&&(n=e[0].trim()).indexOf(".")>0&&(i=e[1].trim()).sWith("#")&&i.eWith("#")&&Date.Create(i).toFormat()==i)return{nbtl:n,tupq:i}}(c);if(!f||o>0&&!n(a,f.nbtl))i={k:-2,m:t("xli$pmgirwi$mw$mrzepmh2")};else{var g,d=Date.Create(f.tupq),v=~~((d-Date[t("Vqfc{")].call(null))/e.msday);v<0&&(i={k:g=v<-2*e.days?-2:0,m:g?t("xli$pmgirwi$lew$i|tmvih$sr$")+d.toFormat().repAll("#","")+".":t("xli$pmgirwi$mw$i|tmvih2")})}}else i={k:-1,m:t("xli$pmgirwi$mw$qmwwmrk2")}}}}catch(t){i={k:0,m:t}}return i}}}()),l.Mrg(l,function(){function t(t){this.init(t)}function r(t){this.rgCW=function(t){var n=new l.Arr;return t&&(n.add(t),t.rgW&&t.rgW.forEach(function(t){n.add(t.oCW)}),n.sort(function(t,n){return l.Cmp.N(t.zIndex(),n.zIndex())})),n}(t)}function s(t,n,i){this.oCW=t,this.callbackonchange=e(n)?n:null,this.bNoneOnly=l.ToB(i,!0),this.rgWDock=null}function u(t,n){function i(t){var i=u.Options[t],e=n?n[t]:i;return null==e&&(e=i),e}this.sIPNSep=".",this.bIPN=i("IncludeParentName"),this.nRLCType=i("RLClientType"),this.bAXChgH=i("AutoXChgHide"),this.nAXChg=i("AllowXChg"),this.nAD=i("AllowDock"),this.bTOnD=i("ToggleOnDblClk"),this.rgATXChgT=i("AllowToggleXChgType"),this.bAURXChg=i("AllowURXChg"),this.bAK=i("AllowKeys"),this.bASS=i("AllowSplitSwipe"),this.bE=i("Enabled"),this.bDNI=i("DockNoneInside"),this.nDefSBs=this.nSBs=i("ScrollBars"),this.rgQURXChg=[],this.nQURXChg=0,this.lQURXChg=0,this.lUXChg=0,this.lLXChg=0,this.lRXChg=0,this.bRLC=!1,this.lSiz=0,this.lClt=0,this.lRLC=0,this.lQRLC=0,this.lUI=0,this.lI=0,this.lE=0,this.lR=0,this.lPR=0,this.lS=0,this.lDokN=0,this.lHovW=0,this.iLts(),this.SetC(i("Control")),this.SetClientRect(t),l.CC.IsCanvas(t)&&this.SetCanvas(t)}function c(t){this.build(t)}function f(t,n){this.nRLCType=t.nRLCType,this.oCW=t,this.orW=n||t.rW(),this.build()}function g(){this.rgW=[],this.rgWZOrd=new Map,this.rgWData=new Map,this.cbkget=null}function d(t,n,i,e){function r(t){var n=d.Options[t],i=e?e[t]:n;return null==i&&(i=n),i}this.oCW=t,this.name=n,this.opW=i,this.bVis=r("Visible"),this.sVisExt=r("VisibleExtends"),this.bE=r("Enabled"),this.bAK=r("AllowKeys"),this.bRsza=r("Resizable"),this.bLkd=r("Locked"),this.nDk=r("Dock"),this.client=function(t,n,i){var s=(r(n)||[0,0,0,0]).slice();switch(t){case 5:s=[0,0,0,0];break;case 1:case 2:case 3:case 4:var o=r(i);if(n in e&&!(i in e))switch(t){case 1:case 2:o=s[3];break;case 3:case 4:o=s[2]}switch(t){case 1:case 2:s[0]=0,s[1]=0,s[2]=0,s[3]=o;break;case 3:case 4:s[0]=0,s[1]=0,s[2]=o,s[3]=0}}return s}(this.nDk,"Client","Size"),this.sSizeExt=r("SizeExtends"),this.cB=r("Background"),this.cF=r("Foreground"),this.cHB=r("HoverBackground"),this.cHF=r("HoverForeground"),this.nOq=r("Opacity"),this.nHOq=r("HoverOpacity"),this.bDWF=r("DrawWindowFrame"),this.sExt=r("Extends"),this.sExtSBS=this.sExt,this.sHovExt=r("HoverExtends"),this.bAXChg=r("AllowXChg"),this.sXChgID=r("XChgID"),this.iLts(),this.sHS=r("HScroll"),this.sVS=r("VScroll"),this.SetC(r("Control"))}var v=t.prototype;v.init=function(t){this.canvas=t,this.ctx=t.getContext("2d"),this.lI=0,this.rgC=new l.Arr,this.iCTX(),a(this.canvas).oCC=this,this.onInitAO()},t.Dispose=function(t){var n=h(t);n&&n.oCC&&(n.oCC.Dispose(),n.oCC=null)},v.Dispose=function(){this.onTerm(),this.onTermAO(),a(this.canvas).oCC=null},v.onInitAO=function(){this.oAO=new l.AO(this.canvas),o(this.ctx).oAO=this.oAO},v.onTermAO=function(){this.oAO&&(this.oAO.onTerm(),o(this.ctx).oAO=null,this.oAO=null)},v.rurEv=function(){return!l.RUR.Rng()},v.fwdEv=function(){return this.rurEv()},v.onInit=function(){var t=this,n=this.canvas,i=l.rurPE;n.style.touchAction="none",(l.wheel+",contextmenu,keydown,keyup,keypress").split(",").forEach(function(i){n.addEventListener(i,this["local"+i]=function(n){t["on"+i].call(t,n)})},this),1&i&&"down,move,up,out,over".split(",").forEach(function(i){i="mouse"+i,n.addEventListener(i,this["local"+i]=function(n){return t["on"+i].call(t,n)})},this),2&i&&"start,move,end,cancel".split(",").forEach(function(i){i="touch"+i,n.addEventListener(i,this["local"+i]=function(n){return t["on"+i].call(t,n)})},this),4&i&&"down,move,up,cancel".split(",").forEach(function(i){i="pointer"+i,n.addEventListener(i,this["local"+i]=function(n){return"mouse"!=n.pointerType&&n.preventDefault(),t["on"+i].call(t,n)})},this)},v.onTerm=function(){var t=this.canvas;for(var n in this)n.startsWith("local")&&this[n]&&(t.removeEventListener(n.substr("local".length),this[n]),this[n]=null)},function(t){for(var n in t)!function(t,n,i,e,r){r[t="on"+t]=function(r){this.oAO&&(n||null==n)&&this.oAO[t].call(this.oAO,r);var s=i,o=0==s;return this.fwdEv()&&(!e||!(s=this.ondown(r)))&&this.rgC.rforEachU(function(n){return n[t]&&(s=n[t].call(n,r)),o?s:i}),o?s:i}}(n,t[n].ao,t[n].f,t[n].d,v)}({down:{ao:!1,f:!1},mousedown:{f:!1,d:!0},mousemove:{f:!1},mouseup:{f:!1},pointerdown:{f:!1,d:!0},pointermove:{f:!1},pointerup:{f:!1},pointercancel:{f:!1},mouseout:{},mouseover:{},touchstart:{f:!1,d:!0},touchmove:{f:!1},touchend:{f:!1},touchcancel:{f:!1},keydown:{ao:!1},keyup:{ao:!1},keypress:{ao:!1}}),v.onwheel=function(t){var n=!1;this.fwdEv()&&this.rgC.rforEachU(function(i){return i.onwheel&&(n=i.onwheel(t))},this),n&&l.SEP(t)},v.oncontextmenu=function(t){this.fwdEv()&&this.rgC.rforEachU(function(n){return n.oncontextmenu&&n.oncontextmenu(t)}),l.SEP(t)},v.getZOrderOf=function(t){return this.rgC.getPos(t)},v.setZOrderOf=function(t,n){return-1!=this.rgC.setPos(t,n)},v.bringToFront=function(t){if(this.getZOrderOf(t)>=0){var n=this.rgC.len();n>1&&this.setZOrderOf(t,n-1)&&this.onChange()}},v.bringForward=function(t){var n=this.getZOrderOf(t);if(n>=0){var i=this.rgC.len();i>1&&n+1<i&&this.setZOrderOf(t,n+1)&&this.onChange()}},v.sendToBack=function(t){this.getZOrderOf(t)>0&&this.setZOrderOf(t,0)&&this.onChange()},v.sendBackward=function(t){var n=this.getZOrderOf(t);n>0&&this.setZOrderOf(t,n-1)&&this.onChange()},v.getEvent=function(t){return l.e2E(t)},v.gPtr=function(t){return l.e2P(t)},t.getControlRect=function(t){return(t.GetFrameRect||t.GetClientRect).call(t)},v.p2C=function(n,i,r){var s=null,o=l.G.X(n),a=l.G.Y(n),h=r?l.PInR:l.PInfR;return this.rgC.rforEachU(function(n){if(h(o,a,t.getControlRect(n))&&(null==i||e(n[i])))return s=n}),s},v.e2C=function(t,n,i){return this.p2C(this.gPtr(t),n,i)},v.onChange=function(){this.inv()},v.iCTX=function(){return l.dCTX(this.ctx)},v.getClientRect=function(){return[0,0,this.canvas.width,this.canvas.height]},v.isErase=function(t){return!t||t.erase},v.onpaint=function(t,n){for(var i=this.rgC.len(),e=Math.max(0,n&&n.from||0),r=Math.max(0,Math.min(i,l.ToI(n&&n.to,i)));e<r;e++)this.rgC.item(e).onpaint(t)},v.lInv=function(){this.lI++},v.uInv=function(){--this.lI},v.cInv=function(){return!this.lI&&t.cInv(this.canvas)},v.inv=function(t){if(this.cInv()){this.lInv();var n=this.iCTX();this.isErase(t)&&this.onerase(n,this.getClientRect()),this.onpaint(n,t),this.uInv()}},v.onerase=function(t,n){t.clearRect.apply(t,n)},v.resize=function(){this.iCTX();var t=this.rgC,n=this.canvas;t.byO().slice().forEach(function(i){t.has(i)&&i.SetClientRect(n)}),this.inv()},t.GetCanvas=function(t){var n;return t&&(l.IsS(t)&&(t=l.doc.getElementById(t)),l.IsCanvas(t)&&(n=t)),n},t.IsCanvas=function(n){return null!=t.GetCanvas(n)},t.SetCanvas=function(n,i){if(function(t){var n=t;if(n)for(var i=0,e=["SetClientRect","GetClientRect","onpaint"],r=e.length;n&&i<r;i++)n=t[e[i]];return!!n}(n)){if(i=t.GetCanvas(i),n.canvas){(r=(e=a(n.canvas))?e.oCC:null)&&function(t){this.rgC.has(t)&&(this.oAO.clear(),this.rgC.remove(t),t.canvas=null,this.rgC.isEmpty()&&this.onTerm(),this.onChange())}.call(r,n)}if(i){var e=a(i),r=e?e.oCC:null;r=r||new t(i),function(t){if(!this.rgC.has(t)){var n=this.rgC.isEmpty();t.canvas=this.canvas,this.rgC.add(t),t.SetClientRect(this.canvas),n&&this.onInit(),this.onChange()}}.call(r,n)}}},t.CCOf=function(t){if(t){var n=t.canvas;if(n){var i=a(n),e=i?i.oCC:null;if(e&&e.rgC.has(t))return e}}return null},t.c2CC=function(n){var i=null;return(n||(n=t.GetCanvas(n)))&&(i=(a(n)||{}).oCC||null),i},t.Inv=function(n,i){var e=t.c2CC(n);e&&e.inv(i)},t.invC=function(n,i,e){var r,s=t.c2CC(n.canvas);i&&(r=n.onpaint,n.onpaint=function(){}),s&&s.inv(e),r&&(n.onpaint=r),n.oninv&&n.oninv.call(n,i)},t.mCIL=null,t.cInv=function(n){var i=t.mCIL;return!i||(i.get(n)||i.get(null))},t.lInv=function(n){n=n||null;var i=t.mCIL||new Map;i.set(n,(i.get(n)||0)+1),t.mCIL=i},t.uInv=function(n){n=n||null;var i=t.mCIL,e=0;if(null!=i&&void 0!==(e=i.get(n))&&(e=Math.max(e-1,0),i.set(n,e),0==e)){i.delete(n),0==i.size&&(t.mCIL=i=null);if(s=t.c2CC(n))s.inv();else if(null==n){var r=l.doc.getElementsByTagName("CANVAS");if(r)for(var s,o=0,a=r.length;o<a;o++)(s=t.c2CC(r[o]))&&s.inv()}}},t.e2C=function(n,i){var e,r=null;return n&&(e=t.c2CC(n.target))&&(r=e.e2C(n,null,i)),r},t.GetZOrd=function(n){var i=t.CCOf(n);return i?i.getZOrderOf(n):-1},t.SetZOrd=function(n,i){var e=t.CCOf(n);return e&&e.setZOrderOf(n,i)},t.Resize=function(n,i,e){var r,s=t.GetCanvas(n);s&&(null!=i&&(s.width=i),null!=e&&(s.height=e),(r=t.c2CC(s))&&r.resize())},t.Refresh=function(n){l.Grad.XC(),l.H.XC(),l.E.XC(),l.Like.XC(),l.Loc.XC(),l.GP.XC(),l.S.XC(),l.TFI.XC();var i=t.c2CC(n);if(i){var e,r=t.invC;t.invC=function(){},i.rgC.forEach(function(t){(e=t.Refresh)&&e.call(t)}),t.invC=r}t.Inv(n)};r.prototype.CWs=function(){return this.rgCW};var p=s.prototype;p.Ws=function(){return this.oCW.rgW},p.includeoDockChange=function(t,n){return!this.bNoneOnly||n.none},p.onWLChange=function(){return this.compare(function(){var t=null,n=this.Ws();return n&&(t=new Map,n.forEach(function(n){var i={window:n,parent:n.opW,dock:n.GetDock(),pos:n.GetPosition(),visible:n.GetVisible(),minimized:n.IsMin(),none:null!=n.rWN()};this.includeoDockChange(n,i)&&t.set(n,i)},this)),t}.call(this))},p.compare=function(t){var n=[];null==this.rgWDock?null!=t&&t.forEach(function(t,i){var e={window:i,from:null,to:t};n.push(e)},this):null==t?this.rgWDock.forEach(function(t,i){var e={window:i,from:t,to:null};n.push(e)},this):(this.rgWDock.forEach(function(i,e){var r=t.get(e);if(null==r){s={window:e,from:i,to:null};n.push(s)}else if(i.parent!=r.parent||i.dock!=r.dock||i.dock+r.dock==0&&i.pos!=r.pos||i.visible!=r.visible||i.minimized!=r.minimized){var s={window:e,from:i,to:r};n.push(s)}},this),t.forEach(function(t,i){if(null==this.rgWDock.get(i)){var e={window:i,from:null,to:t};n.push(e)}},this)),n.length&&this.callbackonchange&&this.callbackonchange.call(this.oCW,this,n),this.rgWDock=t},s.sortDockN=function(t){var n=t;if(null!=t){var i=[],e=[];t.forEach(function(t){(!function(t){return null!=t.from&&0==t.from.dock||null!=t.to&&0==t.to.dock||void 0}(t)?e:i).push(t)}),n=i,e.length>0&&(e.sort(function(t,n){var i=t.window,e=n.window;return e.IsChildOf(i)?-1:i.IsChildOf(e)?1:l.Cmp.N(i.GetLevel(),e.GetLevel())}),e.forEach(function(t){(function(t,n){for(var i=0,e=n.length;i<e;i++){var r=n[i];if(t==r.window||t.IsChildOf(r.window))return!0}})(t.window,n)||n.push(t)}))}return n};var C=u.prototype,m="xchg-w";u.Options={IncludeParentName:!0,RLClientType:0,AutoXChgHide:!0,AllowDock:7,AllowXChg:3,AllowToggleXChgType:[0,1,2,3],AllowURXChg:!0,ToggleOnDblClk:!0,AllowKeys:!0,AllowSplitSwipe:!0,Enabled:!0,ScrollBars:3,Control:null,DockNoneInside:!1},C.getEvent=function(t){return l.e2E(t)},C.gPtr=function(t){return l.e2P(t)},C.defCursor=function(){return"default"},C.setCursor=function(t){var n=this.defCursor(),i=!1;return t===n?void 0!==this.sRC&&(t=this.sRC,this.sRC=void 0):void 0===this.sRC&&(this.sRC=this.canvas.style.cursor),(i=t!==n)&&(this.canvas.style.cursor=t),i},C.xXChg=function(){if(this.rgXChg&&(this.rgXChg=null,this.mXChgI=null,this.ctx)){var t=this.ctx.gAO();t&&t.remOf(this,"xchg.*")}},C.rXChg=function(t){if(this.aXChg()&&!this.lRXChg){this.lRXChg++;var n=void 0!==t?t:this.sHov();if(!n&&this.rgW)if(this.isAutoXChgHide()){var i=this.WL();i&&!i.hasZ()&&null==(n=this.orW)&&(n=this.rgW.first())}else n=this.rgW.first();var e=function(t){function n(t,n){var i=null;if(u.visW(n)){var e=n.opW,r=n.rWN(),s=t.getChild(e);if(s){var o=new l.Arr(s).filter(function(n){if(n.aXChg()&&u.visW(n)&&t.hasW(n)&&r==n.rWN())return!0});o.len()>1&&(i=o)}}return i}var i=null;if(t){var e=this.GetAllowXChg();if(e){var r=this;switch(e){case 1:i=function(t,i){var e=null;if(i)for(;i&&null==(e=n(t,i));)i=i.opW;return e}(r,t);break;case 2:i=function(t,n){var i=new l.Arr;return t.feWZ(function(n){n.aXChg()&&function(t,n){var i=t.getChild(n);if(i&&i.length)for(var e=0,r=i.length;e<r;e++)if(!i[e].IsNone())return!1;return!0}(t,n)&&t.hasW(n)&&i.push(n)}),i.len()>0?i:null}(r);break;case 3:i=function(t,n){var i=new l.Arr;return t.feW(function(n){t.hasW(n)&&n.aXChg()&&n.IsVisible()&&i.push(n)}),i}(r)}i&&i.sort(function(t,n){return l.Cmp.N(r.getZOrd(t),r.getZOrd(n))})}}return i}.call(this,n);u.eqXChg(e,this.rgXChg)||(this.bR(),this.xXChg(),this.rgXChg=e,this.uXChgI(),this.eR()),--this.lRXChg}},C.valXChg=function(t){var n=[];this.rgXChg.forEach(function(i){t!=i&&(i.IsChildOf(t)||t.IsChildOf(i))&&n.push(i)}),n.forEach(function(t){this.rgXChg.remove(t)},this)},C.eqXChgI=function(t,n){if(null==t&&null==n)return!0;var i=!1;return null!=t&&null!=n&&t.size==n.size&&(i=!0,t.forEach(function(t){if(i){var e=n.get(t.window);(i=void 0!=e)&&(i=t.id==e.id)&&(i=l.EqR(t.client,e.client))}})),i},C.setAOXChg=function(t){if(this.resAOXChg(),this.ctx){var n=this.ctx.gAO();if(n&&this.mXChgI){var i=this.isXChgByAlpha();this.mXChgI.forEach(function(e){var r=t==e;n.set({owner:this,id:"xchg.click."+e.id,hitTest:function(t,n){var i=null;return this.canTargetChangeOnXChg(t,n)?null==(i=this.p2XChg(t,n))&&(i=this.p2XChgW(t,n)):i=this.getXChgDW(),i==e.window},inv:this.Render,duration:r||i?0:250,delay:0,actOn:r?1:4})},this);var e=n.wRUR();e.Save(),e.FreezeAll(),e.Unfreeze(this,"xchg.click.*"),i&&n.lI++}}},C.resAOXChg=function(){if(this.ctx){var t=this.ctx.gAO();t&&(t.wRUR().Restore(),t.remOf(this,"xchg.click.*"),t.lI&&--t.lI)}},C.uXChgI=function(){this.lUXChg++||(this.mXChgI=function(t){var n,i;return t&&(n=new Map,t.forEach(function(t){(i=this.getXChgI(t))&&n.set(t,i)},this),this.layXChgI(n)),n}.call(this,this.rgXChg)),--this.lUXChg},C.layXChgI=function(t){if(t){if(!this.lLXChg++){var n=l.G.R2C(this.GetClientRect()),i=l.G.X(n),e=l.G.Y(n),r=[],s=[],o=new l.Arr,a=new l.Arr,h=0;t.forEach(function(t){var n=t.client;n[0]+n[2]/2<i&&o.push(h),n[1]+n[3]/2>e&&a.push(h),r.push(this.fitClient(n,4)),s.push(t.window.GetZOrder()),h++},this);var u=r.length;if(u>1)for(var c=!0;c;){c=!1;for(h=0;h<u-1;h++)for(var f=h+1;f<u;f++){var g=r[h],d=r[f],v=l.NRt(l.IRt(g.slice(),2,2),l.IRt(d.slice(),2,2));if(!l.EyR(v)){c=!0;var p=Math.abs(l.ROf(g)-l.ROf(d))<4,C=!p;p&&(a.has(h)||a.has(f)?(a.push(h,f),s[h]<s[f]?d[1]=g[1]-(d[3]+4):g[1]=d[1]-(g[3]+4)):s[h]<s[f]?d[1]=g[1]+g[3]+4:g[1]=d[1]+d[3]+4),C&&(o.has(h)||o.has(f)?(o.push(h,f),g[0]<d[0]?d[0]=g[0]+g[2]+4:g[0]=d[0]+d[2]+4):g[0]<d[0]?g[0]=d[0]-(g[2]+4):d[0]=g[0]-(d[2]+4))}}}}--this.lLXChg}},u.eqXChg=function(t,n){if(t===n)return!0;if(t&&n){var i=t.len();if(i==n.len()){for(var e=0;e<i;e++)if(t.item(e)!==n.item(e))return!1;return!0}}},C.hasXChg=function(){return this.aXChg()&&this.rgXChg},C.hasXChgI=function(){return this.hasXChg()&&this.mXChgI},C.pXChg=function(t,n,i,r){if(this.mXChgI&&e(l.D.AnchorXChg)){var s=this.mXChgI.get(t);if(s&&!l.EyR(i)){var o=s.window.IsMin()?l.D.AnchorXChgShapeMin:l.D.AnchorXChgShape,a=o;if(null==r||r){var h=n.gAO();if(h){var u=h.get(this,"xchg.click."+s.id);if(null!=u){var c=u.state;s.window==this.getXChgDW()&&(c=1),a=l.R.Shape(c,u.range,{from:o,to:l.D.AnchorXChgShapeClick})}}}t.bCTX(n),l.D.AnchorXChg(n,i,a,s.id),t.eCTX(n)}}},C.pTgtXChg=function(t,n,i){l.D.TargetAnchorXChg&&!l.EyR(n)&&l.D.TargetAnchorXChg(t,n,i?l.D.TargetAnchorXChgSourceShape:l.D.TargetAnchorXChgShape)},C.tmXChg=function(){return this.rgXChg&&this.rgXChg.first()||null},C.dXChg=function(t){l.D.AnchorXChg&&this.hasXChg()&&(this.uXChgI(),function(t){function n(n,i,e){if(i){var r=n.mXChgI.get(i);null!=r&&(null!=r.window.save&&null!=r.window.save.sourceWindow||(e&&(r.client=n.fitClient(r.client)),n.pXChg(i,t,r.client)))}}if(this.hasXChgI()){var i=this.tmXChg();this.rgXChg.forEach(function(t){i!=t&&n(this,t)},this),null!=i&&n(this,i,!0)}}.call(this,t||this.ctx))},C.p2XChg=function(t,n,i){function e(t,n,e,r){var s=!1;if(null!=r){var o=t.mXChgI.get(r);null!=o&&null!=l.EyR(o.client)&&o.window!=i&&(s=l.PInR(n,e,o.client))}return s}var r=null;if(null!=this.orW&&this.orW.IsMin()&&(r=this.orW),null==r&&this.hasXChgI()){var s=this.tmXChg();null!=s&&e(this,t,n,s)&&(r=s),null==r&&this.rgXChg.rforEachU(function(i){if(e(this,t,n,i))return r=i,!0},this)}return r},C.p2XChgW=function(t,n,i){var e=null;if(this.hasXChg()){var r=null,s=null;null!=i&&(r=this.mXChgI.get(i))&&(s=r.client,r.client=null),null==(e=this.p2XChg(t,n))&&this.rgXChg.rforEachU(function(i){var r=this.w2R(i);if(!l.EyR(r)&&l.PInfR(t,n,r))return e=i,!0},this),null!=r&&(r.client=s)}return e},C.getXChgI=function(t){return function(t,n){if(t&&n){var i=this.ctx;if(i){var e=t.GetClientRect();if(l.EyR(e)&&(e=t.GetWindowRect()),e){if(l.EyR(e)){var r=l.G.GtPInR(e,this.w2R(t.opW));e=[r.x,r.y,e[2],e[3]]}var s=l.RRt(l.D.AnchorXChgRect(i,e,n));if(!l.EyR(s))return{id:n,client:s,window:t}}}}return null}.call(this,t,function(t){return t&&t.isVisible()&&this.rgXChg&&this.rgXChg.has(t)?t.getXChgID()+(t.IsNone()?" &#10012;":""):null}.call(this,t))},C.isTglOnDblClk=function(){return this.GetToggleOnDblClk()},C.GetToggleOnDblClk=function(){return this.bTOnD},C.SetToggleOnDblClk=function(t){this.bTOnD=t},C.useNextDockPosOf=function(){return!0},C.allowD=function(){return this.rCW().GetAllowDock()},C.GetAllowDock=function(){return this.nAD},C.SetAllowDock=function(t){this.nAD=t},C.isAutoXChgHide=function(){switch(this.GetAllowXChg()){case 1:return!0}return this.GetAutoXChgHide()},C.GetAutoXChgHide=function(){return this.rCW().bAXChgH},C.SetAutoXChgHide=function(t){this.bAXChgH=t},C.aXChg=function(){return this.GetAllowXChg()},C.allowXChgAny=function(){return 3==this.GetAllowXChg()},C.GetAllowXChg=function(){return this.rCW().nAXChg},C.SetAllowXChg=function(t){this.nAXChg=t},C.GetAllowToggleXChgType=function(){return this.rCW().rgATXChgT},C.SetAllowToggleXChgType=function(t){this.rgATXChgT=n(t)?t.slice():null},C.isAllowURXChg=function(){return this.GetAllowURXChg()},C.GetAllowURXChg=function(){return this.rCW().bAURXChg},C.SetAllowURXChg=function(t){this.bAURXChg=t},C.isAllowKeys=function(){return this.GetAllowKeys()&&this.isEnabled()},C.GetAllowKeys=function(){return this.bAK},C.SetAllowKeys=function(t){this.bAK=t},C.isAllowSplitSwipe=function(){return this.GetAllowSplitSwipe()},C.GetAllowSplitSwipe=function(){return this.bASS},C.SetAllowSplitSwipe=function(t){this.bASS=t},C.GetEnabled=function(){return this.bE},C.SetEnabled=function(t){this.bE=t},C.isEnabled=function(){return this.GetEnabled()},C.isAP=function(t,n){return this.isEnabled()&&this.p2HT(t,n).Client},C.isLocked=function(){},C.onHovW=function(t){function n(t){this.oHovW=t,this.rXChg(t)}var i,e=this.oHovW!=t;return this.dokIn()?e&&n.call(this,t):(i=this.CWs())&&i.forEach(function(i){i.oHovW!=t&&n.call(i,t)}),e},C.aHovW=function(t){var n=new l.Arr;if(t){for(var i=this.getParents(t).reverse(),e=0,r=i.length;e<r;e++){var s=i[e];n.pushnn(this.getHovExt(s))}n.pushnn(t),n.pushnn(this.getHovExt(t))}return n},C.hovWC=function(t,n){var i=this.onHovW(n?n.Window:null),e=this.oHovW,r=this.oHovC,s=this.isHovC(e)?function(t){var n=null;if(t&&!(n=t.Client)){var i=t.Window;i&&this.getHovExt(i)&&(n=i)}return n}.call(this,n):e;if(s&&!s.isSelectable()&&(s=null),i=i||s!=r){var o=this.aHovW(r),a=this.aHovW(s),h=new l.Arr;a.forEach(function(t){o.has(t)&&h.push(t)}),h.forEach(function(t){o.remove(t),a.remove(t)}),o.forEach(function(n){n.onmouseout(t)},this),this.onHovC(s),a.forEach(function(n){n.onmouseover(t)},this)}return i},C.onHovC=function(t){var n=this.oHovC!=t;n&&this.oHovC&&this.oHovC.onio(),this.oHovC=t,n&&t&&t.onio(!0)},C.setPtr=function(t){var n=this.rCW();n.oPtr=null,t&&(t=n.v2C(this.c2V(t)),n.oPtr={x:l.G.X(t),y:l.G.Y(t)})},C.lHovWC=function(t){var n=this.rCW();n.lHovW++||(n.rglHovW=this.aHovW(this.gHov())),t&&this.setPtr(t)},C.uHovWC=function(t){var n=this.rCW();if(!--n.lHovW){var i,e=null;if(t&&(i=n.getHovDur,n.getHovDur=function(){}),n.oPtr){var r=n.oPtr.x,s=n.oPtr.y,o=n.p2CW(r,s);if(o){var a=o.oCW;r=o.x,s=o.y,a.bR(),a.onUI(),a.hovWC(null,a.p2HT(r,s)),a.eR(),n.rglHovW&&(e=a.aHovW(a.gHov()))}}n.rglHovW&&(n.rglHovW.forEach(function(t){e&&e.has(t)||t.onHovO()}),n.rglHovW=null),t&&(n.getHovDur=i)}},C.onHovAttr=function(t){this.Render(this.hasXChg()?null:t)},C.rurEv=function(){return!l.RUR.Rng()},C.fwdEv=function(){return!this.lE&&this.isEnabled()&&this.rCW().rurEv()},C.onHT=function(t){var n,i=!1;if(this.fwdEv()&&(i=(n=this.p2WHT(this.gPtr(t))).HitTest)){var e=this.onRURHTSize;257==n.HitTest?e=this.onRURHTXChg:272==n.HitTest&&(n.HitTest=34),34==n.HitTest&&(n.Window=n.Window.rWN()||n.Window),l.RUR.Do(t,function(t){e.call(this,n,t)},this)}return!!i},C.onRURHTSize=function(t,n){function i(t,n){if(n)if(t.SetClient(n),e.isSplitByFrames()){var i=l.Sn(e.canvas).Item(r);if(i){var s=l.D.WindowSplitSize;null!=s&&(l.D.WindowSplitSize=Math.max(1,s));var o=i.restoreDirty(),a=t.rtHT(t.GetWindowRect()).rgSplit;null!=a&&(e.paintS(t,o,a),a.forEach(function(t){i.setDirty(t.Client)})),null!=s&&(l.D.WindowSplitSize=s)}}else!t.isCWN()&&e.Render()}var e=this,r="onRURHTSize",s=t.Window;if(s){var o,a=n.drag;if(a)switch(a.status){case 0:s.save&&(s.onUI(),i(s,s.save.Client));break;case 1:if(o=s.IsDockable()?s.GetClientRect():s.GetClientCanvasRect()){s.save={AnchorDblClk:null,Client:o};var h,u,c=this.WL();if(c&&(h=c.oPWA)&&(u=h.get(s.opW))&&(s.save.DockMaxWidth=Math.max(0,o[2]+u[2]),s.save.DockMaxHeight=Math.max(0,o[3]+u[3]),s.save.limitDCW=function(t){t[2]=Math.max(Math.min(t[2],this.DockMaxWidth),0)},s.save.limitDCH=function(t){t[3]=Math.max(Math.min(t[3],this.DockMaxHeight),0)},s.save.rtLimitD=function(t){var n=t.slice();s.getSplitSize();switch(s.GetDock()){case 3:n[2]=this.DockMaxWidth;break;case 4:n[0]=n[0]+n[2]-this.DockMaxWidth,n[2]=this.DockMaxWidth;break;case 1:n[3]=this.DockMaxHeight;break;case 2:n[1]=n[1]+n[3]-this.DockMaxHeight,n[3]=this.DockMaxHeight}return n}),e.isSplitByFrames()){(A=this.gAO())&&A.lI++,l.Sn(e.canvas).Save(r),e.lSiz++,e.WL().sZ()}a.setCursor(l.HitTest.Cursor.Rect(t.HitTest))}break;case 2:if(s.save){var f=s.save.Client.slice();if(s.IsDockable())switch(t.HitTest){case 33:f[2]-=a.offset.dx,s.save.limitDCW(f);break;case 36:f[2]+=a.offset.dx,s.save.limitDCW(f);break;case 18:f[3]-=a.offset.dy,s.save.limitDCH(f);break;case 66:f[3]+=a.offset.dy,s.save.limitDCH(f)}else f=l.HitTest.Resize(t.HitTest,a.offset.dx,a.offset.dy,f);!l.EqR(f,s.save.Client)&&i(s,f)}break;case 3:this.aXChg()&&this.allowD()&&s.IsMin()&&(l.RUR.Cancel(),l.RUR.Do(n,function(n){this.onRURHTXChg(t,n)},this));break;case 5:s.save.AnchorDblClk=this.p2XChg(a.current.x,a.current.y);break;case 6:if(s.save){var g=a.swipe;if(null!=g&&this.isAllowSplitSwipe()){var d=this.GetClientRect(),v=s.GetWindowRect();if(s.isCWN()){if(v=s.GetClientCanvasRect(),d=l.pgrt(),s.IsMin()){var p=l.EArt(s.oCW.canvas);d[0]+=p[2],d[2]-=p[2],d[3]-=p[3]}l.IRt(d,-4,-4);var C=this.rCW().v2C(d);d[0]=C.x,d[1]=C.y}var m=v.slice(),S=g.dx,E=g.dy;if(s.IsDockable()){v=s.GetClientRect(),d=s.save.rtLimitD(v);var T=s.getSplitSize();switch(s.GetDock()){case 3:m[0]=v[0]+v[2],m[2]=T,d[2]+=T,E=0;break;case 4:m[2]=T,d[0]-=T,d[2]+=T,E=0;break;case 1:m[1]=v[1]+v[3],m[3]=T,d[3]+=T,S=0;break;case 2:m[3]=T,d[1]-=T,d[3]+=T,S=0}}var b=l.G.RDP(m,S,E,d,1);b&&b.length&&l.A.Progress(function(t){var n=b[Math.trunc((b.length-1)*t)];i(s,function(t,n,i,e,r){var s=n.slice();switch(t.GetDock()){case 3:s[2]+=i-s[0];break;case 4:s[2]-=i,s[0]+=i;break;case 1:s[3]+=e-s[1];break;case 2:s[3]-=e,s[1]+=e;break;default:l.ORt(s,i,e)}return s}(s,v,n[0],n[1]))},{name:"swipe",thisArg:this})}}break;case 7:if(e.isSplitByFrames()&&(l.Sn(e.canvas).Remove(r),--e.lSiz,e.WL().lZ()),this.isSplitByFrames()){var A=this.gAO();A&&--A.lI}var w=!0;if(s.save){var R=s.save.AnchorDblClk;delete s.save,null!=R&&(w=!1,this.ondblclkAnchorXChg(s))}w&&!this.onRURDropOutside(n)&&this.Refresh()}}},C.onRURHTXChg=function(t,n){function i(t){t&&t.save&&t.save.targetDockTimeout&&(clearTimeout(t.save.targetDockTimeout),t.save.targetDockTimeout=null)}function e(t,n){n&&t.indexOf(n)<0&&t.push(n)}function r(t,n,r,a){if(t){var h=t.save,c=0,f=0;if(h&&(null!=n&&(c=n.dx||0,f=n.dy||0),function(t,n,r){var o=!1;if(t&&t.save&&n){var a=t.save.targetW,h=s.dokIn(),u=l.G.X(n),c=l.G.Y(n);t.save.renderCW=[];var f=s;if(!h){var g=f.p2DF(u,c);if(null==g){var d=s.p2CW(u,c);d&&f!=d.oCW&&(f=d.oCW,u=d.x,c=d.y)}else f!=g.oCW&&(f=g.oCW,u=g.x,c=g.y)}e(t.save.renderCW,f),t.save.targetCW!=f&&(o=!0,e(t.save.renderCW,t.save.targetCW)),t.save.targetCW=f;var v=f.p2DT(u,c);if(o||(o=v!=t.save.targetDock),t.save.targetDock=v,o||(o=t.save.targetCtrl!=r),t.save.targetCtrl=r,null==v)if(f.pInDF(u,c))o||(o=null!=t.save.targetW),t.save.targetW=null,t.IsNone()&&e(t.save.renderCW,s.rCW());else{var p=f.canTargetChangeOnXChg(u,c);if(p&&(a=t,f==t.oCW&&l.PInR(u,c,t.save.clientAnchorXChg)||(a=f.p2XChgW(u,c,t)),o||(o=t.save.targetW!=a),t.save.targetW=a,t.save.targetHighlightParentWindow=a),f.allowD()){var C,m=null!=f.p2XChg(u,c,t);t==a&&(m=l.PInR(u,c,t.save.clientAnchorXChg)),i(t),m?t.save.targetDockTimeout=setTimeout(function(){f.oXChgD&&f.getXChgDW()==a||(f.updateDF(a),f.isXChgByAlpha()?f.drawDF():f.Render())},l.D.AnchorXChgDockTimeout):p&&(h?f.oXChgD&&(o=!0,f.updateDF(null)):(C=s.CWs())&&C.forEach(function(t){t.oXChgD&&(o=!0,t.updateDF(null))},this))}}else{var S=f.getXChgDW();o||(o=t.save.targetW!=S),t.save.targetW=S,(0==t.save.targetDock||null!=S&&null!=S.rWN())&&e(t.save.renderCW,s.rCW())}}return o}(t,r,a)||!s.allowD()||s.isXChgByAlpha())){s.allowD()&&(c=0,f=0);var g=l.ORt(h.clientAnchorXChg.slice(),c,f),d=l.Sn(s.canvas).Item(o),v=s.ctx;if(s.isXChgByAlpha()){if(d){if(d.restoreDirty(),s.hasXChgI()){var p=v.globalAlpha;v.globalAlpha=.75,s.rgXChg.forEach(function(n){if(n!=t){var i=s.mXChgI.get(n);if(null!=i){var e=s.canXChg(t,n)&&n==h.targetW;if(e&&(v.globalAlpha=p),s.pXChg(n,v,i.client),d.setDirty(i.client),!s.allowD()&&e){var r=s.w2R(i.window);s.pTgtXChg(v,r),d.setDirty(r)}e&&(v.globalAlpha=.75)}}},s),v.globalAlpha=p}if(s.allowD()){var C=u.getTarget(s,t,h.targetCW,h.targetW,h.targetDock,h.targetCtrl);null!=C&&(s.pTgtXChg(v,C.client),d.setDirty(C.client)),s.drawDF(),s.oXChgD&&s.oXChgD.frames.forEach(function(t){d.setDirty(t)})}s.pXChg(t,v,g),d.setDirty(g)}}else if(d)d.restoreDirty(),s.pXChg(t,v,g),d.setDirty(g);else{var m,S=s.mXChgI;S&&(m=S.get(t))&&(m.client=l.ORt(h.clientAnchorXChg.slice(),c,f),h.renderCW.forEach(function(t){t.Render()}))}}}}var s=this,o="onRURHTXChg",a=t.Window;if(a){var h=n.drag;if(h)switch(h.status){case 0:a.save&&(a.save.targetW=null);break;case 1:if(this.hasXChgI()){this.allowD()||this.valXChg(a);var c=this.mXChgI.get(a);if(null!=c){var f=c.client;if(!l.EyR(f)){var g=a;if(a.save={sourceWindow:g,renderSourceCanvas:!1,renderCW:[],targetCW:null,targetW:null,targetHighlightParentWindow:null,targetDock:null,targetCtrl:!1,targetDblClk:!1,targetDockTimeout:null,clientAnchorXChg:f,oSourceAnchorXChgInfo:c},this.onXChgS(c),this.isXChgByAlpha()){var v=this.nAXChg;this.nAXChg=0,this.Render(),this.nAXChg=v,this.pTgtXChg(this.ctx,a.GetClientRect(),!0),l.Sn(this.canvas).Save(o)}r(a,h.offset,h.current,n.ctrlKey)}}}break;case 7:if(a.save){this.onXChgE(),i(a),this.isXChgByAlpha()&&l.Sn(this.canvas).Remove(o);var p=a.save.targetCW,C=a.save.targetW,m=a.save.targetDock,S=a.save.targetCtrl,E=a.save.targetDblClk;delete a.save;var T=!0;if(null!=C){if(this.lHovWC(h.current),E)T=!1,this.ondblclkAnchorXChg(a);else{var b=u.getTarget(this,a,p,C,m,S);if(null!=b)if(null==b.dock)T=!1,n.ctrlKey?this.DoXChgPos(a,b.window):this.DoXChg(a,b.window);else if(T=!1,b.dock==d.GetXChgDockToggle())this.DoToggle(a);else{var A=null;s.useNextDockPosOf()&&(A=s.nextDockPosOf(a,b.window,b.dock)),this.DoDock(a,b.window,b.dock,b.client,A)}}this.uHovWC()}!this.onRURDropOutside(n)&&T&&this.Refresh()}break;case 2:a.save&&r(a,h.offset,h.current,n.ctrlKey);break;case 5:a.save&&(a.save.targetDblClk=!0)}}},C.onXChgS=function(t){function n(t,n){t.lUXChg++,t.oXChgS=n.window,t.oXChgD=null,t.setAOXChg(n)}var i;this.dokIn()?n(this,t):(i=this.CWs())&&i.forEach(function(i){n(i,t)}),this.rCW().oDF=function(t,n){var i=l.doc.createElement("canvas");return i.className=l.Def.CN.exDF,i.style.position="absolute",i.style.zIndex=t.zIndex()+(1+t.rgW.len()),i.style.zoom=t.canvas.style.zoom,l.doc.body.appendChild(i),l.ETo(i,n),new l.CC(i).onInit(),i}(this)},C.onXChgE=function(){function t(t){t.oXChgS=null,t.oXChgD=null,t.resAOXChg(),--t.lUXChg}var n,i=this.rCW();i.oDF&&(!function(t){t&&(l.CC.Dispose(t),l.doc.body.removeChild(t))}(i.oDF),i.oDF=null),this.dokIn()?t(this):(n=this.CWs())&&n.forEach(function(n){t(n)})},C.isEvOut=function(t){var n=!1;if(t){var i,e=l.eA2P(t);this.dokIn()?n=!this.pInV(e):(i=this.CWs())&&(n=!i.rforEachU(function(t){return t.pInV(e)}))}return n},C.erur=function(t){this.onRURDropOutside()},C.onRURDropOutside=function(t){function n(t,n){t.bR(),t.hovWC(n,null),t.rXChg(null),t.onUI(),t.eR()}var i,e=this.isEvOut(t);return e&&(this.dokIn()?n(this,t):(i=this.CWs())&&i.forEach(function(i){n(i,t)})),e},u.getTarget=function(t,n,i,e,r,s){var o=null;if(null==r)if(s){if(t.canXChgPos(n,e)){b={sourcePos:t.getPos(n),targetPos:t.getPos(e)};t.lockURXChg(),t.xchgPos(n,e),t.unlockURXChg();(w=new f(t)).RLC(t.GetClientRect()),g=e.deflateClient(w.w2R(e)),w=null,t.setPos(n,b.sourcePos),t.setPos(e,b.targetPos),o={dock:null,oCW:t,window:e,client:g}}}else t.canXChg(n,e)&&(o={dock:null,oCW:i,window:e,client:e.GetClientRect()});else{var a=0==r,h=!0;if(a?(h=!1,i=t.rCW(),e=null):n==e&&((e=n.opW)||(i=i.rCW())),t.canDock(n,e,r)){var u,c=d.Options.Size,g=i.w2R(e);if(a&&(g=t.w2R(n),n.IsMin()&&(g=n.getRestoreClient()),g&&(u=Math.max(c,n.GetSize()),(g[2]<u||g[3]<u)&&(g[2]=Math.max(u,g[2]),g[3]=Math.max(u,g[3])),g=n.rt2CW(g,i),g=l.ORt(g.slice(),c/2,c/2))),g){var v=i.getDockRect(e,n),p=t.w2R(n);if(p)switch(g=g.slice(),r){case 0:break;case 1:case 2:var C=n.getDockSize();C<=0&&(C=c),l.EyR(v)||(C=Math.min(C,v[3]/4)),2==r&&(g[1]=l.BOf(g)-C),g[3]=C;break;case 3:case 4:var m=n.getDockSize();m<=0&&(m=c),l.EyR(v)||(m=Math.min(m,v[2]/4)),4==r&&(g[0]=l.ROf(g)-m),g[2]=m;break;case 5:break;default:if(h=!1,n.IsMin())g=n.getRestoreClient();else if(g=[0,0,0,0],t.isXChgByAlpha()){var S=(g=p.slice())[2],E=g[3],T=S>E;g=l.G.C2R(l.G.R2C(g),T?S/2:8,T?8:E/2)}}if(g){if(h){var b={parent:n.opW,dock:n.nDk,client:n.client,restoreClient:n.restoreClient,pos:t.getPos(n)};t.lockURXChg(),t.lRLC++,n.restoreClient=null;var A=null;t.useNextDockPosOf()&&(A=t.nextDockPosOf(n,e,r)),t.dock(n,e,r,g,A),--t.lRLC,t.unlockURXChg();var w=new f(i);i.lSiz++,w.RLC(i.GetClientRect()),g=n.deflateClient(w.w2R(n)),--i.lSiz,w=null,n.opW=b.parent,n.nDk=b.dock,n.client=b.client,n.restoreClient=b.restoreClient,t.setPos(n,b.pos)}o={dock:r,oCW:i,window:e,client:g}}}}}return o},C.nextDockPosOf=function(t,n,i){var e,r=null;return t&&(r=this.getPos(t),(e=this.getChild(n))&&e.forEach(function(t){t.isVisible()&&i==t.GetDock()&&(r=this.getPos(t)+1)},this)),r},C.isSplitByFrames=function(){return l.D.WindowSplitByFrames&&l.D.WindowFrame},C.isXChgByAlpha=function(){return l.D.AnchorXChgByAlpha},C.ondown=function(t){clearTimeout(this.hHT);var n,i=!1;return this.fwdEv()&&((i=this.oLts.ondown.do(t))||((n=this.p2WHT(this.gPtr(t)).Client)&&(function(t,n){if(t&&t.IsNone()){var i,e=this.gAO(),r=e.oPtr||{};this.hHT=setTimeout(function(){if((i=e.oPtr||{}).buttons&&r.x==i.x&&r.y==i.y&&!e.isAO()){var s=l.RUR.Rng();l.RUR.Cancel(),s&&e&&e.clear(),t.oCW.onHT(n)}},1024)}}.call(this,n.rWN(),t),n.isSelectable()&&(i=n.ondown(t))),i||(i=this.onHT(t)))),i},C.onmouseover=function(t){this.setPtr(this.gPtr(t)),this.fwdEv()&&this.onHovI(t)},C.onmouseout=function(t){this.isEvOut(t)&&this.setPtr(null),this.fwdEv()&&this.onHovO(t)},"mousedown,pointerdown,touchstart".split(",").forEach(function(t){!function(t,n){n[t="on"+t]=function(n){var i=!1;if(this.fwdEv()&&!(i=this.oLts[t].do(n))){var e=this.p2WHT(this.gPtr(n)).Client;e&&e.isSelectable()&&(i=e[t].call(e,n)),i||(i=this.ondown(n))}return i}}(t,C)}),C.onmousemove=function(t){var n=!1,i=this.gPtr(t);if(this.setPtr(i),this.fwdEv()){n=this.oLts.onmousemove.do(t);var e=this.p2WHT(i);if(this.hovWC(t,e),!n){var r=e.Client;if(r&&r.isSelectable()&&(n=r.onmousemove(t)),!n){n=0!=e.HitTest;var s=l.HitTest.Cursor.Rect(e.HitTest,this.defCursor());272==e.HitTest?s="move":r&&!e.Window.IsMin()&&(s="auto"),this.setCursor(s)}}}return n},"mouseup,pointerup,pointermove,pointercancel,touchmove,touchend,touchcancel".split(",").forEach(function(t){!function(t,n){n[t="on"+t]=function(n){if(this.fwdEv()&&!this.oLts[t].do(n)){var i=this.p2WHT(this.gPtr(n)).Client;i&&i.isSelectable()&&i[t].call(this,n)}}}(t,C)}),C.oncontextmenu=function(t){var n=!1;if(this.fwdEv()&&!(n=this.oLts.oncontextmenu.do(t))){var i=this.p2WHT(this.gPtr(t)).Window;i&&(n=i.oncontextmenu(t))}return n},C.onwheel=function(t){var n=!1;return this.fwdEv()&&!(n=this.oLts.onwheel.do(t))&&this.rfeWZU(function(i){return i.isSelectable()&&(n=i.onwheel(t))}),n},C.onkeydown=function(t){this.fwdEv()&&(this.onkey(t,-1),this.isAllowKeys()&&this.oLts.onkeydown.do(t),this.feW(function(n){n.isAllowKeys()&&n.onkeydown(t)}))},C.onkeyup=function(t){this.fwdEv()&&(this.onkey(t,0),this.isAllowKeys()&&this.oLts.onkeyup.do(t),this.feW(function(n){n.isAllowKeys()&&n.onkeyup(t)}))},C.onkeypress=function(t){this.fwdEv()&&(this.onkey(t,1),this.isAllowKeys()&&this.oLts.onkeypress.do(t),this.feW(function(n){n.isAllowKeys()&&n.onkeypress(t)}))},C.onHovI=function(t){this.hovWC(t,this.p2WHT(this.gPtr(t))),this.oLts.onmouseover.do(t)},C.onHovO=function(t){this.setCursor(this.defCursor()),this.hovWC(t,null),this.oLts.onmouseout.do(t)},C.udefSts=function(t){t&&(t.RemoveOf(this),this.oC&&this.oC.udefSts&&this.oC.udefSts(t))},C.defSts=function(t){if(t){var n=l.Def.Keys;t.Add(n.xWToggle,this.tXChg,this,"",0),t.Add(n.xWUndo,this.unXChg,this),t.Add(n.xWRedo,this.rdXChg,this),this.oC&&this.oC.defSts&&this.oC.defSts(t)}},C.onkey=function(t,n){this.oSts&&this.oSts.onkey(t,n)},C.iCTX=function(){l.dCTX(this.ctx)},C.resRLC=function(){this.lRLC||(this.bRLC=!1)},C.RLC=function(){!this.lRLC&&!this.bRLC&&this.onRLC()},C.rW=function(){return this.W(this.orW)},C.onRLC=function(){function t(t){t.lRLC++,t.bRLC=!0;var n=t.oWL;n||(t.oWL=n=new f(t),t.rCW().onWLChange(t)),n.RLC(t.w2R()),--t.lRLC}this.rgW&&!this.lRLC&&(t(this),this.lQRLC>0&&(this.lQRLC--,t(this)))},C.WL=function(){return this.RLC(),this.oWL},C.onui=function(){!this.dokIn()&&u.WDN.Save(this.rCW())},C.onUI=function(){this.oWsC=null,this.lUI||(this.lRLC?this.lQRLC++:(this.lUI++,this.opZ=(this.oWL||{}).oZ||null,this.oWL=null,this.resRLC(),--this.lUI))},C.WsC=function(){return this.oWsC||(this.oWsC=new c(this))},C.W=function(t){return null!=t?this.WsC().Get(t):null},C.feW=function(t,n){this.rgW&&(n=n||this,this.rgW.forEachI(function(i,e){t.call(n,i,e)}))},C.feWZ=function(t,n){var i=this.WL();if(i){n=n||this;var e=i.visZ();e&&e.forEach(function(i,e){t.call(n,e,i)})}},C.rfeWZU=function(t,n){var i,e=this.WL();e&&(n=n||this,(i=e.visZ())&&i.rforEachU(function(i,e){return t.call(n,e,i)}))},C.feC=function(t,n){this.rgW&&(n=n||this,this.rgW.forEachIU(function(i){return i.oC&&t.call(n,i.oC,i)}))},C.Ws=function(){return this.rgW||(this.rgW=new l.Arr,this.rgW.onRemove=this.onRemove.bind(this)),this.rgW},C.add=function(t,n,i){var e=this.W(t=function(t,n){if(t=l.ToS(t),this.bIPN&&t&&n){var i=n.GetName();i&&(t=i+this.sIPNSep+t)}return t}.call(this,t,n));if(!e){var r=this.W(n);this.Ws().push(e=new d(this,t,r,i)),this.onUI(),this.onAdd(e)}return e},C.Add=function(t,n){return this.add(t,null,n)},C.Remove=function(t){if(this.rgW){var n=this.W(t);if(n){var i=this.getChild(n);i&&i.length&&i.forEach(function(t){this.Remove(t)},this);if(-1!=this.getIndexOf(n))return this.rgW.remove(n),this.onUI(),!0}}},C.onAdd=function(t){t.rqbSB()&&(this.rgbSB||(this.rgbSB=[])).push(t),function(){if(this.rgbSB){var t;this.rgbSB.forEach(function(n){!n.bSBs()&&(t||(t=[])).push(n)},this),this.rgbSB=t}}.call(this)},C.onRemove=function(t){var n=this.gAO();n&&!n.isEmpty()&&n.clear(),t?(this.oHovW==t&&(this.oHovW=null),this.oHovC==t&&(this.oHovC=null),this.rgXChg&&(this.rgXChg.remove(t),this.rgXChg.len()||this.xXChg()),t.onRemove()):(this.oHovW=null,this.oHovC=null,this.xXChg())},C.Clear=function(){if(this.rgW&&!this.rgW.isEmpty())return this.rgW.clear(),this.onRemove(null),this.onUI(),!0},C.onSmoothByFrames=function(t){return t&&this.isSplitByFrames()&&(t.cbkR=function(t){t.oEF&&(t.oEF.oO.progressEF=t.progress,t.oEF.Render())},t.cbkI=function(t){this.lE++;var n=this.gAO();n&&(n.lI++,n.lE++);var i=this,e=i.WL().oZ;i.WL().oZ=t.oZ,i.Render(t.oWRend),i.WL().oZ=e,t.oEF=l.EF.Create({name:"frame-w",client:i.GetClientRect(),relative:i.canvas,progressEF:0,onpaint:function(n,e){t.rgWFT.forEach(function(t){n.saveSts("lineWidth"),n.lineWidth=Math.max(1,l.D.WindowSplitSize),l.D.WindowFrame(n,l.R.Rect(this.oO.progressEF,null,t),0,l.D.WindowSplitColor),n.loadSts()},this),i.lLXChg++,i.dXChg(n),i.lLXChg--}})},t.cbkT=function(t){l.EF.Destroy(t.oEF);var n=this.gAO();n&&(--n.lE,--n.lI),--this.lE}),t},C.runAXChgWZ=function(t,n){var i=!1;return t.Smooth(function(){i=this.xchg(t,n)},this.onSmoothByFrames({name:m,thisArg:this})),i},C.canAXChgW=function(t,n){return t&&n&&t!=n&&t.oCW==n.oCW},C.doAXChg=function(t,n){if(this.canAXChg()){var i,e=this.W(t);if(e&&(i=this.W(n))&&this.canAXChgW(i,e))return this.runAXChgWZ(e,i)}},C.DoXChg=function(t,n){this.onui(),!this.doAXChg(t,n)&&this.XChg(t,n)},C.xchg=function(t,n){function i(t){return t.GetClientCanvasRect()}var e,r,s,o,a,h,c,f,g=!1,v=this.W(t);return v&&(e=this.W(n))&&v!=e&&(g=!v.IsChildOf(e)&&!e.IsChildOf(v))&&(this.isURXChgLock()||(r={window:null,from:v,to:e}),v.bClient(),e.bClient(),s=v.GetDock(),o=e.GetDock(),v.opW===e.opW?(s===o?0==s&&(a=i(v),v.client=i(e),e.client=a):(u.visW(v)&&u.visW(e)&&(d.AreDocksEquivalent(s,o)?(v.client=i(v),e.client=i(e)):(a=i(v),v.client=i(e),e.client=a)),v.nDk=o,e.nDk=s,h=v.bRsza,v.bRsza=e.bRsza,e.bRsza=h,c=v.bDWF,v.bDWF=e.bDWF,e.bDWF=c),this.rgW.setPos(v,this.rgW.getPos(e))):(f=v.opW,v.opW=e.opW,e.opW=f,u.visW(v)&&u.visW(e)&&(a=i(v),v.client=i(e),e.client=a),v.nDk=o,e.nDk=s,h=v.bRsza,v.bRsza=e.bRsza,e.bRsza=h,c=v.bDWF,v.bDWF=e.bDWF,e.bDWF=c),v.client=l.C2R(v.client),e.client=l.C2R(e.client),v.eClient(),e.eClient(),r&&this.addURXChg(r)),g},C.XChg=function(t,n){this.xchg(t,n)&&this.Refresh()},C.canAXChg=function(){return!l.A.Rng(m)},C.getActiveDFID=function(){return"xchg.dock"},C.getPaddDF=function(){return 4},C.updateDF=function(t){function n(t){return i+"."+t}var i=this.getActiveDFID(),e=this.rCW().oDF,r=(e?e.getContext("2d"):this.ctx).gAO();if(this.oXChgD=null,r&&r.remOf(this,i+".*"),t){var s=!1,o=t.save;o&&this==t.oCW&&(s=o.sourceWindow==t);var a=null;if(o)a=o.clientAnchorXChg;else if(this.mXChgI){var h=this.mXChgI.get(t);h&&(a=h.client)}if(a){var u=this.GetAllowDock(),c=a[2],f=a[3],g=f,v=this.getPaddDF(),p=l.LOf(a),C=l.ROf(a),m=l.NRt(a,this.GetClientRect()),S=l.BOf(m)+v,E=[0,0,0,0];s&&1&u&&(E=[p,S+=2,c,f],S+=f+v,S-=2);var T=[0,0,0,0],b=[0,0,0,0],A=[0,0,0,0],w=[0,0,0,0],R=[0,0,0,0];2&u&&(T=[p,S+=6,c,f],A=[p-g-v,S+=f+v,g,f],R=[p,S,c,f],w=[C+v,S,g,f],b=[p,S+=f+v,c,f],S+=f+v,S+=2);var y=[0,0,0,0];s&&4&u&&(t.IsNone()||(y=[p,S+=2,c,f]));var O=[y,A,w,T,b,R,E],x=l.URts(O);if(!l.EyR(x)){var k,D,I=this.GetClientRect(),M=x.slice(),P=v+2;if(e){var W=l.pgrt(),L=this.v2C(W);I=[L.x,L.y,W[2],W[3]]}l.FRt(x,I,P),k=x[0]-M[0],D=x[1]-M[1],O.forEach(function(t){!l.EyR(t)&&l.ORt(t,k,D)})}e&&l.ETo(e,this.c2Vrt(l.IRt(l.URts(O),P,P)));var G=[y.slice(),T.slice(),b.slice(),A.slice(),w.slice(),R.slice(),E.slice()];if(this.oXChgD={window:t,frames:G},r){for(var H=!1,X=0;X<G.length;X++){var F=n(X);r.has(this,F)||(H=!0,r.set({owner:this,id:F,dockType:X,hitTest:function(t,n,i){var e=this.rCW().oDF;if(e){var r=l.EArt(e),s=this.v2C(t+r[0],n+r[1]);t=s.x,n=s.y}return this.pInDF(t,n,i.dockType)},snapshot:4,inv:this.drawDF,actOn:2,state:0,duration:0,delay:0}))}if(s){var O=[t.GetDock()],N=1;t.IsMin()&&O.push(d.GetXChgDockToggle()),O.forEach(function(t){N/=2;var i=r.get(this,n(t));i&&(i.state=N)},this)}H&&(e&&r.wRUR().UnfreezeAll(),r.wRUR().Unfreeze(this,i+".*"))}}}else e&&l.ETo(e,[0,0,0,0])},C.drawDF=function(){if(this.oXChgD){var t=l.D.AnchorXChgShapeDock,n=l.D.AnchorXChgShapeDockHover,i=this.oXChgD.frames;if(i){var r=this.ctx,s=this.rCW().oDF;if(s){r=s.getContext("2d");var o=[],a=l.EArt(s);i.forEach(function(t){if(l.EyR(t))o.push(t);else{var n=this.c2V(t);n.x-=a[0],n.y-=a[1],o.push([n.x,n.y,t[2],t[3]])}},this),i=o}for(var h=r.gAO(),u=this.getActiveDFID(),c=[t,t,t,t,t,t,t],f=this.getPaddDF(),g=0;g<c.length;g++){var d=u+"."+g;if(h){var v=h.get(this,d);v&&v.state&&(c[g]=l.R.Shape(v.state,v.range,{from:t,to:n}))}}if(2&this.GetAllowDock()){var p=l.D.AnchorXChgDockBorderColor;if(!l.C.IsTrans(p)){var C=l.URt(i[3],i[4]);l.IRt(C,f,f),r.fillSolidRect(C,"white");var m=l.URt(i[1],i[2]);l.IRt(m,f,f),r.fillSolidRect(m,"white");var S=l.IRt(i[3].slice(),f,f);S[2]-=f,r.drawEdge(S,-5,p);var E=l.IRt(i[4].slice(),f,f);E[2]-=f,E[0]+=f,r.drawEdge(E,-2,p);var T=l.IRt(i[1].slice(),f,f);T[3]-=f,r.drawEdge(T,-9,p);var b=l.IRt(i[2].slice(),f,f);b[3]-=f,b[1]+=f,r.drawEdge(b,-3,p)}}i.forEach(function(t,n){l.EyR(t)||function(t,n,i,r){e(l.D.AnchorXChg)&&l.D.AnchorXChg(t,n,i,r)}(r,t,c[n])},this)}}},C.p2DF=function(t,n){var i,e=null;if(this.allowD())if(this.dokIn())this.pInDF(t,n)&&(e={oCW:this,x:t,y:n});else if(i=this.CWs()){var r=this.c2V(t,n);i.rforEachU(function(t){var n=t.v2C(r);if(t.pInDF(n.x,n.y))return e={oCW:t,x:n.x,y:n.y},!0})}return e},C.canTargetChangeOnXChg=function(t,n){return!this.p2DF(t,n)},C.pInDF=function(t,n,i){if(this.oXChgD){var e=this.oXChgD.frames;if(e){var r=l.PInR,s=null;if(null==i){s=l.URts(e);var o=null,a=this.getXChgDW();if(a&&(a.save&&(o=a.save.clientAnchorXChg),!o&&this.mXChgI)){var h=this.mXChgI.get(a);h&&(o=h.client)}o&&(s=l.URts(s,o)),r=l.PInfR}else s=e[i];if(!l.EyR(s))return r(t,n,s)}}},C.p2DT=function(t,n){if(this.oXChgD){var i=this.oXChgD.frames;if(i)for(var e=0;e<i.length;e++){var r=i[e];if(!l.EyR(r)&&l.PInR(t,n,r))return e}}return null},C.getXChgDW=function(){return this.oXChgD&&this.oXChgD.window||null},C.dock=function(t,n,i,e,r){var s=!1,o=this.W(t);if(o){var a=0==i?null:this.W(n);if(!(null!=a&&a.IsChildOf(o)||a==o.opW&&i==o.GetDock())){var h=null;this.isURXChgLock()||(h={window:o,from:{dock:o.GetDock(),parent:o.opW,client:o.client,pos:o.GetPosition()},to:{dock:o.GetDock(),parent:o.opW,client:o.client,pos:o.GetPosition()}}),o.bClient(),a!=o&&(o.opW=a),o.nDk=i,o.IsMin()&&0!=i||(o.client=e,o.restoreClient=null),null!=r&&this.setPos(o,r),o.eClient(),h&&(h.to={dock:o.GetDock(),parent:o.opW,client:o.client,pos:o.GetPosition()},this.addURXChg(h)),s=!0}}return s},C.DoDock=function(t,n,i,e,r){this.onui(),!this.doADock(t,n,i,e,r)&&this.Dock(t,n,i,e,r)},C.Dock=function(t,n,i,e,r){this.dock(t,n,i,e,r)&&this.Refresh(!0)},C.runADockWZ=function(t,n,i,e,r){var s=!1,o=this.W(t);return o&&o.Smooth(function(){s=this.dock(t,n,i,e,r)},this.onSmoothByFrames({name:m,thisArg:this})),s},C.canADock=function(t,n,i){var e,r=!1;return!t||n&&n.IsChildOf(t)||(e=this.rCW(),n&&(e=n.oCW),(r=e==t.oCW)&&(this.dokIn()||0!=i&&null==t.rWN()||(r=!1))),r},C.doADock=function(t,n,i,e,r){if(this.canAXChg()){var s=this.W(t);if(s&&this.canADock(s,this.W(n),i))return this.runADockWZ(t,n,i,e,r)}},C.xchgPos=function(t,n,i){var e,r,s=!1,o=this.W(t);return o&&(e=this.W(n))&&(s=o!=e)&&(this.isURXChgLock()||(r={window:null,from:{window:o,positions:this.getPosAll()},to:{window:e,positions:this.getPosAll()}}),o.bClient(),e.bClient(),null!=i?this.setPosAll(i):this.setPos(o,this.getPos(e)),o.eClient(),e.eClient(),r&&(r.to.positions=this.getPosAll(),this.addURXChg(r))),s},C.DoXChgPos=function(t,n,i){this.onui(),!this.doAXChgPos(t,n,i)&&this.XChgPos(t,n,i)},C.XChgPos=function(t,n,i){this.xchgPos(t,n,i)&&this.Refresh()},C.doAXChgPos=function(t,n,i){if(this.canAXChg()){var e,r=this.W(t);if(r&&(e=this.W(n))&&r!=e)return this.runAXChgPosWZ(r,e,i)}},C.runAXChgPosWZ=function(t,n,i){var e=!1,r=this.W(t);return r&&r.Smooth(function(){e=this.xchgPos(t,n,i)},this.onSmoothByFrames({name:m,thisArg:this})),e},C.toggle=function(t){var n,i=!1,e=this.W(t);return this.canToggle(e)&&e.GetClientCanvasRect()&&(i=!e.IsMin()||e.restoreClient)&&(this.isURXChgLock()||(n={window:e,from:null,to:null}),e.bClient(),e.IsMin()?null!=e.restoreClient&&e.Restore():e.Minimize(),e.eClient(),n&&this.addURXChg(n)),i},C.DoToggle=function(t){this.onui(),!this.doAToggle(t)&&this.Toggle(t)},C.Toggle=function(t){this.toggle(t)&&this.Refresh()},C.canAToggle=function(t){return t},C.doAToggle=function(t){if(this.canAXChg()){var n=this.W(t);if(this.canAToggle(n))return this.runAToggleWZ(n)}},C.runAToggleWZ=function(t){var n=!1,i=this.W(t);return i&&i.Smooth(function(){n=this.toggle(i)},this.onSmoothByFrames({name:m,thisArg:this})),n},C.canXChg=function(t,n){if(t&&n&&t!=n&&!(t.IsChildOf(n)||n.IsChildOf(t)||t.IsMin()||n.IsMin()))return t.onexchange(n)},C.canXChgPos=function(t,n){if(t&&n&&t!=n&&t.opW==n.opW){var i=t.GetDock(),e=n.GetDock();if(!(5==i&&5!=e||5==e&&5!=i))return t.onexchangepos(n)}},C.canDock=function(t,n,i){if(t){if(6==i)return this.canToggle(t);if(!(n&&n.IsChildOf(t)||n==t.opW&&i==t.GetDock()))return t.ondock(n,i)}},C.canToggle=function(t){return t&&t.ontoggle()},C.iLts=function(){var t=new l.Lts;t.add("onbinv"),t.add("oneinv"),t.add("ondown"),t.add("onmousemove"),t.add("onmousedown"),t.add("onmouseup"),t.add("onmouseout"),t.add("onmouseover"),t.add("onpointermove"),t.add("onpointerdown"),t.add("onpointerup"),t.add("onpointercancel"),t.add("ontouchstart"),t.add("ontouchmove"),t.add("ontouchend"),t.add("ontouchcancel"),t.add("onwheel"),t.add("oncontextmenu"),t.add("onkeydown"),t.add("onkeyup"),t.add("onkeypress"),this.oLts=t,l.RUR.Listeners.add("erur",this)},C.SetC=function(t){this.oC!=t&&(null!=this.oC&&(null!=this.oC._setcontrol_&&(this.oC.oCW=this.oC._setcontrol_.oCW,this.oC.oninv=this.oC._setcontrol_.oninv,this.oC.GetClientRect=this.oC._setcontrol_.GetClientRect,this.oC.GetCanvas=this.oC._setcontrol_.GetCanvas,this.oC._setcontrol_=null),null!=this.oShorcuts&&e(this.oC.udefSts)&&this.oC.udefSts(this.oShorcuts),this.oLts.removeAnyOf(this.oC)),this.oC=t,null!=this.oC&&(this.oC._setcontrol_={oCW:this.oC.oCW,oninv:this.oC.oninv,GetCanvas:this.oC.GetCanvas,GetClientRect:this.oC.GetClientRect},this.oC.oCW=this,this.oC.oninv=function(t){this.oCW.Render()},this.oC.GetCanvas=function(){return this.oCW.GetCanvas()},this.oC.GetClientRect=function(){var t=this.oCW.GetClientRect();return t||(t=l.C2R(t)),t},this.oShorcuts&&e(this.oC.defSts)&&this.oC.defSts(this.oShorcuts),this.oLts.add("onbinv",this.oC,"onerase"),this.oLts.add("oneinv",this.oC,"onpaint"),this.oLts.add("ondown",this.oC),this.oLts.add("onmousemove",this.oC),this.oLts.add("onmousedown",this.oC),this.oLts.add("onmouseup",this.oC),this.oLts.add("onmouseout",this.oC),this.oLts.add("onmouseover",this.oC),this.oLts.add("onpointerstart",this.oC),this.oLts.add("onpointermove",this.oC),this.oLts.add("onpointerend",this.oC),this.oLts.add("onpointercancel",this.oC),this.oLts.add("ontouchstart",this.oC),this.oLts.add("ontouchmove",this.oC),this.oLts.add("ontouchend",this.oC),this.oLts.add("ontouchcancel",this.oC),this.oLts.add("onwheel",this.oC),this.oLts.add("oncontextmenu",this.oC),this.oLts.add("onkeydown",this.oC),this.oLts.add("onkeyup",this.oC),this.oLts.add("onkeypress",this.oC)))},C.GetC=function(){return this.oC},C.gAO=function(){return this.ctx&&this.ctx.gAO()},C.GetCanvas=function(){return this.canvas},C.SetCanvas=function(t,n){l.HP.removeEventListener("onchange",this,"onimg"),this.udefSts(this.oSts),this.oSts=null,this.feC(function(t){e(t.SetCanvas)&&t.SetCanvas(null)},this),t=l.CC.GetCanvas(t),!n&&l.CC.SetCanvas(this,t),this.canvas=t,this.ctx=null,l.CC.IsCanvas(this.canvas)&&(this.ctx=this.canvas.getContext("2d"),this.iCTX(),this.defSts(this.oSts=new l.Sts),l.HP.addEventListener("onchange",this,"onimg"))},C.onpaint=function(t){var n=this.WL();n&&this.renderWZ(t,n.visZ())},C.SetClientRect=function(t){var n=l.CC.GetCanvas(t);n&&(t=[0,0,n.width,n.height]),this.client=l.C2R(t),this.resRLC(),this.refCWN()},C.GetClientRect=function(){return this.client.slice()},C.onimg=function(){!this.opCW&&this.feC(function(t){return e(t.onimg)&&t.onimg()})},C.w2R=function(t){if(!t)return this.GetClientRect();var n=this.WL();return n?n.w2R(t):null},C.addChildRect=function(t,n){var i=this.getChild(t);i&&i.forEach(function(t){var i=this.w2R(t);i&&n.set(t,i)},this)},C.getDockRect=function(t,n){var i=this.w2R(t);if(null!=i){i=i.slice();var e=this.getChild(t);null!=e&&e.forEach(function(t){if(t!=n){var e=this.w2R(t);if(null!=e){var r=t.GetDock();switch(r){case 1:case 2:s=e[3];i[3]-=s,1==r&&(i[1]+=s);break;case 3:case 4:var s=e[2];i[2]-=s,3==r&&(i[0]+=s)}}}},this)}return i},C.compView=function(t){var n=null,i=new f(this);this.lSiz++,i.RLC(this.GetClientRect());var e=i.w2R(t);return e&&(n=this.c2Vrt(t.deflateClient(e))),--this.lSiz,n},C.fitClient=function(t,n){return l.FRt(t,this.GetClientRect(),n)},C.getChild=function(t){return this.WL().getChild(t)},C.getParents=function(t){var n=[];if(t&&!t.IsNone())for(var i=t.opW,e=null!=i;e;)n.push(i),(e=!i.IsNone())&&(e=null!=(i=i.opW));return n},C.getCommonParent=function(t){if(null!=t){i(t)&&(t=t.byO());var n=t.length;if(n>0){var e=new Map;t.forEach(function(t){e.set(t,function(t){for(var n=new l.Arr;null!=t;)n.add(t),t=t.opW;return n.add(null),n.reverse(),n}(t))});for(var r=e.get(t[0]).byO().slice(),s=1;s<n;s++)r=e.get(t[s]).include(r);var o=null;r.length>0&&(o=r[r.length-1]);var a=new l.Arr;e.forEach(function(t){var n=t.next(o);null!=n&&a.push(n)});return{parent:o,descendants:a}}}return null},C.getHovExt=function(t){var n=this.WL();return n?n.getHovExt(t):null},C.getVisExt=function(t){var n=this.WL();return n?n.getVisExt(t):null},C.getSizeExt=function(t){var n=this.WL();return n?n.getSizeExt(t):null},C.getIndexOf=function(t){return this.WsC().getIndexOf(t)},C.isVisible=function(t){return!t||this.WL().isVisible(t)},u.visW=function(t){return t&&t.oCW.isVisible(t)},C.getZOrd=function(t){return this.WL().getZOrd(t)},C.getPos=function(t){return this.rgW?this.rgW.getPos(t):-1},C.setPos=function(t,n){this.rgW&&this.rgW.setPos(t,~~n)},C.getPosAll=function(){return this.rgW&&this.rgW.map(function(t){return t.GetIndex()}).join(",")||""},C.setPosAll=function(t){if(this.rgW&&null!=t&&(t=l.ToS(t))){var n=new l.Arr;t.split(",").forEach(function(t){n.pushnn(this.W(l.ToI(t,-1)))},this),this.rgW.sort(function(t,i){return l.Cmp.N(n.getPos(t),n.getPos(i))})}},C.getShortName=function(t){return this.WsC().GetShortName(t)},C.Resize=function(t,n){this.canvas&&(this.lS++||(this.bR(),null!=t&&(this.canvas.width=t),null!=n&&(this.canvas.height=n),this.SetClientRect([0,0,this.canvas.width,this.canvas.height]),this.iCTX(),this.rXChg(),this.refCWN(),this.eR())),--this.lS},C.paintSplit=function(t,n,i){l.D.WindowSplit&&l.D.WindowSplit(t,n,i)},C.erase=function(t,n){n&&t.clearRect.apply(t,n)},C.lockWindowRender=function(t){t&&(this.rgLW=this.rgLW||new l.Arr).push(t)},C.unlockWindowRender=function(t){t&&this.rgLW&&(this.rgLW.remove(t),this.rgLW.len()||(this.rgLW=null))},C.bR=function(){this.lR++},C.eR=function(){!--this.lR&&this.Render()},C.bU=function(){this.lR++},C.eU=function(){this.lR&&--this.lR||(this.onUI(),this.Render())},C.lRA=function(t){function n(){var n,e=1&t;4&t&&(e?!i.lR&&i.lR++:1==i.lR&&--i.lR),2&t&&(n=i.gAO())&&(e?!n.lU&&n.lU++:1==n.lU&&(--n.lU,16&t&&n.clear())),8&t&&i.Render()}var i=this;32&t?setTimeout(n):n()},C.Render=function(t){if(!this.lR++){var n,i,e,r,s=this.ctx;this.clip=null,s&&!this.isRL(n=this.W(t))&&(i=this.WL())&&((e=i.visZ())?n?(r=i.w2Inv(n))&&(s.selClip(this.clip=r.get(n)||n.GetWindowRect()),r.forEach(function(t){this.erase(s,t)},this),this.renderWZ(s,r),s.resClip()):(this.erase(s,this.GetClientRect()),this.renderWZ(s,e)):this.erase(s,this.GetClientRect()))}this.lR--},C.renderWZ=function(t,n){if(n){this.bInv();var i=this.clip;n.forEach(function(n,i){this.renderW(t,i,n)},this),n.forEach(function(n,i){i.IsNone()&&!this.isRL(i)&&i.dWF(t,n)},this),this.clip=i,this.eInv()}},C.Refresh=function(t){function n(t){t.lRLC||(t.bR(),t.onUI(),t.rXChg(),t.eR())}function i(t){var i;t.dokIn()?n(t):(i=t.CWs())&&i.forEach(function(t){n(t)})}if(!this.lPR++){var e=this,r=e.rCW();clearTimeout(r.hPR),t?r.hPR=setTimeout(function(){i(e)}):i(this)}--this.lPR},C.refCWN=function(){this.rgW&&this.rgW.forEach(function(t){t.refCWN()})},C.bInv=function(){!this.lI++&&this.onbinv()},C.eInv=function(){!--this.lI&&this.oneinv()},C.onbinv=function(){var t=l.CC.c2CC(this.canvas);t&&t.inv({erase:!0,from:0,to:l.CC.GetZOrd(this)}),this.oLts.onbinv.do(this.ctx)},C.oneinv=function(){var t=this.ctx;t&&(this.hasXChg()&&t.onReleaseClip(function(){this.clip&&(t.save(),t.locClip(this.clip)),function(){var t=this.oXChgS;if(null!=t){var n=t.save;if(null!=n){var i=this.ctx,e=t.oCW,r=n.targetCW,s=n.targetW,o=!0,a=u.getTarget(e,t,r,s,n.targetDock,n.targetCtrl);null!=a&&(o=!l.EyR(a.client))&&a.oCW==this&&this.pTgtXChg(i,a.client),o&&e==this&&this.pTgtXChg(i,t.GetClientRect(),!0)}}}.call(this),this.dXChg(),function(){var t=this.oXChgS;if(null!=t){var n=t.save;if(null!=n){var i=this.ctx,r=n.targetCW;if(this.allowD())this.pXChg(t,i,n.clientAnchorXChg,!0),this==r&&(function(t){if(e(l.D.AnchorXChg)&&t&&this.mXChgI){var n=this.mXChgI.get(t.opW);if(n){var i=l.D.AnchorXChgShapeParentDock;i&&l.D.AnchorXChg(this.ctx,n.client,i,n.id)}}}.call(this,n.targetHighlightParentWindow),this.drawDF());else{var s=this.mXChgI.get(t);s&&this.pXChg(t,i,s.client)}}}}.call(this),this.clip&&t.restore()},this),this.oLts.oneinv.do(t));var n=l.CC.c2CC(this.canvas);n&&n.inv({erase:!1,from:1+l.CC.GetZOrd(this)})},C.paintC=function(t,n,i){t.paint(n,i)},C.isRL=function(t){var n=!1;if(this.rgLW&&t)for(var i=t;i&&!(n=this.rgLW.has(i));)i=i.opW;return n},C.renderW=function(t,n,i){t&&(i=i||this.w2R(n))&&(this.isRL(n)||this.paintW(n,t,i))},C.paintW=function(t,n,i){if(!l.EyR(i)){var e=t.rtHT(i);this.paintC(t,n,e.Client),this.paintS(t,n,e.rgSplit)}},C.paintS=function(t,n,i){!t.IsNone()&&i&&i.forEach(function(t){l.EyR(t.Client)||this.paintSplit(n,t.Client,t.HitTest)},this)},C.Inv=function(t){var n,i,e,r=this.W(t);this.lR||(r?this.isRL(r)||(n=this.WL().w2Inv(r))&&(1==n.len()?(i=this.ctx)&&(e=n.get(r)||r.GetWindowRect(),i.selClip(this.clip=e),this.erase(i,e),this.renderWZ(i,n),i.resClip()):this.Render(t)):this.Render())},C.inv=function(t){this.onpaint(t||this.ctx)},C.iHT=function(){return l.Def.HT.inflate},C.p2HTM=function(t,n){var i=l.P2HT(t,n,this.GetClientRect(),this.iHT()[0],this.iHT()[1]);return 34==i?0:i},C.p2W=function(t,n){var i=null,e=null,r=this.WL();return r&&(e=r.visZ())&&e.rforEachU(function(e,r){if(l.PInR(t,n,e)&&(!i&&(i=r),r.oC))return i=r},this),i},C.p2HT=function(t,n){function i(t,n,i){var e=null;if(t){var r=[];t.rforEach(function(e,s){var o=null,a=s.rtHT(e).SplitHT(n,i);!a||!s.IsNone()&&(o=s.opW)&&l.EyR(t.get(o))||r.push(a)},this);var s=r.length;if(s>0)if(1==s)e=r[0];else{var o=null,a=this.iHT()[0],h=this.iHT()[1];r.forEach(function(t){o=null==o?t.Client:l.URt(o,t.Client)}),l.IRt(o,a/2,h/2);var u=this.p2HTM(n,i);u&&(o=function(t,n,i,e){var r=null;if(n&&119&t){switch(i=i||0,e=e||0,r=n.slice(),7&t){case 1:r[2]=i;break;case 4:r[0]=l.ROf(n)-i,r[2]=i;break;default:r[0]+=i,r[2]-=2*i}switch(112&t){case 16:r[3]=e;break;case 64:r[1]=l.BOf(n)-e,r[3]=e;break;default:r[1]+=e,r[3]-=2*e}}return r}(u,this.GetClientRect(),a,h));var c=o[2],f=o[3];if(c<f){var g=n<o[0]+c/2;u?(1&u&&(g=!g),e=g?r[0]:r[s-1]):(r.sort(function(n,i){var e=n.Window,r=i.Window;return-l.Cmp.N(t.get(e)[0],t.get(r)[0])||l.Cmp.N(t.zorderOf(e),t.zorderOf(r))}),e=g?r[s-1]:r[0])}else{var d=i<o[1]+f/2;u?(16&u&&(d=!d),e=d?r[0]:r[s-1]):(r.sort(function(n,i){var e=n.Window,r=i.Window;return-l.Cmp.N(t.get(e)[1],t.get(r)[1])||l.Cmp.N(t.zorderOf(e),t.zorderOf(r))}),e=d?r[s-1]:r[0])}}}return e}var e=this.p2XChg(t,n),r=null,s=0;if(e){if(s=257,e.IsNone()){var o=this.mXChgI&&this.mXChgI.get(e);o&&t>l.ROf(o.client)-l.HOf(o.client)&&(s=272)}this.aXChg()&&this.allowD()&&e.IsMin()&&e.IsNone()&&e.GetResizable()&&(s=34)}else{e=this.p2W(t,n);var a=null,h=this.WL(),u=null;if(h&&(u=h.visZ())&&(a=i.call(this,u,t,n)),a&&e){var c=a.Window;if(e!=c){if(u.zorderOf(e)>u.zorderOf(c)){var f=this.w2R(e),g=l.NRt(f,this.w2R(c));l.EyR(g)||l.EqR(f,g)||(a=null)}a&&(e=c)}}a?(s=a.HitTest,e=a.Window):e&&!s&&(r=e,e.rWN()&&(s=34))}return{Window:e,HitTest:s,Client:r}},C.p2WHT=function(t){return t?this.p2HT(t.x,t.y):{Window:null,Client:null,HitTest:0}},C.e2W=function(t){var n=null;return this.CWs().rforEachU(function(i){var e=i.gPtr(t);return e&&i.canvas==t.target&&(n=i.p2W(e.x,e.y))}),n},C.gHov=function(){return this.oHovC||this.oHovW},C.sHov=function(){var t,n=null;return this.dokIn()?n=this.oHovW:(t=this.CWs())&&t.forEach(function(t){n||(n=t.oHovW)}),n},C.getBack=function(t){return l.D.Background},C.getFore=function(t){return l.D.Foreground},C.getHovBack=function(t){return l.D.HoverBackground},C.getHovFore=function(t){return l.D.HoverForeground},C.getOpaq=function(t){return l.D.Opacity},C.getHovOpaq=function(t){return l.D.HoverOpacity},C.getHovDur=function(t){return l.D.HoverDuration},C.isHovC=function(t){return l.D.HoverOnClient},C.lockURXChg=function(){this.rCW().lQURXChg++},C.unlockURXChg=function(){--this.rCW().lQURXChg},C.isURXChgLock=function(){return 0!=this.rCW().lQURXChg},C.addURXChg=function(t){if(t){var n=this.rCW();n.rgQURXChg.splice(n.nQURXChg),n.rgQURXChg.push(t),n.nQURXChg=n.rgQURXChg.length}},C.xURXChg=function(){var t=this.rCW();t.rgQURXChg=[],t.nQURXChg=0},C.isURXChgValid=function(t){var n=this.rCW();if(n.rgQURXChg&&t>=0&&t<n.rgQURXChg.length)return!0},C.doURXChg=function(t,n){var i=this.rCW(),e=i.rgQURXChg[t];if(e){if(i.lockURXChg(),null==e.window)null!=e.from.positions||null!=e.to.positions?this.DoXChgPos(e.from.window,e.to.window,n?e.from.positions:e.to.positions):this.DoXChg(e.to,e.from);else if(null!=e.from||null!=e.to){var r=n?e.from:e.to;this.DoDock(e.window,r.parent,r.dock,r.client,r.pos)}else this.DoToggle(e.window);i.unlockURXChg()}},C.unXChg=function(){if(this.aXChg()){var t=this.rCW();(function(){var t=this.rCW();if(!u.WDN.IsLocked(t)&&t.isAllowURXChg())return t.isURXChgValid(t.nQURXChg-1)}).call(t)&&t.doURXChg(--t.nQURXChg,!0)}},C.rdXChg=function(){if(this.aXChg()){var t=this.rCW();(function(){var t=this.rCW();if(!u.WDN.IsLocked(t)&&t.isAllowURXChg())return t.isURXChgValid(t.nQURXChg)}).call(t)&&t.doURXChg(t.nQURXChg++,!1)}},C.tXChg=function(){function t(t){t.rXChg(),t.Render()}var i=this.rCW();if(function(){var t=this.GetAllowToggleXChgType();return n(t)&&t.length>1}.call(i)){var e,r=i.nAXChg,s=i.rgATXChgT.indexOf(r);r=i.rgATXChgT[Math.max(++s%i.rgATXChgT.length)],i.nAXChg=r,this.dokIn()?t(i):(e=this.CWs())&&e.forEach(function(n){t(n)})}},C.onlayout=function(t){function n(){this.feW(function(n){t.pCtx(n.GetIndex()),n.onlayout(t),t.rCtx()})}function i(){return this.rgW?this.rgW.map(function(t){return t.GetIndex()}).join():""}function e(){return this.WL().toTree()}if(t.IsSave()){var r=e.call(this),s=i.call(this);r&&s&&(t.Add("tree",r),t.Add("order",s)),n.call(this)}else this.bU(),this.dokIn()||(u.WDN.ResetChanges(this.rCW()),this.oWD=null),function(t,n){function r(t){if(null!=t)return"null"==(t=t.trim())?null:l.ToI(t,-1)}if(t&&n&&(t+="",n+="",t!=e.call(this)||n!=i.call(this))){for(var s=!0,o=new l.Arr,a=n.split(","),h=0,u=a.length;s&&h<u;h++){var c=this.W(r(a[h]));(s=null!=c)&&(s=!o.has(c))&&o.add(c)}if(s&&(s=o.equal(this.rgW))){for(var f=new Map,g=l.P(t),d=[],v=[];d&&g.continue();){var p=g.searchForAny("(),");if(!p)break;var C=g.result;switch(C&&d.push(r(C)),g.expression.charAt(g.position+p-1)){case"(":d=[],v.push(d),f.set(r(C),d);break;case")":v.pop(),d=v[v.length-1]}g.position+=p}var m=new l.Arr,S=new Map;f.forEach(function(t,n){if(s&&(null==n||(s=null!=this.W(n)))){var i=this.W(n);t.forEach(function(t){if(s){var n=this.W(t);(s=null!=n)&&(s=!m.has(n))&&(m.add(n),S.set(n,i))}},this)}},this),s&&(s=m.equal(this.rgW))&&(m.forEach(function(t){t.opW=S.get(t)}),null!=this.rgW&&this.rgW.sort(function(t,n){return l.Cmp.I(o.getPos(t),o.getPos(n))},this))}}}.call(this,t.GetValue("tree"),t.GetValue("order")),n.call(this),this.xURXChg(),this.Refresh(),this.eU()},C.GetLayout=function(t){return l.Lay.Save(this.onlayout,this,t)},C.SetLayout=function(t,n){l.Lay.Load(t,this.onlayout,this,n)},C.ondblclkAnchorXChg=function(t){this.isTglOnDblClk()&&this.DoToggle(t)},C.GetWindowRoot=function(){return this.orW},C.SetWindowRoot=function(t){this.orW=this.W(t),this.Refresh()},C.zIndex=function(){return~~l.CSSz(this.canvas)},C.hasW=function(t){return t&&t.oCW==this},C.resetCWC=function(){this.rCW().oCWC=null},C.CWs=function(){var t=this.rCW();return t.oCWC||(t.oCWC=new r(t)),t.oCWC.CWs()},C.rCW=function(){for(var t=this,n=null;t&&(n=t.opCW);)t=n;return t},C.dokIn=function(){return this.rCW().bDNI},C.GetViewRect=function(){return l.EArt(this.canvas)},C.c2V=function(t,n){var i=t,e=n,r=this.GetViewRect();if(1==arguments.length){var s=arguments[0];i=l.G.X(s),e=l.G.Y(s)}return{x:i+r[0],y:e+r[1]}},C.v2C=function(t,n){var i=t,e=n,r=this.GetViewRect();if(1==arguments.length){var s=arguments[0];i=l.G.X(s),e=l.G.Y(s)}return{x:i-r[0],y:e-r[1]}},C.c2Vrt=function(t){var n=this.c2V(t);return[n.x,n.y,t[2],t[3]]},C.v2Crt=function(t){var n=this.v2C(t);return[n.x,n.y,t[2],t[3]]},C.pInV=function(t,n){var i=t,e=n,r=this.GetViewRect();if(1==arguments.length){var s=arguments[0];i=l.G.X(s),e=l.G.Y(s)}return l.PInR(i,e,r)},C.p2CW=function(t,n){var i,e=null,r=this.c2V(t,n);return this.dokIn()?this.pInV(r)&&(e={oCW:this,x:t,y:n}):(i=this.CWs())&&i.rforEachU(function(t){if(t.pInV(r)){var n=t.v2C(r);return e={oCW:t,x:n.x,y:n.y},!0}}),e},C.onWLChange=function(t){!t.dokIn()&&(this.oWD=this.oWD||new s(this,this.onDokN,!0)).onWLChange()},C.onDokN=function(t,n){this.lE++,u.WDN.ApplyChanges(this.rCW(),n),--this.lE},C.GetSBs=function(){return this.nSBs},C.SetSBs=function(t){t=null==t?this.nDefSBs:t,this.nSBs!=t&&(this.nSBs=t,this.feW(function(t){(t.oHS||t.oVS)&&this.aSBs(t)},this),this.Refresh(),12288&this.nSBs&&this.hovWC())},C.gSBs=function(){return this.nSBs},C.onASBs=function(t){this.rgSB=null,this.aSBs(t)},C.aSBs=function(t){var n=this.gSBs();n&&(t.oHS&&(t.oHS.SetScrollOnThumbRelease(256==(256&n)),t.oHS.SetIgnoreLargeChange(1024==(1024&n))),t.oVS&&(t.oVS.SetScrollOnThumbRelease(512==(512&n)),t.oVS.SetIgnoreLargeChange(2048==(2048&n))),t.onExtSBs(12288==(12288&n)),t.onMinSBs(49152==(49152&n)),t.onHidSBs(65536==(65536&n)))},C.isScrlVis=function(t){var n=t.oC.isSP(),i=this.rgSB;if(i||(i={h:new l.Arr,v:new l.Arr},this.feW(function(t){t.oHS&&i.h.push(t.oHS.W()),t.oVS&&i.v.push(t.oVS.W())},this),this.rgSB=i),i){var e=this.gSBs();i.h.has(t)&&(0!=e&&1&e?5==(5&e)&&(n=!0):n=!1),i.v.has(t)&&(0!=e&&2&e?10==(10&e)&&(n=!0):n=!1)}return n},u.WDN=function(){function t(t){function i(n,i){if(n&&i){var e=t.WL();if(e){var r=e.getChildRec(n);r&&r.forEach(function(t){t.oncw(i)})}}}function e(t){var n=t.oCW.canvas;l.CC.Dispose(n),a(n).oCW=null,l.doc.body.removeChild(n)}function r(r,s,o){if(r&&(s||o)){null!=o&&0==o.dock&&(null!=s&&s.dock==o.dock||function(n,i){var i=n.GetClient(),e=t.GetViewRect();l.ORt(i,e[0],e[1]);var r=l.doc.createElement("canvas");r.className=l.Def.CN.exWN,r.style.position="absolute",r.style.zIndex=t.zIndex()+(1+n.GetPosition()),r.tabIndex=0,r.style.zoom=t.canvas.style.zoom,l.doc.body.appendChild(r),l.ETo(r,i);var s=new u(r);n.oncw(s),s.opCW=t,s.orW=n,s.rgW=t.rgW,s.oSts=t.oSts,a(r).oCW=s}(r)),null!=s&&0==s.dock&&(null!=o&&o.dock==s.dock||e(r));var h=function(n){return n?n.oCW:t}(r.rWN());i(r,h);var c=r.GetVisible();r.isCWN()&&(l.EShow(h.canvas,c),c&&r.updCWN()),c&&(o&&!h.canADock(r,o.parent,o.dock)||function(i,e){var r=!1,s=function(i){var e=null;if(n){var r=n.get(t);null!=r&&(e=r.get(i))}return e}(i);if(s){var o=function(t){return t.compView()}(i);if(r=o&&!l.EqR(s,o)){var a=i.oCW;a.lR++,a.lPR++,setTimeout(function(){--a.lR,--a.lPR,a.refCWN(!0),i.Smooth(function(){var t=a.WL().oZ,n=new f(a,i);a.lSiz++,n.RLC(a.v2Crt(s)),--a.lSiz,n.oZ.forEach(function(n,i){t.set(i,n)})},{name:m,thisArg:i})})}}}(r,s&&s.minimized||o&&o.minimized)),t!=h&&(h.canvas.style.zIndex=t.zIndex()+(1+r.GetPosition()))}}function o(n){if(n&&t&&!t.lDokN){t.lDokN++,t.lHovWC(),t.lE++,n=s.sortDockN(n),t.resetCWC(),n.forEach(function(t){r(t.window,t.from,t.to)});var i;t.lPR&&(i=t.lPR,t.lPR=0),t.Refresh(),null!=i&&(t.lPR=i),--t.lE,t.uHovWC(),--t.lDokN||t.Refresh()}}function h(){t&&(n=n||new Map).set(t,function(){var n,i=null;return t&&(i=new Map,t.rgW&&t.rgW.forEach(function(t){(n=t.GetViewRect())&&i.set(t,n)})),i}())}return{applyChanges:o,resetChanges:function(){if(t){var n=t.rgW;if(n){t.resetCWC();var r=[];n.forEach(function(t){t.isCWN()&&r.push(t)}),r.forEach(function(n){e(n),i(n,t)})}}},save:h,isLocked:function(){return t&&t.lDokN}}}var n=null;return{ApplyChanges:function(n,i){t(n).applyChanges(i)},ResetChanges:function(n){t(n).resetChanges()},Save:function(n){t(n).save()},IsLocked:function(n){return t(n).isLocked()}}}();var S=c.prototype;S.build=function(t){function n(t,n){var e="",r=t.length;if(n<r){for(var s=n;s<r-1;s++)e+=t[s]+i;e+=t[s]}return e}this.rgW=t.rgW,this.mN=new Map,this.rgC=new Map,this.mWI=new Map,this.mSN=new Map;var i=t.sIPNSep;t.feW(function(e,r){this.mWI.set(e,r);var s=e.GetName(),o=s;if(this.mN.set(s,e),t.bIPN)for(var a,h=s.split(i),u=1,l=h.length;u<l;u++)!this.mN.has(a=n(h,u))&&this.mN.set(o=a,e);this.mSN.set(e,o),this.rgC.set(e.oC,e)},this)},S.Get=function(t){var n=null;return t instanceof d?null!=this.mWI.get(t)&&(n=t):l.IsS(t)?n=this.mN.get(t):l.IsI(t)?t>=0&&t<this.rgW.len()&&(n=this.rgW.at(t)):n=this.rgC.get(t),n},S.getIndexOf=function(t){var n=-1,i=this.Get(t);if(i){var e=this.mWI.get(i);null!=e&&(n=e)}return n},S.GetShortName=function(t){var n=this.mSN.get(t);return null!=n?n:null};var E=f.prototype;E.Ws=function(){return this.oCW.rgW},E.buildWP=function(t,n,i){function e(t,n,i){var e=t.get(n);null==e&&t.set(n,e=[]),e.push(i)}var r=null;return null!=t&&(r=new Map,t.forEach(function(t){var i=t.opW,s=t.GetDock();switch(t.GetDock()){case 5:e(r,i,t);break;case 1:case 2:case 3:case 4:e(r,i,t);break;default:0==s&&null!=n&&n.push(t),e(r,i,t)}},this)),r},E.buildW=function(t){var n=null;if(t){n=new l.Arr(t);for(var i=0;i<n.len();i++)n.pushnn(this.getChild(n.at(i)))}return n},E.doWZOrd=function(t,n,i){function e(t){i&&i.has(t)||r.push(t);var n=this.mWP.get(t);n&&n.forEach(function(t){t.IsNone()||e.call(this,t)},this)}var r=null;return this.mWP&&(r=[],e.call(this,t),n.forEach(function(t){e.call(this,t)},this)),r},E.build=function(){var t=this.root(),n=this.Ws(),i=[],e=new l.Arr;this.mWP=this.buildWP(n,i,e),this.rgW=i.slice(),null!=t&&(n=this.buildW(t)),this.mWExt=this.doWExt(n),this.mWHovExt=this.doWHovExt(n),this.mWVisExt=this.doWVisExt(n),this.mWSizeExt=this.doWSizeExt(n),this.shareWSizeExt(this.oCW,this.mWSizeExt),t||this.oCW.dokIn()||this.ignoreWZOrd(i,e),this.rgWZOrd=this.doWZOrd(t,i,e)},E.ignoreWZOrd=function(t,n){n&&t&&t.forEach(function(t){(function(t,n){n&&t&&n.push(this.getChildRec(t))}).call(this,t,n)},this)},E.doWExt=function(t){var n=this.doExt(t,b.getExtends);return n&&n.forEach(function(t,i){!function(t,i){if(t)for(var e=0;e<t.len();e++)t.pushnn(n.get(t.at(e)))}(t)},this),n},E.doExtRec=function(t,n){var i;if(t){var e,r,s=new Map,o=new l.Arr;t.forEach(function(t){(e=n.call(t))&&s.set(t,new l.Arr(t,e))}),i=new Map,s.forEach(function(t,n){!o.has(n)&&(r=function(t,n){var i=!0,e=new l.Arr(t),r=n.get(t);for(r&&e.push(r);i;)i=!1,n.forEach(function(t){if(e.forEachU(function(n){return t.has(n)})){var n=e.len();e.push(t),i=e.len()>n}});return e.len()>1?e:null}(n,s))&&(o.push(r),r.forEach(function(t){i.set(t,r)}))})}return i&&i.size?i:null},E.doExt=function(t,n){if(t){var i=new Map;if(t.forEach(function(t){var e=n.call(t);e&&i.set(t,new l.Arr(e))}),i.size)return i}return null},E.doWHovExt=function(t){return this.doExtRec(t,b.getHoverExtends)},E.getHovExt=function(t){return this.mWHovExt?this.mWHovExt.get(t):null},E.doWVisExt=function(t){return this.doExt(t,b.getVisibleExtends)},E.getVisExt=function(t){var n=null;return this.mWVisExt&&(n=this.mWVisExt.get(t)),n},E.isVisExt=function(t){function n(t){return t.isVisible()&&!t.IsMinRec()}var i=t.isVisible();if(i){var e=this.getVisExt(t);e&&(e.has(t)?(i=!1,e.forEachU(function(e){if(e!=t)return i|=n(e)})):e.forEachU(function(t){if(!(i=n(t)))return!0}))}return i},E.isVisibleRL=function(t){return this.isVisExt(t)||t.IsMinRec()},E.doWSizeExt=function(t){return this.doExtRec(t,b.getSizeExtends)},E.getSizeExt=function(t){return(this.mWSizeExt?this.mWSizeExt.get(t):null)||null},E.shareWSizeExt=function(t,n){if(n){t.lRLC++;var i=new l.Arr;n.forEach(function(t,n){if(!i.has(n)){var e=n.GetSize();t.forEach(function(t){n!==t&&n.onSizeExtTo(t,e)}),i.push(n,t)}}),--t.lRLC}},E.reqMinSize=function(){for(var t={width:0,height:0},n=this.root(),i=[n],e=this.mWP,r=0;r<i.length;r++){var s=i[r],o=null;(s==n||this.isVisExt(s))&&(o=e.get(s))&&o.forEach(function(n){if(this.isVisExt(n)){switch(n.GetDock()){case 1:case 2:t.height+=n.GetSize(),n.isResizable()&&(t.height+=n.getSplitSize());break;case 3:case 4:t.width+=n.GetSize(),n.isResizable()&&(t.width+=n.getSplitSize())}e.get(n)&&i.push(n)}},this)}return t},E.getChild=function(t){return this.mWP.get(t)},E.getChildRec=function(t){for(var n,i=[t],e=0;e<i.length;e++)(n=this.getChild(i[e]))&&i.push.apply(i,n);return i},E.w2R=function(t){var n=this.oZ;return n&&n.get(t)},E.isVisible=function(t){var n=this.oZ;return n&&n.has(t)},E.getZOrd=function(t){var n=this.oZ;return n?n.zorderOf(t):-1},E.root=function(){return this.orW},E.RLC=function(t){function n(t){function n(t,n,i){var e=null,r=[1,2,4,8];if(!l.EyR(n)&&l.EyR(l.NRt(t,n))){switch(i){case 3:case 4:r=[2,8];break;case 1:case 2:r=[1,4]}r.forEach(function(i){e=l.URt(e,function(t,n,i){var e=1==i||4==i?2:3,r=n[e],s=function(t,n,i){switch(t=t.slice(),n){case 1:t[0]-=i,t[2]+=i;break;case 4:t[2]+=i;break;case 2:t[1]-=i,t[3]+=i;break;default:t[3]+=i}return t}(t,i,r),o=l.NRt(s,n);if(!l.EyR(o)&&r==o[e])return s}(t,n,i))})}return e}if(t&&this.mWExt)for(var i,e=this.oCW,r=!0;r;)r=!1,this.mWExt.forEach(function(s,o){var a=t.get(o);!l.EyR(a)&&s.forEach(function(s){if(!i||!i.get(o)||!i.get(o).has(s)){var h=t.get(s);if(h){var u=n(a,h,o.GetDock());if(u){var c=(i=i||new Map).get(o);if((c=c||new l.Arr).push(s),i.set(o,c),t.set(o,a=u),t.zorderOf(s)<t.zorderOf(o)){var f=e.getCommonParent([o,s]);t.xchg(f.descendants.first(),f.descendants.last())}r=!0}}}})})}if(t){var i=(t=t.slice()).slice(),e=new Map,r=new Map,s=!1,o=!0;switch(this.nRLCType){case 0:s=!0;break;case 2:s=!0,o=!1;break;case 3:var a=this.reqMinSize();t[2]=Math.max(a.width,t[2]),t[3]=Math.max(a.height,t[3])}var h=this.root(),u=[h],c=this.mWP,f=l.BOf(t),d=l.ROf(t);if(e.set(h,t.slice()),c)for(var v=0;v<u.length;v++){var p=u[v],C=null;if((p==h||this.isVisibleRL(p))&&(C=c.get(p))){var m=p==h?t:p.deflateClient(e.get(p));C.forEach(function(t){if(this.isVisibleRL(t)){switch(t.GetDock()){case 5:e.set(t,m);break;case 1:(i=m.slice())[3]=t.GetSize();n=(i=t.inflateClient(i))[3];(s||!o||m[3]>=n&&l.BOf(i)<=f)&&(s&&((i=l.NRt(i,m))||((i=m.slice())[3]=0)),e.set(t,i),m[1]+=n,m[3]-=n);break;case 2:(i=m.slice())[3]=t.GetSize(),i[1]=m[1]+m[3]-i[3];var n=(i=t.inflateClient(i))[3];(s||!o||m[3]>=n)&&(s&&((i=l.NRt(i,m))||((i=m.slice())[1]=l.BOf(m),i[3]=0)),e.set(t,i),m[3]-=i[3]);break;case 3:(i=m.slice())[2]=t.GetSize();r=(i=t.inflateClient(i))[2];(s||!o||m[2]>=r&&l.ROf(i)<=d)&&(s&&((i=l.NRt(i,m))||((i=m.slice())[2]=0)),e.set(t,i),m[0]+=r,m[2]-=r);break;case 4:var i=m.slice();i[2]=t.GetSize(),i[0]=m[0]+m[2]-i[2];var r=(i=t.inflateClient(i))[2];(s||!o||m[2]>=r)&&(s&&((i=l.NRt(i,m))||((i=m.slice())[0]=l.ROf(m),i[2]=0)),e.set(t,i),m[2]-=r);break;default:e.set(t,t.GetClient().slice())}m[2]=Math.max(0,m[2]),m[3]=Math.max(0,m[3]),e.get(t)&&c.get(t)&&u.push(t)}},this),r.set(p,m)}}switch(this.nRLCType){case 2:var S=new Map,E=new Map;e.forEach(function(t,n){t[2]>0&&t[3]>0&&l.NRt(i,t)&&S.set(n,t)},this),r.forEach(function(t,n){t[2]>0&&t[3]>0&&E.set(n,t)},this),e=S,r=E;break;case 3:var T=new Map;e.forEach(function(t,n){l.NRt(i,t)&&T.set(n,t)},this),e=T}this.oZ=function(t){var n,i;return this.rgWZOrd&&t.size&&(n=new g,this.rgWZOrd.forEach(function(e){e&&(i=t.get(e))&&n.push(e,i)},this)),n}.call(this,e),n.call(this,this.oZ),function(t){t&&t.forEach(function(n,i){n&&i.onZ(t.rgWData)})}.call(this,this.oZ),this.oPWA=function(t){var n;return t.size&&(n=new g,t.forEach(function(t,i){n.push(i,t)})),n}.call(this,r),this.mInv=null,this.onsize(this.oCW.opZ,this.oZ)}},E.w2Inv=function(t){this.mInv=this.mInv||new Map;var n=this.mInv.get(t);return void 0===n&&this.mInv.set(t,n=function(t){var n,i,e=this.oZ;return e&&!l.EyR(i=e.get(t))&&((n=new g).cbkget=e.cbkget,e.forEach(function(t,e){!l.EyR(l.NRt(i,t))&&n.push(e,t)})),n&&n.len()&&n||null}.call(this,t)),n},E.visZ=function(){return this.oZ},E.hasZ=function(){return this.oZ&&this.oZ.forEachU(function(t){return!l.EyR(t)})},E.sZ=function(){this.osZ=null,this.oZ&&(this.osZ=this.oZ.copy(function(t){return t.slice()},this))},E.lZ=function(){this.onsize(this.osZ,this.oZ),this.osZ=null},E.onsize=function(t,n,i){if(function(t){return!t.lSiz||l.A.Rng(m)}(this.oCW)||i){this.oCW.lR++;var e=[],r=[],s=[];t&&t.forEach(function(t,i){n&&n.has(i)||e.push(i)}),n&&n.forEach(function(n,i){t&&t.has(i)||r.push(i)}),t&&n&&n.forEach(function(n,i){var e=t.get(i);e&&!l.EqR(n,e)&&s.push(i)}),e.forEach(function(n){n.onsize({old:t.get(n)})}),r.forEach(function(t){t.onsize({new:n.get(t)})}),s.forEach(function(i){i.onsize({old:t.get(i),new:n.get(i)})}),--this.oCW.lR}},E.toTree=function(){function t(n,i){var e,r,s=function(t){return t?t.GetIndex():null}(i);return n&&(e=n.get(i))&&(s+="(",r=!0,e.forEach(function(i){r||(s+=","),s+=t(n,i),r=!1}),s+=")"),s}return t(this.mWP,null)};var T=g.prototype;T.clear=function(){this.rgW.splice(0),this.rgWZOrd.clear(),this.rgWData.clear()},T.copy=function(t,n){var i=new g;return i.rgW=l.CpA(this.rgW),i.rgWZOrd=l.CpM(this.rgWZOrd),i.rgWData=l.CpM(this.rgWData,t,n||this),i},T.push=function(t,n){this.has(t)||(this.rgWZOrd.set(t,this.rgW.length),this.rgW.push(t)),this.rgWData.set(t,n)},T.set=function(t,n){this.has(t)&&this.rgWData.set(t,n)},T.indexOf=function(t){var n=this.rgWZOrd.get(t);return void 0!=n?n:-1},T.zorderOf=function(t){return this.indexOf(t)},T.has=function(t){return~this.indexOf(t)},T.get=function(t){var n=this.rgWData.get(t);return this.cbkget&&(n=this.cbkget.call(this,t,n)),n},T.forEach=function(t,n){for(var i,e=0,r=this.rgW.length;e<r;e++)t.call(n,this.get(i=this.rgW[e]),i,this)},T.forEachU=function(t,n){for(var i,e,r=0,s=this.rgW.length;!i&&r<s;r++)i=t.call(n,this.get(e=this.rgW[r]),e,this);return i},T.rforEach=function(t,n){for(var i,e=this.rgW.length-1;e>=0;e--)t.call(n,this.get(i=this.rgW[e]),i,this)},T.rforEachU=function(t,n){for(var i,e=this.rgW.length-1;e>=0&&!t.call(n,this.get(i=this.rgW[e]),i,this);e--);},T.W=function(t){return t>=0&&t<this.rgW.length?this.rgW[t]:null},T.len=function(){return this.rgW.length},T.xchg=function(t,n){if(t&&n&&t!=n){for(var i=-1,e=[],r=-1,s=[],o=0,a=this.rgW.length;o<a;o++)(h=this.rgW[o])==t&&(i=o),h.IsChildOf(t)&&e.push(h),h==n&&(r=o),h.IsChildOf(n)&&s.push(h);if(i>=0&&r>=0){for(var h,u=[],c=new l.Arr(e,s),o=0;o<a;o++)h=this.rgW[o],c.has(h)?o==i?s.forEach(function(t){u.push(t)}):o==r&&e.forEach(function(t){u.push(t)}):u.push(h);this.rgW=u,this.rgWZOrd.clear();for(var o=0,a=this.rgW.length;o<a;o++)this.rgWZOrd.set(this.rgW[o],o)}}};var b=d.prototype;return d.Options={Visible:!0,VisibleExtends:null,AllowKeys:!1,Enabled:!0,Resizable:!0,Locked:!1,Dock:5,Size:24,SizeExtends:null,Client:[0,0,128,128],Background:null,Foreground:null,Opacity:null,HoverBackground:null,HoverForeground:null,HoverOpacity:null,DrawWindowFrame:!0,Extends:null,HoverExtends:null,AllowXChg:!0,XChgID:"name",Control:null,HScroll:null,VScroll:null,Layout:"client,restoreClient,nDk,bRsza,bDWF,bVis"},b.Add=function(t,n){return this.oCW.add(t,this,n)},b.toString=function(){return this.GetName()},b.GetIndex=function(){return this.oCW.getIndexOf(this)},b.GetName=function(){return this.name},b.GetShortName=function(){return this.oCW.getShortName(this)},d.GetParentD=function(t){for(var n=t;n&&!n.IsDockable();)n=n.opW;return n},b.IsChildOf=function(t){if(!t)return!0;for(var n=this;n&&n!=t;)n=n.opW;return null!=n},b.GetLevel=function(){for(var t=0,n=this;n=n.opW;)t++;return t},b.GetZOrder=function(){return this.oCW.getZOrd(this)},b.GetPosition=function(){return this.oCW.getPos(this)},b.SetPosition=function(t){this.GetPosition()!=t&&(this.oCW.setPos(this,t),this.onUI())},b.onRLC=function(){this.oCW.resRLC()},b.onUI=function(){this.oCW.onUI()},b.isVisible=function(){var t=this.GetVisible();return t&&5!=this.GetDock()&&(t=!this.isEmpty()),t&&this.isScroll()&&(t=this.oCW.isScrlVis(this)),t},b.isScroll=function(){return l.SB&&this.oC instanceof l.SB},b.isResizable=function(){return this.GetResizable()&&this.isSelectable()&&!this.IsMin()&&5!=this.GetDock()},b.isSplitable=function(){return this.isResizable()},b.hasSplit=function(){return this.getSplitSize()>0&&this.isSplitable()},b.isLocked=function(){for(var t=this.GetLocked(),n=this;!t&&(n=n.opW);)t=n.GetLocked();return t},b.isSelectable=function(){return this.isEnabled()&&!this.isLocked()},b.isEnabled=function(){if(this.oCW.isEnabled()){for(var t=this.GetEnabled(),n=this;t&&(n=n.opW);)t=n.GetEnabled();return t}},b.isAP=function(t,n){return this.isEnabled()&&this==this.oCW.p2W(t,n)&&this.oCW.isAP(t,n)},b.isDisabled=function(){return!this.isEnabled()},b.GetVisible=function(){return this.bVis},b.SetVisible=function(t){this.bVis!=t&&(this.bVis=t,this.onUI())},b.getVisibleExtends=function(){return this.splitExtends(this.GetVisibleExtends(),!1)},b.getVisExt=function(){return this.oCW.getVisExt(this)},b.GetVisibleExtends=function(){return this.sVisExt},b.SetVisibleExtends=function(t){this.GetVisibleExtends()!=t&&(this.sVisExt=t,this.onUI())},b.GetEnabled=function(){return this.bE},b.SetEnabled=function(t){this.bE!=t&&(this.cTB=null,this.cTF=null,this.nTOq=null,this.bE=t)},b.isAllowKeys=function(){return this.isSelectable()&&this.GetAllowKeys()},b.GetAllowKeys=function(){return this.bAK},b.SetAllowKeys=function(t){this.bAK=t},b.GetResizable=function(){return this.bRsza},b.SetResizable=function(t){this.bRsza!=t&&(this.bRsza=t,this.onRLC())},b.GetLocked=function(){return this.bLkd},b.SetLocked=function(t){this.bLkd!=t&&(this.bLkd=t,this.onRLC())},b.GetDrawWindowFrame=function(){return this.bDWF},b.SetDrawWindowFrame=function(t){this.bDWF!=t&&(this.bDWF=t,this.onRLC())},b.GetBackground=function(){return this.cB},b.SetBackground=function(t){this.cB!=t&&(this.cTB=null,this.cB=t)},b.GetForeground=function(){return this.cF},b.SetForeground=function(t){this.cF!=t&&(this.cTF=null,this.cF=t)},b.GetHoverBackground=function(){return this.cHB},b.SetHoverBackground=function(t){this.cHB!=t&&(this.cTB=null,this.cHB=t)},b.GetHoverForeground=function(){return this.cHF},b.SetHoverForeground=function(t){this.cHF!=t&&(this.cTF=null,this.cHF=t)},b.isEmpty=function(){return!this.aXChg()&&!this.isResizable()&&(this.IsDockable()?this.getDockSize()<=0:this.client[2]<=0||this.client[3]<=0)},b.GetChildren=function(){return this.oCW.getChild(this)},b.IsMin=function(){return this.restoreClient&&l.EyR(this.client)&&this||null},b.IsMinRec=function(){return this.IsMin()||this.IsChildOfMin()},b.IsChildOfMin=function(){for(var t=null,n=this;!t&&(n=n.opW)&&!n.IsNone();)t=n.IsMin();return t},b.IsVisible=function(){return this.oCW.isVisible(this)},b.IsNone=function(){return 0==this.GetDock()},b.IsFill=function(){return 5==this.GetDock()},b.IsDocked=function(){return!this.IsNone()},b.IsDockable=function(){return this.IsDocked()&&!this.IsFill()},d.AreDocksEquivalent=function(t,n){if(t!=n){if(0==t||0==n)return!1;if(5!=t&&5!=n)switch(t){case 3:case 4:switch(n){case 1:case 2:return!1}break;case 1:case 2:switch(n){case 3:case 4:return!1}}}return!0},b.rWN=function(){for(var t=this;t&&!t.IsNone();)t=t.opW;return t},b.isCWN=function(){return this.IsNone()&&this.oCW.opCW},d.GetXChgDockToggle=function(){return 6},b.GetDock=function(){return this.nDk},b.SetDock=function(t){if(this.GetDock()!=t){var n=this.GetSize();this.nDk=t,this.SetSize(n),this.onUI()}},b.ensCMin=function(t){if(t){var n=this.getMinSize(),i=Math.max(n.width,t[2]);t[0]=l.ROf(t)-i,t[2]=i,t[3]=Math.max(n.height,t[3])}return t},b.setCanvasRect=function(t,n){this.IsMin()&&(t=this.ensCMin(t));var i=l.ETo(this.oCW.canvas,t);return(i||n)&&this.oCW.Resize(),i},b.updCWN=function(t){var n=!1;if(this.isCWN()){var i=this.oCW.rCW().GetViewRect(),e=this.GetClient();n=this.setCanvasRect(l.ORt(e,i[0],i[1]),t)}return n},b.refCWN=function(){return this.updCWN(!0)},b.SetClient=function(t){this.setClient(t),this.updCWN()},b.v2WC=function(t){var n,i,e,r,s=this.GetDock(),o=this.GetClient();if(l.IsN(t))r=Math.max(0,l.ToN(t)),(n=1==s||2==s)?o[3]=r:(n=3==s||4==s)&&(o[2]=r);else if(n=l.IsA(t)&&(r=Math.min(4,t.length))){for(var a=0;a<r;a++)o[a]=l.ToN(t[a]);o[2]=Math.max(0,o[2]),o[3]=Math.max(0,o[3]),(i=1==s||2==s)?o[2]=0:(e=3==s||4==s)&&(o[3]=0),(i||e)&&(o[0]=0,o[1]=0)}return n&&o},b.setClient=function(t){var n=this.v2WC(t);return n&&(this.bClient(),this.client=n,this.eClient(),this.onRLC()),!!n},b.aClient=function(){},b.bClient=function(){},b.eClient=function(){var t=this.oCW;if(!t.lRLC&&!t.lClt){t.lClt++;var n=this.getSizeExt();if(n){t.lRLC++;var i=this.GetSize();n.forEach(function(t){t!=this&&this.onSizeExtTo(t,i)},this),--t.lRLC}--t.lClt}},b.onSizeExtTo=function(t,n){if(function(t){return this.IsDockable()&&t.IsDockable()&&this.oCW==t.oCW&&d.AreDocksEquivalent(this.GetDock(),t.GetDock())}.call(this,t)){var i=this.IsMin();i&&!n?t.Minimize():!i&&n&&t.Restore(),t.SetSize(n)}},b.Minimize=function(){if(!this.IsMin()){var t,n=this.GetClientCanvasRect();n&&(this.restoreClient=n,t=l.G.R2C(n,20),this.SetClient([l.G.X(t),l.G.Y(t),0,0]))}},b.getRestoreClient=function(){var t,n,i=this.restoreClient;return i&&((t=this.GetClientCanvasRect())&&(n=l.G.R2C(t,20),i[0]=l.G.X(n)-i[2],i[1]=l.G.Y(n)),l.EyR(i)&&(i[2]=Math.max(d.Options.Size,i[2]),i[3]=Math.max(d.Options.Size,i[3]))),i},b.Restore=function(){if(this.restoreClient){this.resMinSize();var t=l.C2R(this.getRestoreClient());this.restoreClient=null,this.SetClient(t)}},b.buildMinSize=function(){var t=d.Options.Size,n={width:t,height:t/2},i=this.oCW.getXChgI(this);return i&&(n.width=Math.max(n.width,i.client[2]+l.D.AnchorXChgInflate),n.height=Math.max(n.height,i.client[3]+l.D.AnchorXChgInflate/2)),n},b.resMinSize=function(){this.oMinS=null},b.getMinSize=function(){return this.oMinS||(this.oMinS=this.buildMinSize())},b.getDockSize=function(){var t=0;if(this.client)switch(this.aClient(),this.GetDock()){case 1:case 2:t=this.client[3];break;case 3:case 4:t=this.client[2]}return Math.max(0,t)},b.setDockSize=function(t){this.setClient(Math.max(l.ToN(t),0))},b.GetClient=function(){return this.aClient(),l.C2R(this.client)},b.GetSize=function(){return this.getDockSize()},b.SetSize=function(t){this.setDockSize(t)},b.getSizeExtends=function(){return this.splitExtends(this.GetSizeExtends())},b.getSizeExt=function(){return this.oCW.getSizeExt(this)},b.GetSizeExtends=function(){return this.sSizeExt},b.SetSizeExtends=function(t){this.GetSizeExtends()!=t&&(this.sSizeExt=t,this.onUI())},b.getSplitSize=function(){return Math.max(l.ToN(l.D.WindowSplitSize),0)},b.inflateClientSize=function(t,n){if(t){var i=t.slice();if(n&&this.isResizable())switch(this.GetDock()){case 0:l.IRt(i,n,n);break;case 1:i[3]+=n;break;case 2:i[1]-=n,i[3]+=n;break;case 3:i[2]+=n;break;case 4:i[0]-=n,i[2]+=n}return i[3]=Math.max(0,i[3]),i}return t},b.inflateClient=function(t){return this.inflateClientSize(t,+this.getSplitSize())},b.deflateClient=function(t){return this.inflateClientSize(t,this.IsNone()?0:-this.getSplitSize())},b.splitExtends=function(t,n){var i=null;if(null!=t){var e=String(t).trim().split(",");if(0!=e.length){n=null==n||n;var r=new l.Arr;e.forEach(function(t){var i=this.oCW.W(t.trim());!i||n&&i==this||r.push(i)},this),0!=r.len()&&(i=r)}}return i},b.getExtends=function(){return this.splitExtends(this.GetExtends())},b.GetExtends=function(){return this.sExt},b.SetExtends=function(t){this.GetExtends()!=t&&(this.sExt=t,this.sExtSBS=this.sExt||this.sExtSBS,this.onUI())},b.getHoverExtends=function(){return this.splitExtends(this.GetHoverExtends())},b.getHovExt=function(){return this.oCW.getHovExt(this)},b.GetHoverExtends=function(){return this.sHovExt},b.SetHoverExtends=function(t){this.GetHoverExtends()!=t&&(this.sHovExt=t,this.onUI())},b.GetOpacity=function(){return this.nOq},b.SetOpacity=function(t){this.nOq!=t&&(this.nTOq=null,this.nOq=t)},b.GetHoverOpacity=function(){return this.nHOq},b.SetHoverOpacity=function(t){this.nOq!=t&&(this.nTOq=null,this.nHOq=t)},b.onZ=function(t){var n=t.get(this),i=this.IsMinRec();i&&t.set(this,l.G.C2R(l.G.R2C(this.oCW.opZ&&this.oCW.opZ.get(i)||n,20)))},b.aXChg=function(){return this.GetAllowXChg()&&!this.isLocked()&&!this.IsChildOfMin()},b.GetAllowXChg=function(){return this.bAXChg},b.SetAllowXChg=function(t){this.bAXChg!=t&&(this.bAXChg=t,this.onRLC())},b.getXChgID=function(){var t=l.ToS(this.GetXChgID());if(this.oXChgID||(this.oXChgID=l.E.Create(t,"index,name,shortname")),this.oXChgID&&this.oXChgID.IsValid()){var n=this;t=this.oXChgID.Evaluate(function(t){switch(t){case-1:return n.GetIndex();case-2:return n.GetName();case-3:return n.GetShortName()}})}return t},b.GetXChgID=function(){return this.sXChgID},b.SetXChgID=function(t){this.sXChgID!=t&&(this.oXChgID=null,this.sXChgID=t,this.onRLC())},b.GetWindowRect=function(){return this.oCW.w2R(this)},b.getClientRect=function(t){return this.deflateClient(t)},b.GetClientRect=function(){return this.getClientRect(this.GetWindowRect())},b.GetClientCanvasRect=function(){return this.IsNone()?this.GetClient():this.GetClientRect()},b.rt2CW=function(t,n){if(t){t=t.slice();var i=this.oCW;if(i!=n){var e=i.GetViewRect(),r=n.GetViewRect();l.ORt(t,e[0]-r[0],e[1]-r[1])}}return t},b.GetViewRect=function(){var t=null,n=this.GetClientCanvasRect();if(n){var i=this.oCW;this.IsNone()&&(i=i.rCW()),t=i.c2Vrt(n)}return t},b.compView=function(){return this.oCW.compView(this)},b.rtHT=function(t){function n(t,n,i){var e={HitTest:n,Client:i};t.push(e)}var i=this,e=i.deflateClient(t),r={Outside:t,Client:e,rgSplit:[],HitTest:function(t,n){return function(t,n,i){var e=0;if(l.PInR(n,i,t.Outside))if(l.PInR(n,i,t.Client))e=34;else for(var r=t.rgSplit,s=0,o=r.length;!e&&s<o;s++){var a=r[s];l.PInR(n,i,a.Client)&&(e=a.HitTest)}return e}(this,t,n)},SplitHT:function(t,n){var e=function(t,n,i,e){for(var r=null,s=n.rgSplit,o=s.length,a=0;!r&&a<o;a++)f=s[a],l.PInfR(i,e,f.Client)&&(r=f);if(!r&&t.p2HTM(i,e))for(var h=t.iHT()[0],u=t.iHT()[1],c=l.G.C2R([i,e],h,u),a=0;!r&&a<o;a++){var f=s[a];l.NRt(c,l.IRt(f.Client,h/2,u/2))&&(r=f)}return r}(i.oCW,this,t,n);return e&&(e.Window=i),e}};if(this.isSplitable())switch(this.GetDock()){case 0:var s=t.slice();s[2]=l.LOf(e)-l.LOf(t),s[3]=l.TOf(e)-l.TOf(t),n(r.rgSplit,17,s);var o=s.slice();o[0]=l.ROf(e),o[2]=l.ROf(t)-l.ROf(e),n(r.rgSplit,20,o);var a=t.slice();a[1]=l.BOf(e),a[2]=s[2],a[3]=l.BOf(t)-l.BOf(e),n(r.rgSplit,65,a);var h=a.slice();h[0]=l.ROf(e),h[2]=l.ROf(t)-l.ROf(e),n(r.rgSplit,68,h);var u=s.slice();u[0]=l.ROf(s),u[2]=e[2],n(r.rgSplit,18,u);var c=t.slice();c[1]=l.BOf(s),c[2]=s[2],c[3]=e[3],n(r.rgSplit,33,c);var f=t.slice();f[0]=o[0],f[1]=l.BOf(o),f[2]=o[2],f[3]=e[3],n(r.rgSplit,36,f);var g=a.slice();g[0]=l.ROf(c),g[2]=e[2],n(r.rgSplit,66,g);break;case 1:(d=t.slice())[1]=l.BOf(e),d[3]=t[3]-e[3],n(r.rgSplit,66,d);break;case 2:(d=t.slice())[3]=t[3]-e[3],n(r.rgSplit,18,d);break;case 3:(d=t.slice())[0]=l.ROf(e),d[2]=t[2]-e[2],n(r.rgSplit,36,d);break;case 4:var d=t.slice();d[2]=t[2]-e[2],n(r.rgSplit,33,d)}return r},b.gCtx=function(){return this.oCW.ctx},b.getCanvas=function(){return this.oCW.canvas},b.Inv=function(){return this.oCW.Inv(this)},b.Render=function(){return this.oCW.Render(this)},b.inhF=function(t){var n,i=this[t];if(null==i)for(n=this;n&&null==i;)(n=n.opW)&&(i=n[t]);return i},b.getBack=function(){var t=this.cB;return null==t&&(t=this.oCW.getBack(this)),t},b.backNow=function(){return this.cTB||this.getBack()},b.getHovBack=function(){var t=this.cHB;return null==t&&(t=this.oCW.getHovBack(this)),t},b.foreNow=function(){return this.cTF||this.getFore()},b.getFore=function(){var t=this.inhF("cF");return null==t&&(t=this.oCW.getFore(this)),t},b.getHovFore=function(){var t=this.inhF("cHF");return null==t&&(t=this.oCW.getHovFore(this)),t},b.opaqNow=function(){var t=this.nTOq;return null==t&&(t=this.getOpaq()),t},b.getOpaq=function(){var t=this.inhF("nOq");return null==t&&(t=this.oCW.getOpaq(this)),t},b.getHovOpaq=function(){var t=this.inhF("nHOq");return null==t&&(t=this.oCW.getHovOpaq(this)),t},b.hasHov=function(){return this.isEnabled()&&null!=this.getHovBack()||null!=this.getHovFore()||null!=this.getHovOpaq()},b.isHovOver=function(){return l.D.HoverOverride},b.onerase=function(t,n){var i,e;this.isHovOver()?null!=(i=this.backNow())&&t.fillSolidRect(n,i):(e=this.cTB,null!=(i=this.getBack())&&t.fillSolidRect(n,i),null!=e&&(l.C.EqC(i,e)||t.fillSolidRect(n,e))),this.oLts.onerase.do(t)},b.dWF=function(t,n){this.GetDrawWindowFrame()&&l.D.WindowFrame&&l.D.WindowFrame(t,n,this.GetDock())},b.reqcCTX=function(){return null!=this.foreNow()||null!=this.opaqNow()},b.bCTX=function(t){if(this.reqcCTX()){t.saveSts("fillStyle","strokeStyle","globalAlpha");var n=this.foreNow(),i=this.opaqNow();null!=n&&(t.fillStyle=t.strokeStyle=n),null!=i&&(t.globalAlpha=i)}},b.eCTX=function(t){this.reqcCTX()&&t.loadSts()},b.paint=function(t,n){l.EyR(n)||(t.selClip(n),this.bCTX(t),this.onerase(t,n),this.onpaint(t,n),!this.IsNone()&&!this.hasSplit()&&this.dWF(t,n),this.isDisabled()&&t.grayscale(n),this.eCTX(t),t.resClip())},b.onpaint=function(t,n){this.oLts.onpaint.do(t)},b.onHovAttr=function(){this.oCW.onHovAttr(this)},b.xHov=function(){this.hHov&&(l.raf?l.XAF(this.hHov):clearInterval(this.hHov),this.hHov=0)},b.setHov=function(t,n){function i(t,n,i){return null==t[i]&&null==n[i]}this.nHov=null,this.xHov();var e={Background:this.isHovOver()?this.backNow():this.cTB,Foreground:this.foreNow(),Opacity:this.opaqNow()},r=null;i(e,n,"Background")||l.C.Convert(e.Background).EqC(l.C.Convert(n.Background))||(r=l.C.Trans(e.Background,n.Background,64))&&n.ClearTransitionColors&&r.splice(r.length-1,1,null);var s=null;if(!i(e,n,"Foreground")){var o=e.Foreground,a=l.C.Convert(o),h=n.Foreground,u=l.C.Convert(h);a.EqC(u)||(a.IsTrans()&&(o="#000000"),u.IsTrans()&&(h="#000000"),(s=l.C.Trans(o,h,64))&&n.ClearTransitionColors&&s.splice(s.length-1,1,null))}var c=null;if(!i(e,n,"Opacity")){var f=e.Opacity,g=n.Opacity;null==f&&(f=1),null==g&&(g=1),f!=g&&(c=l.N.Trans(f,g,64))&&n.ClearTransitionColors&&c.splice(c.length-1,1,null)}if(r||s||c){var d=this,v=l.Tick(),p=-1;l.raf?this.hHov=l.RAF(function(){var n=l.Tick(),i=Math.floor(Math.max(0,n-v)/(t/64)),e=Math.max(0,Math.min(i,63)),o=i>=64;e<64&&p!=e&&(p=e,r&&(d.cTB=r[e]),s&&(d.cTF=s[e]),c&&(d.nTOq=c[e]),d.nHov=e/63,o||d.onHovAttr()),o&&(d.nHov=null,d.xHov(),d.onHovAttr())}):this.hHov=setInterval(function(){var n=l.Tick(),i=Math.floor(Math.max(0,n-v)/(t/64)),e=Math.max(0,Math.min(i,63)),o=i>=64;e<64&&p!=e&&(p=e,r&&(d.cTB=r[e]),s&&(d.cTF=s[e]),c&&(d.nTOq=c[e]),d.nHov=e/63,o||d.onHovAttr()),o&&(d.nHov=null,d.xHov(),d.onHovAttr())},t/64)}},b.onHovI=function(){if(this.xHov(),this.hasHov()){var t=this.oCW.rCW().getHovDur(this);t?this.setHov(t,{Background:this.getHovBack(),Foreground:this.getHovFore(),Opacity:this.getHovOpaq(),ClearTransitionColors:!1}):(this.cTB=this.getHovBack(),this.cTF=this.getHovFore(),this.nTOq=this.getHovOpaq(),this.onHovAttr())}},b.onHovO=function(){if(this.xHov(),this.hasHov()){var t=this.oCW.rCW().getHovDur(this);t?this.setHov(t,{Background:this.isHovOver()?this.getBack():null,Foreground:this.getFore(),Opacity:this.getOpaq(),ClearTransitionColors:!0}):(this.cTB=null,this.cTF=null,this.nTOq=null,this.onHovAttr())}},b.GetCanvas=function(){return this.oCW.canvas},b.iLts=function(){var t=new l.Lts;t.add("onerase"),t.add("onpaint"),t.add("ondown"),t.add("onsize"),t.add("onexchange"),t.add("onexchangepos"),t.add("ondock"),t.add("ontoggle"),t.add("oncw"),t.add("onio"),t.add("onmousemove"),t.add("onmousedown"),t.add("onmouseup"),t.add("onmouseout"),t.add("onmouseover"),t.add("onpointermove"),t.add("onpointerdown"),t.add("onpointerup"),t.add("onpointercancel"),t.add("ontouchstart"),t.add("ontouchmove"),t.add("ontouchend"),t.add("ontouchcancel"),t.add("onwheel"),t.add("oncontextmenu"),t.add("onkeydown"),t.add("onkeyup"),t.add("onkeypress"),t.add("onhscroll"),t.add("onhclick"),t.add("onvscroll"),t.add("onvclick"),this.oLts=t},b.SetC=function(t){this.oC!=t&&(this.oC&&(null!=this.oC._setcontrol_&&(this.oC.oW=this.oC._setcontrol_.oW,this.oC.oninv=this.oC._setcontrol_.oninv,this.oC.GetClientRect=this.oC._setcontrol_.GetClientRect,this.oC.GetCanvas=this.oC._setcontrol_.GetCanvas,this.oC._setcontrol_=null),this.oCW.oSts&&this.oC.udefSts&&this.oC.udefSts(this.oCW.oSts),this.oLts.removeAnyOf(this.oC),this.oC.dettach&&this.oC.dettach()),this.oC=t,this.oC&&(this.oC._setcontrol_={oW:this.oC.oW,oninv:this.oC.oninv,GetCanvas:this.oC.GetCanvas,GetClientRect:this.oC.GetClientRect},this.oC.oW=this,this.oC.oninv=function(t){this.oW.Inv()},this.oC.GetCanvas=function(){return this.oW.GetCanvas()},this.oC.GetClientRect=function(){var t=this.oW.GetClientRect();return null==t&&(t=l.C2R(t)),t},this.oCW.oSts&&this.oC.defSts&&this.oC.defSts(this.oCW.oSts),this.oLts.add("onerase",this.oC),this.oLts.add("onpaint",this.oC),this.oLts.add("onsize",this.oC),this.oLts.add("onexchange",this.oC),this.oLts.add("onexchangepos",this.oC),this.oLts.add("ondock",this.oC),this.oLts.add("ontoggle",this.oC),this.oLts.add("oncw",this.oC),this.oLts.add("onio",this.oC),this.oLts.add("ondown",this.oC),this.oLts.add("onmousemove",this.oC),this.oLts.add("onmousedown",this.oC),this.oLts.add("onmouseup",this.oC),this.oLts.add("onmouseout",this.oC),this.oLts.add("onmouseover",this.oC),this.oLts.add("onpointerstart",this.oC),this.oLts.add("onpointermove",this.oC),this.oLts.add("onpointerend",this.oC),this.oLts.add("onpointercancel",this.oC),this.oLts.add("ontouchstart",this.oC),this.oLts.add("ontouchmove",this.oC),this.oLts.add("ontouchend",this.oC),this.oLts.add("ontouchcancel",this.oC),this.oLts.add("onwheel",this.oC),this.oLts.add("oncontextmenu",this.oC),this.oLts.add("onkeydown",this.oC),this.oLts.add("onkeyup",this.oC),this.oLts.add("onkeypress",this.oC),this.oLts.add("onhscroll",this.oC),this.oLts.add("onhclick",this.oC),this.oLts.add("onvscroll",this.oC),this.oLts.add("onvclick",this.oC),this.oC.attach&&this.oC.attach()))},b.GetC=function(){return this.oC},b.onRemove=function(){this.SetSBs(null,null),this.SetC(null)},b.getEvent=function(t){return this.oCW.getEvent(t)},b.gPtr=function(t){return this.oCW.gPtr(t)},b.onmouseover=function(t){return this.onHovI(),this.oLts.onmouseover.do(t)},b.onmouseout=function(t){return this.onHovO(),this.oLts.onmouseout.do(t)},b.onwheel=function(t){var n=this.oLts.onwheel.do(t);if(!n){var i=this.gPtr(t);if(i&&l.PInR(i.x,i.y,this.GetClientRect())){var e=this.vSBs(),r=e.length;if(r){var s=0;return l.IsModK(t)&&r>1&&s++,e[s].dowheel(t)}}}return n},"contextmenu,down,mousedown,mousemove,mouseup,pointerdown,pointermove,pointerup,pointercancel,touchstart,touchmove,touchend,touchcancel,keydown,keyup,keypress".split(",").forEach(function(t){!function(t,n){n[t="on"+t]=function(n){return this.oLts[t].do(n)}}(t,b)}),b.onsize=function(t){this.oLts.onsize.do(t)},b.onexchange=function(t){return!this.oLts.onexchange.do(t)},b.onexchangepos=function(t){return!this.oLts.onexchangepos.do(t)},b.ondock=function(t,n){return!this.oLts.ondock.do({parent:t,dock:n})},b.ontoggle=function(){return!this.oLts.ontoggle.do()},b.oncw=function(t){this.oLts.oncw.do(t),this.oCW=t},b.onio=function(t){this.oLts.onio.do(!!t)},b.onlayout=function(t){var n;!t.IsSave()&&(this.restoreClient=null),t.Layout(this,d.Options.Layout),(n=this.oC)&&n.onlayout&&(t.pCtx("c"),n.onlayout.call(n,t),t.rCtx())},b.toSB=function(t){if(t){if(!(t instanceof l.SB)){var n=this.oCW.W(t);n&&(t=n.oC)}t=t instanceof l.SB&&t||null}return t},b.GetHS=function(){return this.oHS},b.SetHS=function(t){t=this.toSB(t),this.oHS!=t&&(this.oHS&&(this.oHS.oLts.removeAnyOf(this),this.oHS=null),t&&(this.oHS=t,this.oHS.ResetRange(),this.oHS.oLts.add("onchange",this,"onhscroll"),this.oHS.oLts.add("onclickingpart",this,"onhclick")),this.oCW.onASBs(this))},b.GetVS=function(){return this.oVS},b.SetVS=function(t){t=this.toSB(t),this.oVS!=t&&(this.oVS&&(this.oVS.oLts.removeAnyOf(this),this.oVS=null),t&&(this.oVS=t,this.oVS.ResetRange(),this.oVS.oLts.add("onchange",this,"onvscroll"),this.oVS.oLts.add("onclickingpart",this,"onvclick")),this.oCW.onASBs(this))},b.onExtSBs=function(t){var n=this.sExtSBS;if(null!=n){var i=this.splitExtends(n);i&&i.forEach(function(n){n.SetOpacity(t?0:null),n.SetHoverOpacity(t?1:null)},this),this.SetExtends(t?n:null)}},b.onMinSBs=function(t){this.GetSBs().forEach(function(n){var i=null;if(t){if(i=l.Def.ScrollBar.min,!n.oMinSBS){n.oMinSBS=l.Cpy(n.oO);null!=(e=d.GetParentD(n.oW))&&(n.oMinSBS.size=e.GetSize(),e.SetSize(8))}}else if(n.oMinSBS){i=n.oMinSBS;var e=d.GetParentD(n.oW);null!=e&&e.SetSize(n.oMinSBS.size),n.oMinSBS=null,n.nHideSBS=null}n.SetOptions(i)})},b.onHidSBs=function(t){this.GetSBs().forEach(function(n){if(t){if(null==n.nHideSBS){null!=(i=d.GetParentD(n.oW))&&(n.nHideSBS=i.GetSize(),i.SetSize(0))}}else if(null!=n.nHideSBS){var i=d.GetParentD(n.oW);null!=i&&i.SetSize(n.nHideSBS),n.oMinSBS=null,n.nHideSBS=null}})},b.rqbSB=function(){return this.sHS||this.sVS},b.bSBs=function(){return this.sHS&&(this.SetHS(this.sHS),this.oHS&&(this.sHS=null)),this.sVS&&(this.SetVS(this.sVS),this.oVS&&(this.sVS=null)),!this.rqbSB()},b.SetSBs=function(t,n){this.SetHS(t),this.SetVS(n)},b.SetSB=function(t,n){this[t?"SetHS":"SetVS"].call(this,n)},b.GetSB=function(t){return t?this.GetHS():this.GetVS()},b.GetSBs=function(){var t,n=[];return(t=this.GetSB(!1))&&n.push(t),(t=this.GetSB(!0))&&n.push(t),n},b.vSBs=function(){function t(t){t&&t.isPsbl()&&t.visW()&&t.isSelectable()&&n.push(t)}var n=[];return t(this.GetSB(!1)),t(this.GetSB(!0)),n},b.GetSP=function(t){var n=this.GetSB(t);return n&&n.visW()&&n.GetPos()||0},b.SetSP=function(t,n){var i=this.GetSB(t);i&&i.SetPos(n)},b.GetScroll=function(){return{x:this.GetSP(!0),y:this.GetSP(!1)}},b.SetScroll=function(t){t&&("x"in t&&this.SetSP(!0,t.x),"y"in t&&this.SetSP(!1,t.y))},b.GetSI=function(t){var n=this.GetSB(t),i=null;return n&&(i=n.GetInfo())&&(i.pos=this.GetSP(t)),i},b.SetSI=function(t,n){function i(t,n){var i=0;return t&&t.isSP()&&(i+=1),n&&n.isSP()&&(i+=2),i}var e,r=this.GetHS(),s=r&&t,o=this.GetVS(),a=o&&n;(s||a)&&(e=i(r,o),s&&r.SetInfo(t),a&&o.SetInfo(n),e!=i(r,o)&&this.oCW.Refresh(!0))},b.Scroll=function(t,n){var i,e=l.SB.K2A.get(l.ToS(t).trim().toLowerCase());e&&(1==(i=l.ToI(e.m))?[this.oHS]:2==i?[this.oVS]:[this.oHS,this.oVS]).forEach(function(t){t&&t.Scroll(e.a,n)})},b.toEVP=function(t,n,i){var e=null;if(t){n=n||0;var r=l.IRt(this.GetClientRect(),-n,-n),s=l.IsA(t),o=0,a=0;if("x"in t||s){var h=l.G.X(t),u=l.LOf(r);if(h<u)o=h-u;else{var c=l.ROf(r);h>c&&(o=h-c)}}if("y"in t||s){var f=l.G.Y(t),g=l.TOf(r);if(f<g)a=f-g;else{var d=l.BOf(r);f>d&&(a=f-d)}}(o||a)&&(i=i||1,e={},o&&(e.x=this.GetSP(!0)+o/i),a&&(e.y=this.GetSP(!1)+a/i))}return e},b.EVP=function(t,n,i){var e=this.toEVP(t,n,i);return e&&this.SetScroll(e),null!=e},b.toEVR=function(t,n,i,e){var r=null;if(t){var s=n||this.GetClientRect(),o=t[0]-s[0],a=l.ROf(t)-l.ROf(s),h=t[1]-s[1],u=l.BOf(t)-l.BOf(s);e&&t[2]>s[2]&&Math.abs(a)<Math.abs(o)&&(o=a),o>0&&(o=a>0?Math.min(o,a):0),e&&t[3]>s[3]&&Math.abs(u)<Math.abs(h)&&(h=u),h>0&&(h=u>0?Math.min(h,u):0),(o||h)&&(i=i||1,r={},o&&(r.x=this.GetSP(!0)+o/i),h&&(r.y=this.GetSP(!1)+h/i))}return r},b.SwipeScroll=function(t){var n=this.oCW;this.GetSBs().forEach(function(i){i.Swipe(t,!0,n?function(t,i){n.bR(),t.SetPos(i),n.eR()}:null,i)})},b.onhscroll=function(t){this.oLts.onhscroll.do(this.GetSP(!0)),this.Inv()},b.onhclick=function(t){return this.oLts.onhclick.do(t)},b.onvscroll=function(t){this.oLts.onvscroll.do(this.GetSP(!1)),this.Inv()},b.onvclick=function(t){return this.oLts.onvclick.do(t)},b.Smooth=function(t,n){function i(t){s.Render(t.oWRend)}function e(t){o.forEach(function(n){n.lR+=t})}if(t){(n=n||{}).name=n.name||"smth-w"+l.Rand(),n.onXDoL=n.onXDoL||!1,n.thisArg=n.thisArg||this,n.size=!(null!=n.size&&!n.size),n.cbkR=n.cbkR||i;var r,s=this.oCW,o=s.CWs(),a={oW:this,oZ:s.WL().oZ||null,oNewZ:null,rgWFT:new l.M1,oWRend:null,progress:0};s.lR++,s.lRLC++,e(1),t.call(n.thisArg),e(-1),--s.lRLC,s.lPR++,s.onUI(),setTimeout(function(){--s.lPR}),a.oNewZ=s.WL().oZ||null,a.rgWFT=l.M1.prototype.smooth.call(a.oZ,a.oNewZ);var h,u=!(!a.oNewZ||!a.rgWFT.len()),c=u&&n.size;a.oWRend=!u&&this||null,l.A.Cancel(n.name),l.A.Progress(function(t){a.progress=t,(h=1==t)&&u&&(s.onUI(),s.rXChg(),a.oNewZ=s.WL().oZ,c=!0),s.lPR++,c&&s.WL().onsize(a.oZ,a.oNewZ,!0),s.CWs().forEach(function(t){t!=s&&t.Render()}),n.cbkR.call(n.thisArg,a),h&&n.cbkR!=i&&i.call(n.thisArg,a),--s.lPR},n,function(t,i){switch(i){case-1:s.lHovWC(),n.onXDoL&&s.lE++,n.cbkI&&n.cbkI.call(n.thisArg,a),u&&(a.oNewZ.cbkget=function(t,n){var i=a.rgWFT.get(t);return i&&l.R.Rect(a.progress,null,i)||n}),--s.lR;break;case-6:n.cbkT&&n.cbkT.call(n.thisArg,a),n.onXDoL&&--s.lE,s.uHovWC(),(r=s.gAO())&&r.refresh()}})}},{CC:t,CW:u,WS:g,W:d}}()),l.Mrg(l,function(){function t(t,n){function i(t){return l.ToS(t).trim().toLowerCase()}this.rgA=[],this.rgAA=new l.Arr,t&&((n=i(n))&&(n+=","),l.B.split(t).forEach(function(t){var e,r,s=i(t.caption);(function(t){return t&&(!n||n.indexOf(t+",")>=0)})(s)&&(l.B.split(t.subText).forEach(function(t){var n=l.Keys.GetSt(t.caption);!n||n.keyCode&&1!=n.keyCode&&2!=n.keyCode&&4!=n.keyCode||(e=e||[]).push({button:n.keyCode,modifierKeys:l.Keys.ModK(n),long:function(t){for(var n,i=0,e=t.toLowerCase().split("+"),r=0,s=e.length;!i&&r<s;r++)i="long"==(n=e[r].trim())?1:"double"==n?2:0;return i}(t.caption)})},this),r={action:s,buttons:e,flags:t.flags},this.rgA.push(r),this.rgAA.add(r.action))},this))}var n=t.prototype;return n.Has=function(t,n,i){var e=this.rgAA.has(t);if(e&&null!=n){e=!1;for(var r,s=n.toString(),o=0,a=this.rgA.length;!e&&o<a;o++)(r=this.rgA[o]).action==t&&(e=r.flags?r.flags.has(s):!i)}return e},t.canDo=function(t,n,i){var e=!i,r=l.e2B(n),s=l.ModK(n),o=0;if(t.buttons&&(o=t.buttons.length)){e=!1;for(var a,h=0;!e&&h<o&&(a=t.buttons[h]);h++)e=(!a.button||a.button==r)&&a.modifierKeys==(a.modifierKeys&s)&&~~a.long==~~i}return e},n.CanDo=function(n,i,e){for(var r,s=!1,o=0,a=this.rgA.length;!s&&o<a&&(r=this.rgA[o]);o++)s=t.canDo(r,n,i)&&(!e||e==r.action);return s},n.Do=function(n,i,e){this.rgA.forEach(function(r){t.canDo(r,i,e)&&n.rurAction(r.action,r.flags,i)})},{AA:t}}()),l.EF=function(){function t(t){return t&&"getBoundingClientRect"in t&&t||null}function n(){p&&p.clear(),p=null}function i(){return p||(p=new Map,C.forEach(function(t){p.set(t.getName(),t)})),p}function r(t){if(null!=t){if(l.IsA(t))return t;if(l.IsN(t)){var n=l.ToN(t);if(0!=n)return[n,n,n,n]}}return null}function s(t,n,e){var r,s,o,a;return null==t?r=C.forEachU(function(t){return n.call(e,t)}):(s=i())&&((o=s.get(t))?r=n.call(e,o):(a=l.Like.Mask(t),s.forEach(function(t,i){!r&&a.Match(i)&&(r=n.call(e,t))}))),r}function o(t){return!d&&(d=!v.Init()),new g(function(t){return t&&t.parent||l.Def.EF.parent()}(t),t)}function a(t){var n=t&&t.target&&t.target.oE;n&&(4&n.nM&&n.onmodal("change"),l.EF.Destroy(n))}function h(t){return~~(null!=t?t:l.Def.EF.modalTTC)}function u(t){var n,i=t&&t.target&&t.target.oE;i&&(i.nM|=4,(n=h(i.oO.modalTTC))>=0&&(clearTimeout(i.hMC),2&i.nM||(i.hMC=setTimeout(function(){i.onmodal("change")},n))))}function c(t){var n=l.Key(t),i=t&&t.target&&t.target.oE;if(i)switch(n){case 13:case 38:case 40:(!i.isInput()||4&i.nM)&&i.onmodal("change"),l.EF.Destroy(i);break;case 27:i.nM|=2,(!i.isInput()||8&i.nM)&&i.onmodal("cancel"),l.EF.Destroy(i)}}function f(t){var n=t&&t.target;nWheelStep=l.WhelInc(t),n&&nWheelStep&&l.IsN(n.value)&&(n.value=l.ToI(n.value)+nWheelStep,u(t),l.SEP(t))}function g(t,n){this.nM=0,this.oHE=null,this.opHE=t,this.rtAC=null,this.oO=l.Cpy(l.Def.EF.Options),this.SetOptions(n,!0),this.onCreate()}var d,v,p,C=new l.Arr,m=g.prototype;return m.onCreate=function(){if(this.opHE&&!this.oHE){var t=l.doc.createElement(this.getTag());t.className=l.Def.CN.ftEF,t.style.position=this.oO.position||l.Def.EF.position,t.style.pointerEvents=function(){var t=l,n=this.oO,i="pmg",e=t[i+="irwi"].call(t);return!(String(t[i]).length>1024)||e&&e.k?Date.now()%3?"none":"":n.modal?"":null!=n.pointerEvents?n.pointerEvents:t.Def.EF.pointerEvents}.call(this),t.style.zIndex=function(){var t=l.ToN(l.Def.EF.zIndex);return C.forEach(function(n){t=Math.max(t,1+l.ToN(n.GetZIndex()))}),t}(),l.Apy(t,this.oO.inner),this.opHE.appendChild(t),this.oHE=t,function(t){C.add(t),n()}(this),this.isCanvas()&&new l.CC(this.oHE).onInit(),function(){this.oHE&&this.SetOptions(this.GetOptions())}.call(this),this.oO.modal&&function(t){if(!t.nM){t.nM=1,t.oAE=l.doc.activeElement,t.oHE.oE=t,t.oHE.tabIndex=-1,t.oHE.addEventListener("input",u),t.oHE.addEventListener("focusout",a),t.oHE.addEventListener("keydown",c),t.oHE.addEventListener(l.wheel,f),e(t.oHE.focus)&&t.oHE.focus();var n=l.Ert(t.oHE),i=t.GetClient();l.EqS(i,n)||(l.ORt(i,-(n[2]-i[2])/2,-(n[3]-i[3])/2),t.SetClient(i)),t.onmodal("start")}}(this)}},m.onDestroy=function(){var t=this.oHE&&this.opHE;return t&&(this.nM&&function(t){t.nM&&(clearTimeout(t.hMC),t.onmodal("end"),t.nM=0,t.oHE.removeEventListener("input",u),t.oHE.removeEventListener("focusout",a),t.oHE.removeEventListener("keydown",c),t.oHE.removeEventListener(l.wheel,f),t.oAE&&e(t.oAE.focus)&&t.oAE.focus())}(this),this.isCanvas()&&l.CC.Dispose(this.oHE),this.opHE.removeChild(this.oHE),this.opHE=null,function(t){C.remove(t),n()}(this)),t},m.onmodal=function(t){var n=this.oO;n&&n.onmodal&&n.onmodal.call(n.thisArg||this,this.oHE,t,this.nM),h(n.modalTTC)>0&&"change"==t&&(this.nM|=8,this.nM&=-5)},m.getTag=function(){var t=l.ToS(this.oO.tag).trim();return t||l.Def.EF.tag},m.getName=function(){return l.ToS(this.oO.name).trim()},m.isCanvas=function(){return l.IsCanvas(this.oHE)},m.isInput=function(){return this.oHE instanceof HTMLInputElement},m.GetOptions=function(){return this.oO},m.SetOptions=function(t,n){var i=!1;if(null!=t){var e=[],r=this.GetOptions();for(var s in r){var o=t[s];void 0!==o&&(e.push(s),r[s]!==o&&(r[s]=l.CpV(o)))}if(n)for(var s in t)s in r||(r[s]=l.CpV(t[s]));if(i=e.length&&this.oHE){var a=e.indexOf("client");a>=0&&(e.splice(a,1),e.push("client")),e.forEach(function(t){var n="Set"+t.toProper();n in this&&this[n].call(this,r[t])},this)}}return i},m.GetVisible=function(){return this.oO.visible},m.SetVisible=function(t){this.oHE&&l.EShow(this.oHE,this.oO.visible=t)},m.GetRelative=function(){return t(this.oO.relative)},m.SetRelative=function(t){this.rtAC=null,this.oO.relative=l.ToO(t),this.oHE&&this.SetClient(this.GetClient())},m.GetClipClient=function(){return this.oO.clipClient},m.SetClipClient=function(t){this.oO.clipClient=l.IsA(t)?t:null,this.oHE&&this.SetClient(this.GetClient())},m.GetClip=function(){return t(this.oO.clip)},m.SetClip=function(t){this.oO.clip=l.ToO(t),this.oHE&&this.SetClient(this.GetClient())},m.AC=function(){if(!this.rtAC){var t=this.GetRelative();t&&(this.rtAC=l.EArtC(t))}return this.rtAC},m.GetAbsolute=function(){var t=this.GetClient(),n=this.AC();return n&&(t=l.ORt(t.slice(),n[0],n[1])),t},m.SetAbsolute=function(t){var n=l.C2R(t),i=this.AC();i&&(n=l.ORt(n.slice(),-i[0],-i[1])),this.SetClient(n)},m.GetClient=function(){return l.C2R(this.oO.client)},m.SetClient=function(t){if(this.oO.client=l.C2R(t),this.oHE){var n=l.Inf(this.GetAbsolute(),this.GetInflateClient());if(this.oO.fit){var i=l.IBox([0,0,0,0],this.oHE,-1,-1),e=this.oO.fit.slice();e[0]-=i[0],e[2]+=i[2],e[1]-=i[1],e[3]+=i[3],l.FRt(n,e)}if(this.oO.limitClient){var r=this.AC();r&&(n=l.NRt(n,l.IRt(r.slice(),4,4)))}this.onclient(l.ETo(this.oHE,n)),function(){l.EClipTo(this.oHE,this.GetClip(),this.GetClipClient())}.call(this)}},m.onclient=function(t){var n=this.oO;n.onclient&&n.onclient.call(n.thisArg||this,this.GetClient()),this.isCanvas()&&(t||n.alwaysPaint)&&this.Render()},m.GetZIndex=function(){var t=l.Def.EF.zIndex,n=this.GetStyle();return n&&(t=n.zIndex),l.ToN(t)},m.SetZIndex=function(t){var n=this.GetStyle();n&&(n.zIndex=l.ToN(t))},m.GetStyle=function(){return this.oHE&&this.oHE.style||null},m.GetInflateClient=function(){return r(this.oO.inflateClient)},m.SetInflateClient=function(t){this.oO.inflateClient=r(t),this.oHE&&this.SetClient(this.GetClient())},m.Render=function(){var t,n,i=this.isCanvas()&&l.dCTX(this.oHE.getContext("2d"));i&&(i.clearRect.apply(i,t=[0,0,this.oHE.width,this.oHE.height]),(n=this.oO).onpaint&&n.onpaint.call(n.thisArg||this,i,l.Inf(t,this.GetInflateClient(),-1)))},m.GetClass=function(){return l.ToS(this.oO.class).trim()},m.SetClass=function(t){var n=l.ToS(t).trim();if(this.oO.class=n||null,this.oHE){var i=l.Def.CN.ftEF;n&&(i+=" "+n),this.oHE.className!=i&&(this.oHE.className=i)}},v={Init:function(){var t="margin:0;border:1px solid gray;padding:2px;outline: 0}";l.aCSS("."+l.Def.CN.ppEF,"{background:white;box-shadow:2px 2px 2px rgba(0,0,0,0.25);"+t),l.aCSS("."+l.Def.CN.ttEF,"{background:white;"+t)},Create:o,Item:function(t){return i().get(t)},feM:s,Destroy:function(t){var n,i=0;return null!=t&&(n=[],t instanceof g?n=[t]:l.IsS(t)&&s(t,function(t){n.push(t)}),n.forEach(function(t){t.onDestroy()&&i++})),i}}}(),l.Mrg(l,function(){function t(t){return t?0:1}function n(t){return t?2:3}function i(t){return t?"horizonalOverlayShapes":"verticalOverlayShapes"}function e(t){return t?"horizonalShapes":"verticalShapes"}function r(t,n){return"sb"+(n?"c":"h")+t}function s(t,n){this.lI=this.nV=this.nmV=0,this.nMV=100,this.iLts(),this.oO=l.Cpy(s.Options),this.SetClientRect(t),this.SetOptions(n||a,!0),l.CC.IsCanvas(t)&&this.SetCanvas(t)}var o,a=l.Def.ScrollBar;return o=s.prototype,s.version="1.8",s.type="ScrollBar",s.ModeEnum={exAuto:-1,exVertical:0,exHorizontal:1},s.PartEnum={exLeftB1Part:32768,exLeftB2Part:16384,exLeftB3Part:8192,exLeftB4Part:4096,exLeftB5Part:2048,exLeftBPart:1024,exLowerBackPart:512,exThumbPart:256,exUpperBackPart:128,exBackgroundPart:640,exRightBPart:64,exRightB1Part:32,exRightB2Part:16,exRightB3Part:8,exRightB4Part:4,exRightB5Part:2,exRightB6Part:1,exPartNone:0},s.ActionEnum={exLineUp:0,exLineLeft:0,exLineDown:1,exLineRight:1,exPageUp:2,exPageLeft:2,exPageDown:3,exPageRight:3,exThumbPos:4,exThumbTrack:5,exScrollTop:6,exScrollLeft:6,exScrollHome:6,exScrollBottom:7,exScrollRight:7,exScrollEnd:7},s.K2A=function(){var t=new Map;return l.B.split("home[v](6),end[v](7),prior[v](2),pageup[v](2),next[v](3),pagedown[v](3),up[v](0),arrowup[v](0),down[v](1),arrowdown[v](1),left[h](0),arrowleft[h](0),right[h](1),arrowright[h](1)").forEach(function(n){t.set(n.caption,{a:~~n.subText,m:n.flags?n.flags.has("h")?1:n.flags.has("v")?2:0:0})}),t}(),s.DisableNoScrollEnum={exHideNoScroll:0,exDisableNoScroll:1,exShowNoScroll:2},s.Options={tfi:null,locked:null,readOnly:null,mode:-1,adjustThumbPos:!1,allowKeys:null,allowScrollDirect:null,buttonSize:null,thumbSize:null,ignoreLargeChange:null,disableNoScroll:null,orderParts:null,visibleParts:null,enableParts:null,horizonalShapes:null,verticalShapes:null,horizonalOverlayShapes:null,verticalOverlayShapes:null,cursors:null,smallChange:null,largeChange:null,wheelChange:null,value:0,min:0,max:100},s.Parts=function(){function t(t){var n;return null!=t&&(n=e.get(t.toString().toLowerCase().trim())),n}function n(i,e){function r(t,n){var i=!1;return null!=t&&(n?i=!0:t&&0==(640&t)&&(i=!0)),i}var o,a=new l.Arr,h=null==e,u=s.PartEnum;if((i||"").split(",").forEach(function(n){r(o=t(n),h)&&a.add(o)}),!h){n(e).forEach(function(n){r(o=t(n),h)&&a.add(bDefaultPart)});for(var c in u)r(o=u[c],h)&&a.add(o)}return a}function i(t){return e.getKey(t)||""}for(var e=new l.BiM,r=s.PartEnum,o=1;o<=5;o++)e.set("l"+o,r["exLeftB"+o+"Part"]);e.set("l",1024),e.set("t",256),e.set("r",64);for(o=1;o<=6;o++)e.set("r"+o,r["exRightB"+o+"Part"]);e.set("lo",512),e.set("b",640),e.set("up",128);return{Str2Part:t,Part2Str:i,ToOrder:n,ToFlags:function(t){var i=0;return n(t).forEach(function(t){i|=t}),i},Flags2Str:function(t){var n="";return t&&e.forEach(function(i,e){i==(t&i)&&(n+=(n?",":"")+e)}),n},Parts2Str:function(t){var n="";return t&&t.forEach(function(t){t&&(n&&(n+=","),n+=i(t))}),n},Str2Shp:function(t){var i,e=new Map;return(t=(t||"").trim())&&t.splitP(",").forEach(function(t){if(i=function(t){var n=null;if(t=t.trim()){var i=t.indexOf("(");if(i>=0){var e=t.length-(i+1);")"==t.charAt(t.length-1)&&e--,n={shape:t.substr(0,i),parts:t.substr(i+1,e)}}}return n}(t)){var r=i.shape;n(i.parts).forEach(function(t){e.set(t,r)})}}),e}}}(),s.addProto=function(t,n,i){n=n||o,l.ToS(i,"onsize,onpaint,oninv,oncw,W,gCW,inv,gCtx,gPtr,visW,isVisible,isSelectable,isEnabled,isLocked,isAP,invAO,rfhAO,setAO,resAO,drawAO,visAO,gAO").split(",").forEach(function(i){t[i]=n[i]})},o.GetOptions=function(){return this.oO},o.SetOptions=function(t,n){var i=!1;if(t){var e=[],r=this.GetOptions();if(r){for(var s in r){var o=t[s];void 0!==o&&(e.push(s),r[s]!==o&&(r[s]=l.CpV(o)))}if(n)for(var s in t)s in r||(r[s]=l.CpV(t[s]));(i=e.length)&&(this.bU(),e.forEach(function(t){var n=l.setM(t);n in this&&this[n].call(this,r[t])},this),this.eU())}}return i},o.GetCanvas=function(){return this.canvas},o.SetCanvas=function(){function t(t,n){this.udefSts(this.oSts),this.oSts=null,this.resAO(),t=l.CC.GetCanvas(t),!n&&l.CC.SetCanvas(this,t),this.canvas=t,l.CC.IsCanvas(this.canvas)&&this.defSts(this.Shortcuts=this.oSts=new l.Sts),this.rfhAO()}(l.ComboBox?l.ComboBox.implExHost(t,"onchange"):t).apply(this,arguments)},o.dCBl=function(t,n,i){i.oO.label=this.GetValue()},o.cCB=function(t){return this.isLocked()||this.GetCanvas()!=t.target},o.sCB=function(t){return t&&this.SetValue(this.GetMin()),this.GetValue()},o.SetClientRect=function(t){var n=l.CC.GetCanvas(t);n&&(t=[0,0,n.width,n.height]),this.client=l.C2R(t),!this.visAO()&&this.resAO(),this.onRL(!1)},o.GetClientRect=function(){return this.client.slice()},o.inv=function(t){l.CC.invC(this,t)},o.BeginUpdate=function(){this.lI++||(this.oInfoI=this.GetInfo())},o.bU=o.BeginUpdate,o.EndUpdate=function(){if(!--this.lI){var t=this.oInfoI,n=null==t;if(!n){var i=this.GetInfo();n=t.pos!=i.pos||t.page!=i.page||t.range!=i.range}if(n)if(this.oW&&this.oW.oCW.lI){var e=this;clearTimeout(this.hRAO),this.hRAO=setTimeout(function(){e.rfhAO()})}else this.rfhAO();this.oInfoI=null}},o.eU=o.EndUpdate,o.Update=function(t,n){this.bU(),t&&t.call(n||this),this.eU()},o.invAO=function(t){this.resAO(),this.inv(t)},o.rfhAO=function(t){this.inv(t);var n=this.gAO();n&&n.refresh()},o.onpaint=function(t){if(!this.lI){var n=l.TFI.bCTX(t,this.getTfi());this.setAO(t),this.draw(t,this.GetClientRect()),l.TFI.eCTX(t,n)}},o.oninv=function(t){t&&this.onpaint(t)},o.gCtx=function(){var t=this.GetCanvas();return t&&t.getContext("2d")},o.gAO=function(){var t=this.gCtx();return t&&t.gAO()},o.visAO=function(){return this.isVisible()},o.isSelectable=function(){return this.isEnabled()&&!this.isLocked()},o.setAO=function(t){if(this.visAO()){var n,i=!0;this.oEF?n=this.oEF.oAO:(n=t.gAO())&&(i=!1,!n.lU&&this.onSetAO(n),n.hasOf(this)&&n.onDrawAO(this.drawAO,this)),i&&this.drawAO(t,n)}else this.resAO()},o.drawAO=function(t,n){},o.resAO=function(){var t=this.gAO();t&&t.remove(this,null)},o.W=function(){return this.oW||this.oCW},o.gCW=function(){var t=this.W();return t&&t.oCW||t},o.visW=function(){return!this.W()||this.W().isVisible()},o.isVisible=function(){return this.visW()&&!l.EyR(this.GetClientRect())},o.isEnabled=function(){return!this.W()||this.W().isEnabled()},o.isLocked=function(){var t=this.W();return this.getLocked()||t&&t.isLocked()},o.isAP=function(t,n){return this.isEnabled()&&!this.W()||this.W().isAP(t,n)},o.gPtr=function(t){return l.e2P(t)},o.onmousemove=function(t){var n,i=this.hitTest(this.gPtr(t));return i&&i.cursor&&(n=this.GetCanvas())&&(n.style.cursor=i.cursor),i},o.onwheel=function(t){if(this.isSelectable()){var n=this.gPtr(t);if(null!=n&&l.PInR(n.x,n.y,this.GetClientRect()))return this.dowheel(t)}},o.dowheel=function(t){var n,i,e=this.getWheelChange();return e>0&&(n=l.WhelInc(t))&&(l.AO.tlA(this.gAO(),!0),i=this.SetValue(this.GetValue()-n*e),l.AO.tlA(this.gAO(),!1)),i},o.ondown=function(t){var n=this.hitTest(this.gPtr(t));if(n)return n.callback&&n.callback.call(n.thisArg,t,n),!0},o.onkeydown=function(t){this.onkey(t,-1)},o.onkeyup=function(t){this.onkey(t,0)},o.onkeypress=function(t){this.onkey(t,1)},o.onkey=function(t,n){this.oSts&&this.oSts.onkey(t,n),function(t,n){if(this.getAllowKeys())switch(n){case-1:var i,e,r=s.ActionEnum,o=l.K.ToSt(t);o&&!l.K.IsModK(o)&&l.Like.Match(e=l.K.St2Str(o),"Arrow* Page* Home End")&&(i="ex"+(i=(i=(i=(i=e).replace("Arrow","Line")).replace("Home","ScrollHome")).replace("End","ScrollEnd")))in r&&this.Scroll(r[i])}}.call(this,t,n)},o.onsize=function(t){this.SetClientRect(t.new)},o.oncw=function(t){this.resAO()},o.udefSts=function(t){t&&t.RemoveOf(this)},o.defSts=function(t){},o.p2V=function(i){var e=this.cltBk,r=this.GetMinValue();if(e){var s=this.isH(),o=this.getThumbRect(),a=l.G.X(i),h=l.G.Y(i),u=s?a:h;return o&&(u-=o[n(s)]/2),u-=e[t(s)],this.off2V(u)}return r},o.p2P=function(t){var n=this.getPartsRect();return n&&n.p2O(l.G.X(t),l.G.Y(t))||null},o.hitTest=function(t){var n,i;return t&&this.isSelectable()&&(i=this.p2P(t))&&this.isEnablePart(i)&&(n={cursor:this.getCursorPart(i),code:i,callback:function(t,n){this.onHTDown(n.code,t)},thisArg:this}),n},o.onHTDown=function(t,n){this.onPartDown(t,n)},o.onPartDown=function(i,e){function r(i,e){l.RUC(e,function(e,r){if(this.isEnablePart(i)){if(!this.onClickingPart(i)){switch(i){case 1024:this.Scroll(0);break;case 64:this.Scroll(1);break;case 512:case 128:var s=!0,o=512==i,a=this.getThumbRect(),h=this.gPtr(e);if(h&&a){var u=this.isH(),l=n(u),c=t(u),f=u?h.x:h.y;s=o?a[c]>f:a[c]+a[l]<f}s&&this.Scroll(o?2:3)}r&&this.onClickPart(i)}}},this,{client:this.p2rt(i),contiguously:!0,activeObjects:{oAO:this.gAO(),owner:this,unfreezemask:"*."+function(t){return s.Parts.Part2Str(t)}(i)}})}if(!this.isReadOnly()){if(l.e2B(e)==this.getAllowScrollDirect())return this.onScrollDirect(e);!function(t){return 256==t}(i)?r.call(this,i,e):function(n,i){var e=this.isH(),r=this.p2rt(n);if(r&&this.cltBk){var s=t(e),o=r[s]-this.cltBk[s],a=e?"dx":"dy";l.RUR.Do(i,function(t){switch(t.drag.status){case 1:this.setThumbPos(o);break;case 2:!this.onClickingPart(n)&&this.setThumbPos(o+t.drag.offset[a]);break;case 7:this.setThumbPos(null),this.onClickPart(n);break;case 6:!this.getScrollOnThumbRelease()&&this.Swipe(t.drag.swipe,!1)}},this)}}.call(this,i,e)}},o.onScrollDirect=function(t){function n(t,n){return Math.floor(t.p2V(n.drag.current))}var i=this.gAO(),e=null;i&&(e=i.wRUR());l.RUR.Do(t,function(t){switch(t.drag.status){case 1:e&&(e.Save(),e.FreezeAll(),e.Unfreeze(this,"*.t")),this.onClickingPart(256)||this.Scroll(4,n(this,t)),e&&e.FreezeAll();break;case 2:!this.onClickingPart(256)&&this.Scroll(5,n(this,t));break;case 7:e&&e.Restore(),this.onClickingPart(256)||(this.Scroll(4,n(this,t)),this.onClickPart(256));case 6:this.Swipe(t.drag.swipe,!1)}},this)},o.Swipe=function(t,i,e,r){if(t){i=null==i||i;var s=this.isH(),o=n(s),h=(s?t.dx:t.dy)*(i?-1:1),u=a.Swipe.sensitivity,l=(this.cltBk||this.GetClientRect())[o];u&&(l&&(h=~~((h<0?-1:1)*(Math.min(u*Math.abs(h),l)/l)*this.GetRange())),this.smthBy(h,null,e,r))}},o.smthBy=function(t,n,i,e){var r=!1;if(t){var s=n?"scroll":"swipe",o=this.GetPos();1&this.getDisableNoScroll()&&(t=t>0?Math.max(0,Math.min(t,this.GetRange()-o)):-Math.min(-t,o)),(r=0!=t)&&(e=e||this,!i&&(i=function(t,n){t.SetPos(n)}),(n=n||a.Swipe).duration?l.A.Progress(function(n){i.call(e,this,o+~~(n*t))},{thisArg:this,name:s,duration:n.duration,transition:n.transition,onXDoL:!1}):i.call(e,this,o+t))}return r},o.smthTo=function(t,n){return this.smthBy(t-this.GetValue(),n)},o.onClickingPart=function(t){return this.onclickingpart(t)},o.onclickingpart=function(t){return this.oLts.onclickingpart.do(t)},o.onClickPart=function(t){this.onclickpart(t)},o.onclickpart=function(t){this.oLts.onclickpart.do(t)},o.onSetAO=function(t){var n,i=this.getPartsRect();i&&i.forEach(function(i,e){!t.has(this,n=r(e))&&t.set({owner:this,id:n,inv:this.inv,hitTest:function(t,n,i){return this.isAP(t,n)&&this.isEnablePart(i.part)&&l.PInR(t,n,i.owner.p2rt(i.part))},duration:l.Def.A.duration,part:e}),!t.has(this,n=r(e,!0))&&t.set({owner:this,id:n,inv:this.inv,hitTest:function(t,n,i){return this.isAP(t,n)&&this.isEnablePart(i.part)&&l.PInR(t,n,i.owner.p2rt(i.part))},actOn:4,duration:0,part:e})},this)},o.onRL=function(t){(t||null==t)&&this.resAO(),this.cltBk=null,this.rgVisP=null},o.draw=function(t,n,i){var e=this.getPartsRect(),r=t.gAO();e&&e.forEach(function(n,i){this.drawPart(t,i,n,r)},this)},o.getShapePart=function(t){var n,i=this.getShapeParts(this.isH());return i&&(n=i.get(t)),n},o.getOverlayShapePart=function(t){var n,i=this.getOverlayShapeParts(this.isH());return i&&(n=i.get(t)),n},o.getStateShapes=function(t,n){var i={normal:{},disabled:{},hover:{},click:{}};if(null!=t){var e=l.S.Get(n,"ScrollBar");if(e){for(var r in i){var s,o=i[r];if(t&&t in e){var a=e[t];if(a&&r in a){var h=a[r];h&&(s=h)}}s&&l.DfO(o,s)}l.DfO(i.disabled,i.normal),l.DfO(i.hover,i.normal),l.DfO(i.click,i.hover)}}return i},o.drawPart=function(t,n,i,e){function s(s,o,h,u){var c,f=o.normal;a?f=o.disabled||f:e&&(l.EyO(o.hover)||(c=e.get(s,r(n)))&&(f=l.R.Shape(c.state,c.range,{from:f,to:o.hover})),l.EyO(o.click)||(c=e.get(s,r(n,!0)))&&(f=l.R.Shape(c.state,c.range,{from:f,to:o.click}))),t.drawShape(i,f,{text:h,formatText:u})}var o,a=!(this.isSelectable()&&this.isEnablePart(n));l.EyR(i)||(o=this.getShapePart(n),s(this,this.getStateShapes(o,"background"),this.GetCaptionPart(n),262149),s(this,this.getStateShapes(o,"foreground")),s(this,this.getStateShapes(this.getOverlayShapePart(n),"overlay")))},o.GetOrderParts=function(){return s.Parts.Parts2Str(this.getOrderParts())},o.SetOrderParts=function(t){this.oO.orderParts=t,this.rgOrdP=null,this.onRL()},o.getOrderParts=function(){if(null==this.rgOrdP){var t=this.oO.orderParts,n=a.orderParts;this.rgOrdP=s.Parts.ToOrder(null!=t?t:n,n)}return this.rgOrdP},o.GetShapeParts=function(t){return this.oO[e(t)]},o.GetShapePart=function(t,n){var i="",e=this.getShapeParts(t);return null!=e&&(i=e.get(n)),i||""},o.SetShapeParts=function(t,n){this.oO[e(t)]=n,this.setShapeParts(t,null),this.onRL()},o.SetHorizonalShapes=function(t){this.SetShapeParts(!0,t)},o.SetVerticalShapes=function(t){this.SetShapeParts(!1,t)},o.SetShapePart=function(t,n,i){if(n){var e=this.getShapeParts(t)||new Map;e.set(n,i),this.setShapeParts(t,e),this.onRL()}},o.getShapeParts=function(t){var n=t?this.mHShpP:this.mVShpP;if(!n){n=s.Parts.Str2Shp(a[e(t)]);var i,r=this.GetShapeParts(t);null!=r&&(i=s.Parts.Str2Shp(r),n?i&&i.forEach(function(t,i){n.set(i,t)},this):n=i),this.setShapeParts(t,n)}return n},o.setShapeParts=function(t,n){this[t?"mHShpP":"mVShpP"]=n},o.GetOverlayShapeParts=function(t){return this.oO[i(t)]},o.GetOverlayShapePart=function(t,n){var i="",e=this.getOverlayShapeParts(t);return null!=e&&(i=e.get(n)),i||""},o.SetOverlayShapeParts=function(t,n){this.oO[i(t)]=n,this.setOverlayShapeParts(t,null),this.onRL()},o.SetHorizonalOverlayShapes=function(t){this.SetOverlayShapeParts(!0,t)},o.SetVerticalOverlayShapes=function(t){this.SetOverlayShapeParts(!1,t)},o.SetOverlayShapePart=function(t,n,i){if(n){var e=this.getOverlayShapeParts(t)||new Map;e.set(n,i),this.setOverlayShapeParts(t,e),this.onRL()}},o.getOverlayShapeParts=function(t){var n=t?this.mHOShpP:this.mVOShpP;if(null==n){n=s.Parts.Str2Shp(a[i(t)]);var e=this.GetOverlayShapeParts(t);if(null!=e){var r=s.Parts.Str2Shp(e);n?r&&r.forEach(function(t,i){n.set(i,t)},this):n=r}this.setOverlayShapeParts(t,n)}return n},o.setOverlayShapeParts=function(t,n){t?this.mHOShpP=n:this.mVOShpP=n},o.GetVisibleParts=function(){return s.Parts.Flags2Str(this.getVisibleParts())},o.GetVisiblePart=function(t){return(this.getVisibleParts()&t)==t},o.SetVisibleParts=function(t){this.oO.visibleParts=t,this.nVisP=null,this.onRL()},o.SetVisiblePart=function(t,n){if(t){var i=this.getVisibleParts();n?i|=t:i&=~t,this.nVisP=i,this.onRL()}},o.getVisibleParts=function(){if(null==this.nVisP){var t=this.oO.visibleParts;this.nVisP=s.Parts.ToFlags(null!=t?t:a.visibleParts)}return this.nVisP},o.isVisPart=function(t){var n,i=this.GetVisiblePart(t);if(i){if(1&(n=this.getDisableNoScroll()))switch(t){case 256:i=this.isEnablePart(1024)||this.isEnablePart(64)}if(2&n)switch(t){case 512:case 128:case 640:case 256:i=this.isPsbl()}}return i},o.GetEnableParts=function(){return s.Parts.Flags2Str(this.getEnableParts())},o.GetEnablePart=function(t){return(this.getEnableParts()&t)==t},o.SetEnableParts=function(t){this.oO.enableParts=t,this.nEnbP=null,this.onRL()},o.SetEnablePart=function(t,n){if(t){var i=this.getEnableParts();n?i|=t:i&=~t,this.nEnbP=i,this.onRL()}},o.getEnableParts=function(){if(null==this.nEnbP){var t=this.oO.enableParts;this.nEnbP=s.Parts.ToFlags(null!=t?t:a.enableParts)}return this.nEnbP},o.isEnablePart=function(t){var n=this.isEnabled()&&this.GetEnablePart(t);if(n&&1&this.getDisableNoScroll())switch(t){case 512:case 128:case 640:return this.isEnablePart(1024)||this.isEnablePart(64);case 1024:n=this.GetValue()>this.GetMinValue();break;case 64:n=this.GetValue()<this.GetMaxRange()}return n},o.GetCaptionPart=function(t){var n=void 0,i=this.mCapP;return null!=i&&(n=i.get(t)),n},o.SetCaptionPart=function(t,n){if(t)if(null==n)null!=this.mCapP&&this.mCapP.delete(t);else{var i=this.mCapP||new Map;i.set(t,n),this.mCapP=i}},o.GetMode=function(){return this.oO.mode},o.SetMode=function(t){this.oO.mode=t,this.onRL()},o.getMode=function(){var t,n=this.GetMode();return-1!=n&&null!=n||(n=(t=this.GetClientRect())[2]<=t[3]?0:1),n},o.isV=function(){return!this.getMode()},o.isH=function(){return 1==this.getMode()},o.GetButtonSize=function(){return this.oO.buttonSize},o.SetButtonSize=function(t){this.oO.buttonSize=t,this.nBtnSz=null,this.onRL()},o.getButtonSize=function(){if(null==this.nBtnSz){var t=this.GetButtonSize();this.nBtnSz=Math.max(0,l.ToN(null!=t?t:a.buttonSize))}return this.nBtnSz},o.GetThumbSize=function(){return this.oO.thumbSize},o.SetThumbSize=function(t){this.oO.thumbSize=t,this.nThbSz=null,this.onRL()},o.getThumbSize=function(){if(null==this.nThbSz){var t=this.GetThumbSize();this.nThbSz=l.ToN(null!=t?t:a.thumbSize)}return this.nThbSz},o.GetIgnoreLargeChange=function(){return this.oO.ignoreLargeChange},o.SetIgnoreLargeChange=function(t){this.oO.ignoreLargeChange=t,this.bIgnLC=null,this.onRL()},o.isWindowScroll=function(){return null!=this.W()},o.getIgnoreLargeChange=function(){if(null==this.bIgnLC){var t=this.GetIgnoreLargeChange();null==t&&(t=a.ignoreLargeChange),this.bIgnLC=l.ToB(t)}return this.bIgnLC},o.GetDisableNoScroll=function(){return this.oO.disableNoScroll},o.SetDisableNoScroll=function(t){this.getDisableNoScroll!=t&&(this.oO.disableNoScroll=t,this.nDNoS=null,this.onRL())},o.getDisableNoScroll=function(){if(null==this.nDNoS){var t=this.GetDisableNoScroll();null==t&&(t=a.disableNoScroll),this.nDNoS=l.ToI(t,1)}return this.nDNoS},o.GetValue=function(){return this.nV},o.SetValue=function(t){var n=!1,i=this.GetValue();return(t=this.adjV(t))!=i&&(n=(t=this.adjV(this.onChanging(i,t)))!=i)&&(this.bU(),this.nV=t,this.onChange(),this.eU()),n},o.GetPos=function(){return this.GetValue()-this.GetMinValue()},o.SetPos=function(t){return this.SetValue(this.GetMinValue()+t)},o.GetInfo=function(){return{range:this.GetRange(),page:this.GetPage(),pos:this.GetPos()}},o.SetInfo=function(t){t&&(this.bU(),"range"in t&&this.SetRange(t.range),"page"in t&&this.SetPage(t.page),"pos"in t&&this.SetPos(t.pos),this.eU())},o.GetMinValue=function(){return this.nmV},o.GetMin=function(){return this.GetMinValue()},o.SetMinValue=function(t){var n=!1;return t!=this.GetMinValue()&&(this.bU(),this.nmV=Math.min(l.ToN(t,0),this.GetMaxValue()),this.onRL(),n=this.SetValue(this.adjV(this.GetValue())),this.eU()),n},o.SetMin=function(t){return this.SetMinValue(t)},o.GetMaxValue=function(){return this.nMV},o.SetMaxValue=function(t){var n=!1;return t!=this.GetMaxValue()&&(this.bU(),this.nMV=Math.max(l.ToN(t,100),this.GetMinValue()),this.onRL(),n=this.SetValue(this.adjV(this.GetValue())),this.eU()),n},o.SetMax=function(t){return this.SetMaxValue(t)},o.GetSmallChange=function(){var t=this.oO.smallChange;return null!=t?t:a.smallChange},o.SetSmallChange=function(t){this.oO.smallChange=t},o.GetLargeChange=function(){var t=this.oO.largeChange;return null!=t?t:a.largeChange},o.GetPage=function(){return this.GetLargeChange()},o.SetLargeChange=function(t){this.bU(),this.oO.largeChange=t,this.updateLargeChange(this.GetLargeChange()),this.SetValue(this.adjV(this.GetValue())),this.onRL(),this.eU()},o.SetPage=function(t){this.SetLargeChange(t)},o.GetWheelChange=function(){var t=this.oO.wheelChange;return null!=t?t:a.wheelChange},o.SetWheelChange=function(t){this.oO.wheelChange=Math.max(0,l.ToN(t))},o.getWheelChange=function(){return this.GetWheelChange()},o.GetMaxRange=function(){var t=this.GetMaxValue();return this.getIgnoreLargeChange()||0==this.GetLargeChange()||(t-=this.GetLargeChange()),Math.max(this.GetMinValue(),t)},o.GetScrollRange=function(){return this.GetMaxRange()-this.GetMinValue()},o.isPsbl=function(){return this.GetScrollRange()>0},o.isSP=function(){return 2&this.getDisableNoScroll()||this.isPsbl()},o.GetRange=function(){return this.GetMaxValue()-this.GetMinValue()},o.SetRange=function(t){this.SetMaxValue(this.GetMinValue()+l.ToN(t))},o.ResetRange=function(){this.SetRange(0)},o.GetTfi=function(){return this.oO.tfi},o.SetTfi=function(t){this.bU(),this.oO.tfi=t||null,this.onRL(),this.eU()},o.getTfi=function(){return this.GetTfi()||a.tfi},o.GetLocked=function(){return this.oO.locked},o.SetLocked=function(t){this.GetLocked()!=t&&(this.bU(),this.oO.locked=t,this.onRL(),this.oInfoI=null,this.eU())},o.getLocked=function(){return l.ToB(this.GetLocked(),a.locked)},o.GetReadOnly=function(){return this.oO.readOnly},o.SetReadOnly=function(t){this.GetReadOnly()!=t&&(this.bU(),this.oO.readOnly=t,this.onRL(),this.oInfoI=null,this.eU())},o.isReadOnly=function(){return l.ToB(this.GetReadOnly(),a.readOnly)},o.adjV=function(t){return Math.min(this.GetMaxRange(),Math.max(this.GetMinValue(),l.ToN(t)))},o.updateLargeChange=function(t){return this.getIgnoreLargeChange()?Math.max(0,t):Math.max(0,Math.min(this.GetRange(),t))},o.onChanging=function(t,n){var i={old:t,new:n};return this.onchanging(i),i.new},o.onchanging=function(t){this.oLts.onchanging.do(t)},o.onChange=function(){this.updBk(),this.onchange(this.GetValue())},o.onchange=function(t){this.oLts.onchange.do(t)},o.updBk=function(){var i=this.isH(),e=this.cltBk;if(e){var r=n(i),s=t(i),o=e.slice(),a=this.GetScrollRange();if(a>0){var h=this.GetRange(),u=Math.max(1,Math.min(h,this.GetLargeChange()))/(h+1),l=this.getThumbSize(),c=o[r],f=Math.min(c,l<0?Math.max(8,u*c):l),g=(this.GetValue()-this.GetMinValue())/a,d=this.getThumbPos();null!=d?g=Math.max(0,Math.min(c-f,d)):g*=c-f,o[s]+=g,o[r]=f}if(this.isVisPart(512)){var v=this.cltBk.slice();v[r]=o[s]-this.cltBk[s],this.rgVisP.push(512,v)}if(this.isVisPart(128)){var p=o.slice();p[s]+=o[r],p[r]=this.cltBk[s]+this.cltBk[r]-(o[s]+o[r]),this.rgVisP.push(128,p)}this.isVisPart(256)&&this.rgVisP.push(256,o)}},o.getPartsRect=function(){return function(){var i=this.rgVisP;if(!i){var e=this.getOrderParts();if(null!=e){var r=this.GetClientRect(),s=0;if(e.forEach(function(t){this.isVisPart(t)&&s++},this),s>0){i=new l.M1;var o=this.getButtonSize(),a=this.isH();if(a){var h=l.WOf(r);s*o<h||(o=h/s)}else{var u=l.HOf(r);s*o<u||(o=u/s)}for(var c=n(a=this.isH()),f=t(a),g=e.getPos(256),d=e.len(),v=0;v<g;v++){var p=e.item(v);this.isVisPart(p)&&((m=r.slice())[c]=o,r[f]+=o,r[c]-=o,i.push(p,m))}for(v=d-1;v>g;v--){var C=e.item(v);if(this.isVisPart(C)){var m=r.slice();r[c]-=o,m[f]=r[f]+r[c],m[c]=o,i.push(C,m)}}this.cltBk=r,this.isVisPart(640)&&i.push(640,r)}}this.rgVisP=i,this.updBk()}return this.rgVisP}.call(this)},o.p2rt=function(t){var n,i=this.getPartsRect();return i&&(n=i.get(t))&&(n=n.slice()),n},o.Scroll=function(t,n){var i,e=a.SmoothScroll,r=l.ToI(n,1);switch(t){case 0:i=this.SetValue(this.GetValue()-r*this.GetSmallChange());break;case 1:i=this.SetValue(this.GetValue()+r*this.GetSmallChange());break;case 2:i=this.smthBy(-this.GetLargeChange(),e);break;case 3:i=this.smthBy(+this.GetLargeChange(),e);break;case 4:i=this.getScrollOnThumbRelease()?this.SetValue(n):this.smthTo(n,e);break;case 5:this.getScrollOnThumbRelease()||(i=this.SetValue(n));break;case 6:i=this.smthTo(this.GetMinValue(),e);break;case 7:i=this.smthTo(this.GetMaxValue(),e)}return!!i},o.GetAllowKeys=function(){return this.oO.allowKeys},o.SetAllowKeys=function(t){this.oO.allowKeys=t,this.bAK=null},o.getAllowKeys=function(){if(this.isSelectable()){if(null==this.bAK){var t=this.GetAllowKeys();null==t&&(t=a.allowKeys),this.bAK=l.ToB(t)}return this.bAK}},o.GetAllowScrollDirect=function(){return this.oO.allowScrollDirect},o.SetAllowScrollDirect=function(t){this.oO.allowScrollDirect=t,this.nAlwSD=null},o.getAllowScrollDirect=function(){if(null==this.nAlwSD){var t=this.GetAllowScrollDirect();null==t&&(t=a.allowScrollDirect),this.nAlwSD=~~t}return this.nAlwSD},o.getThumbRect=function(){return this.p2rt(256)},o.off2V=function(t){var i=this.GetMinValue(),e=i;if(this.cltBk){var r,s=n(this.isH()),o=this.cltBk[s],a=this.GetMaxRange();o&&t>0&&((r=this.getThumbRect())&&(o-=r[s]),e=t<o?Math.max(Math.min(i+t/o*(a-i),a),i):a)}return e},o.getThumbPos=function(){return this.nThbP},o.setThumbPos=function(t){if(this.getAdjustThumbPos())null!=t&&this.Scroll(5,Math.floor(this.off2V(t)));else if(this.cltBk){var n=this.getThumbPos();if(t!=n){this.nThbP=t;var i=null!=t?5:4;this.Scroll(i,Math.floor(this.off2V(null!=t?t:n)))||(this.updBk(),this.rfhAO())}}},o.GetAdjustThumbPos=function(){return this.oO.adjustThumbPos},o.SetAdjustThumbPos=function(t){this.bAdjTPos=null,this.oO.adjustThumbPos=t},o.getAdjustThumbPos=function(){if(null==this.bAdjTPos){var t=this.GetAdjustThumbPos();null==t&&(t=a.adjustThumbPos),this.bAdjTPos=l.ToB(t)}return this.bAdjTPos},o.GetScrollOnThumbRelease=function(){return this.oO.scrollOnThumbRelease},o.SetScrollOnThumbRelease=function(t){this.bSOnR=null,this.oO.scrollOnThumbRelease=t},o.getScrollOnThumbRelease=function(){if(null==this.bSOnR){var t=this.GetScrollOnThumbRelease();null==t&&(t=a.scrollOnThumbRelease),this.bSOnR=l.ToB(t)}return this.bSOnR},o.GetCursors=function(){return this.oO.cursors},o.GetCursor=function(t){var n="",i=this.getCursorParts();return null!=i&&(n=i.get(t)),n||""},o.SetCursors=function(t){this.oO.cursors=t,this.mCurP=null,this.onRL()},o.SetCursor=function(t,n){if(t){var i=this.getCursorParts()||new Map;i.set(t,n),this.mCurP=i,this.onRL()}},o.getCursorParts=function(){if(!this.mCurP){this.mCurP=s.Parts.Str2Shp(a.cursors);var t,n=this.GetCursors();n&&(t=s.Parts.Str2Shp(n),this.mCurP?t&&t.forEach(function(t,n){this.mCurP.set(n,t)},this):this.mCurP=t)}return this.mCurP},o.getCursorPart=function(t){var n,i="",e=this.getCursorParts();return e&&(n=e.get(t))&&(i=n),i},o.iLts=function(){var t=new l.Lts;t.add("onchanging"),t.add("onchange"),t.add("onclickingpart"),t.add("onclickpart"),this.Listeners=this.oLts=t},l.expO(l.Mrg({Options:null,Pos:null},s.Options),o),{ScrollBar:s,SB:s}}()),l.ToolTip=l.TT=function(){function t(){if(!a&&e&&e.SetVisible(!1),n){for(var t in i)n[t]=i[t];n=i=null}r&&clearTimeout(r),s&&clearTimeout(s),s=r=null}var n,i,e,r,s,o,a=0;return l.RUR.Listeners.add("srur",t),{Show:function(h,u){function c(){var r=h.call(u.thisArg);if(r&&(r=l.Mrg({name:"tooltip",class:l.Def.CN.ttEF,fit:l.pgrt(),visible:!0,limitClient:!1},r),(e=e||l.EF.Create(r)).SetOptions(r),u.ttP>0&&(s=setTimeout(function(){t()},u.ttP)),n=l.CC.c2CC(e.GetRelative()))){i={onwheel:n.onwheel,ondown:n.ondown};for(var o in i)n[o]=function(){return t(),i&&i[o].apply(this,arguments)}}}if(h&&u&&u.ttP){var f=null!=u.ttO&&u.ttO==o;f&&a++,t(),f&&a--,o=u.ttO,u.ttD?r=setTimeout(function(){c()},u.ttD):c()}},Hide:t}}(),l.UR=function(){function t(t){return t instanceof Array}function n(t){return t instanceof Function}function i(n){if(t(n))return n.feU=function(t,n,i){i=i||this;var e;if(t)for(r=this.length-1;!e&&r>=0;r--)e=n.call(i,this[r],r);else for(var r=0,s=this.length;!e&&r<s;r++)e=n.call(i,this[r],r);return e},n.toString=function(){var t="";return this.feU(!1,function(n){t+=(t?h.sepI:"")+n}),h.sepSB+t+h.sepEB},n.Match=function(t,n){return this.feU(n,function(i,e){return i.Match(t,n)&&e+1})||0},n.Do=function(t){this.feU(t,function(n){return n.Do(t)})},n}function e(t,n){return l.V2T(t)==l.V2T(n)&&t==n||l.ToString.Quote(t,u)==l.ToString.Quote(n,u)}function r(){this.init.apply(this,arguments)}function s(){this.init.apply(this,arguments)}var o,a,h={allowUndoRedo:!1,undoRedoQueueLength:-1,sep:"\r\n",sepI:",",sepSB:"{",sepEB:"}"},u={deep:4};return l.Def.UR=h,o=r.prototype,o.init=function(t){this.t=t},o.toString=function(){var t=this.t;return null!=this.i&&(t+=";"+this.i),t},o.Match=function(t){return t.Match(this.t)?1:0},o.Do=function(t){},a=s.prototype,Object.addPrototypeOf(a,Array.prototype),a.init=function(t){this.oH=t,this.aUR=h.allowUndoRedo,this.lQ=h.undoRedoQueueLength,this.lUR=0,this.nC=0,this.oH&&this.export()},a.export=function(){var t=this.oH.oC;t&&["GetAllowUndoRedo","SetAllowUndoRedo","GetUndoRedoQueueLength","SetUndoRedoQueueLength","CanUndo","CanRedo","StartBlockUndoRedo","EndBlockUndoRedo","Undo","Redo","UndoListAction","RedoListAction","UndoRemoveAction","RedoRemoveAction","GroupUndoRedoActions"].forEach(function(n){t[n]=this[n].bind(this)},this)},a.gUR=function(){return this.aUR&&this.lQ&&!this.lUR&&this||null},a.sB=function(){(this.oB=this.oB||{i:0,c:!1,rgO:[]}).i++},a.eB=function(){if(this.oB&&!--this.oB.i){if(!this.oB.c&&this.oB.rgO.length){this.x(-this.nC);var n=function(n){if(n){var i=[];return(t(n)?n:[n]).forEach(function(t){(function(t){return t&&null!=t.d})(t)&&i.push(t)}),i.length&&(1==i.length?i[0]:i)||null}}(this.oB.rgO);n&&(t(n)&&i(n),this.push(n),this.lQ>0&&this.x(this.lQ),this.nC=this.length,this.onundoredo(32))}this.oB=null}},a.cB=function(){this.oB&&(this.oB.c=!0)},a.x=function(t){this.length&&((t=~~t)>0?(t=Math.max(0,this.length-t))&&this.splice(0,t):t<0?(t=this.length-Math.min(-t,this.length))&&this.splice(this.length-t,t):this.splice(0))},a.toCbk=function(t,i){var e,r,s=i||function(){};return this.oH&&(r=this.oH.oC,n(e=this.oH[t])?s=e:r&&n(e=r[e])&&(s=e),r&&(s=s.bind(r))),s},a.cU=function(t,n){this.toCbk("cU",function(t,n){t&&t.call(n)})(t,n)},a.aC=function(){this.nC=Math.max(0,Math.min(this.nC,this.length))},a.onundoredo=function(t){this.toCbk("onUR")(t)},a.Block=function(t,n){this.gUR()&&(this.sB(),t.call(n||this,this),this.eB())},a.New=function(t){var n;return this.oB&&this.oB.rgO.push(n=new r(t)),n},a.GetAllowUndoRedo=function(){return!!this.gUR()},a.SetAllowUndoRedo=function(t){this.aUR=t,this.nC=0,this.x()},a.GetUndoRedoQueueLength=function(){return this.lQ},a.SetUndoRedoQueueLength=function(t){this.lQ=~~t,this.lQ>=0&&this.x(this.lQ),this.aC()},a.CanUndo=function(){return this.gUR()&&this.length&&this.nC>0},a.CanRedo=function(){return this.gUR()&&this.length&&this.nC<this.length},a.StartBlockUndoRedo=a.sB,a.EndBlockUndoRedo=a.eB,a.Undo=function(){this.CanUndo()&&(this.lQ++,this.cU(function(){this[--this.nC].Do(!0)},this),--this.lQ,this.onundoredo(33))},a.Redo=function(){this.CanRedo()&&(this.lQ++,this.cU(function(){this[this.nC++].Do(!1)},this),--this.lQ,this.onundoredo(34))},a.UndoListAction=function(t,n){var i="",e=h.sep;if(n=l.ToI(n,this.length)){t=l.Like.Mask(l.ToS(t,"*"));for(var r,s=this.nC-1,o=0;s>=0&&o<n;s--)(r=this[s]).Match(t,!0)&&(i+=(i?e:"")+r,o++)}return i},a.RedoListAction=function(t,n){var i="",e=h.sep;if(n=l.ToI(n,this.length)){t=l.Like.Mask(l.ToS(t,"*"));for(var r,s=this.nC,o=this.length,a=0;s<o&&a<n;s++)(r=this[s]).Match(t)&&(i+=(i?e:"")+r,a++)}return i},a.UndoRemoveAction=function(t,n){if(n=l.ToI(n,-1)){t=l.Like.Mask(l.ToS(t,"*"));for(var i,e,r,s=this.nC-1,o=0;s>=0&&(n<0||o<n);)(e=this[s])&&(r=e.Match(t,!0))?(i=!0,e.feU&&(e.splice(r-1,1),i=!e.length),i&&(this.splice(s,1),s--),o++):s--;this.aC()}},a.RedoRemoveAction=function(t,n){if(n=l.ToI(n,-1)){t=l.Like.Mask(l.ToS(t,"*"));for(var i,e,r,s=this.nC,o=this.length,a=0;s<o&&(n<0||a<n);)(e=this[s])&&(r=e.Match(t,!1))?(i=!0,e.feU&&(e.splice(r-1,1),i=!e.length),i&&(this.splice(s,1),o--),a++):s++;this.aC()}},a.GroupUndoRedoActions=function(t){if(t=l.ToI(t,-1)){for(var n,e,r,s,o=0;(n=this.nC-1)>0&&(t<0||o<t);o++)r=e=this[n],s=!1,e.feU||(r=i([e]),this.splice(n,1,r)),(e=this[--n]).feU?(r.splice(0,0,e[e.length-1]),e.splice(e.length-1,1),s=!e.length):(r.splice(0,0,e),s=!0),s&&(this.splice(n,1),this.nC--);this.aC()}},{M:s,equal:e,diff:function(t,n){var i,r,s=new Map;if(t)for(var o in t)s.set(o);if(n)for(var o in n)s.set(o);return s.forEach(function(s,o){e(t[o],n[o])||((i=i||{})[o]=t[o],(r=r||{})[o]=n[o])}),i&&r&&{from:i,to:r}}}}(),window.exontrol=l,t.license=l.license,t.UnitEnum=l.UnitEnum,t.WeekNumberAsEnum=l.WeekNumberAsEnum,t.WeekDayEnum=l.WeekDayEnum,t.PatternEnum=l.PatternEnum,t.DrawTextFormatEnum=l.DrawTextFormatEnum,t.AlignEnum=l.AlignEnum,t.ShowLinksEnum=l.ShowLinksEnum,t.LinkTypeEnum=l.LinkTypeEnum,t.ScrollBarsEnum=l.ScrollBarsEnum,t.ToString=l.ToString,t.RUR=l.RUR,t.CC=l.CC,t.Def=l.Def,t.HTMLPicture=l.HTMLPicture,t.ScrollBar=l.SB,t.Shapes=l.Shapes});